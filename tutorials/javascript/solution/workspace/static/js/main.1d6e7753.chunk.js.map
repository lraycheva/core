{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../../src/config/index.ts","../../src/config/checkSingleton.ts","../../src/enterprise/index.ts","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/windows/protocol.ts","../../node_modules/callback-registry/lib/index.js","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../src/notifications/protocol.ts","../../node_modules/shortid/lib/random/random-from-seed.js","../../node_modules/shortid/lib/alphabet.js","../../node_modules/shortid/lib/random/random-byte-browser.js","../../node_modules/nanoid/format.browser.js","../../node_modules/shortid/lib/generate.js","../../node_modules/shortid/lib/build.js","../../node_modules/shortid/lib/is-valid.js","../../node_modules/shortid/index.js","../../node_modules/shortid/lib/index.js","../../src/notifications/controller.ts","../../src/intents/protocol.ts","../../src/intents/controller.ts","../../src/channels/controller.ts","../../src/system/protocol.ts","../../src/system/controller.ts","../../src/notifications/notification.ts","../../src/extension/protocol.ts","../../src/extension/decoders.ts","../../src/extension/controller.ts","../../src/shared/dispatcher.ts","../../src/shared/constants.ts","../../src/communication/preferred.ts","../../src/shared/ioc.ts","../../../core/dist/core.es.js","../../src/index.ts","../../src/web.ts","App.tsx","reportWebVitals.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/main.ts","index.tsx"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","ApplicationItem","_a","appName","onClick","React","preventDefault","className","ApplicationsList","glue","inLane","parent","hidePopup","searchTerm","updatePopupHeight","filter","filterApps","isActivity","isShell","type","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","id","title","name","toLowerCase","map","key","callback","w","workspaceWindow","focus","unsub","onWindowLoaded","workspace","addGroup","children","newGroup","addWindow","console","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","props","window","useContext","GlueContext","Error","workspaceId","boxId","resizePopup","_b","useState","_c","setParent","_d","setSearchTerm","containerRef","createRef","shouldUpdate","workspaces","getWorkspaceById","myWorkspace","getBox","getAllWorkspaces","allWorkspaces","find","refreshPopupHeight","containerHeight","current","getBoundingClientRect","height","width","ref","placeholder","onChange","target","Feedback","message","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","frameId","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","layouts","summary","layoutName","restoreWorkspace","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","checked","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","setTitle","error","instance","agm","payload","operation","operationArguments","invoke","returned","layout","downloadElement","document","createElement","data","encodeURIComponent","JSON","stringify","append","setAttribute","click","remove","err","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","o","c","globalThis","global","self","path","exports","require","config","container","controls","errors","items","utils","F","extend","createObject","contructor","objectKeys","keys","getHashValue","location","hash","match","RegExp","getQueryStringParam","search","substr","split","copy","animFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Int8Array","isFunction","toString","fnBind","Function","bind","concat","slice","removeFromArray","splice","moveInArray","getBounds","now","Date","getTime","getUniqueId","Math","random","replace","filterXss","stripTags","trim","idAsString","isArray","isCustomWorkspaceTab","_layoutManager","settings","mode","_componentFactory","createWorkspaceTabs","EventEmitter","_mSubscriptions","ALL_EVENT","on","fn","ctx","emit","unshift","unbind","off","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","timeout","destroy","button","_getCoordinates","x","one","_timeout","_startDrag","abs","clearTimeout","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_ignorePinned","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","_maximizeContainers","ready","callDownwards","element","forEach","_dragListener","_element","_itemConfig","createContentItem","componentName","join","Root","createPopout","l","h","u","isRoot","addId","isNaN","screenX","screenLeft","screenY","screenTop","left","offset","top","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimiseItem","after","prepend","removeId","_$closeWindow","close","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","allowDrop","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","side","_$calculateItemAreas","_getAllContentItems","isStack","workspacesConfig","contentItem","_contentAreaDimensions","header","highlightArea","_dropSegment","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","max","floor","_findAllStackContainers","_addChildContentItemsToContainer","getItemsByFilter","isMaximized","responsiveMode","addChild","removeChild","_findAllStackContainersRecursive","isComponent","restoreMaximizedContainers","hasId","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","workspaceInnerDrag","borderWidth","borderGrabWidth","minItemHeight","maxItemHeight","maxItemWidth","dragProxyWidth","dragProxyHeight","maximize","restore","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","_calculateRelativeSizes","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","clientWidth","clientHeight","_dimensions","_parentId","_indexInParent","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","href","moveTo","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_dragProxy","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","createBeforeGroupTabs","groupId","elementId","createAfterGroupTabs","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","moveTab","_syncContentItemOrder","removeTab","setActiveContentItem","setActive","activeItemIndex","position","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","parseInt","z-index","margin-left","[object Object]","reduce","isPinned","_action","Splitter","_isVertical","_size","_grabSize","_createElement","_customTabTemplate","_elementOffset","_xOfLastReorder","titleElement","closeElement","isActive","TabDragListener","_onReorderStart","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","createWorkspaceTabsOptions","pin","_getLastIndexOfPinnedTab","min","unpin","windowId","allowExtract","_onReorder","_onReorderStop","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","minWidth","maxWidth","minHeight","maxHeight","_$shown","shown","_containerElement","getMinWidth","getMaxWidth","getMinHeight","getMaxHeight","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","ceil","totalWidth","totalHeight","pinnedSize","round","_respectItemWidthConstraints","_respectItemHeightConstraints","m","C","_isRow","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","horizontal","vertical","_getMaximumDimensions","_setMinMaxSplitterPosition","allowSplitters","_activeContentItem","_dropZones","_dropIndex","createId","_$validateClosability","realHeight","wrapper","clone","_getItemToFocusAfterRemove","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","allowDropHeader","right","bottom","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventType","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","reorderTimeout","_startReorder","_inReorder","_stopReorder","errorHandling","add","includes","execute","clear","clearKey","_idToLayout","workspaceLayout","getByContainerIdCore","getById","windows","mergeWindows","hibernatedWindows","lastActive","some","getWorkspaceContentItem","values","_workspaceLayout","containerElement","setupEvents","visibleTabs","getTabWidth","from","refreshTabClasses","MutationObserver","classList","contains","handleTabCountChanged","removedNodes","addedNodes","attributeName","handleTabHeaderResized","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","characterData","characterDataOldValue","disconnect","isTabPinned","visibilityState","logo","workspaceTabs","addWorkspace","systemButtons","workspaceContents","beforeGroupTabs","afterGroupTabs","callbackRegistry","componentsFactory","_decoratedFactory","observer","getWorkspaceIdFromContents","style","display","decoratedFactory","isSelected","changeSelectedState","onWorkspaceClosed","removeWorkspaceTabs","createWorkspaceContents","removeWorkspaceContents","subscribeForWorkspaceContentsVisibility","removeBeforeGroupTabs","onGroupClosed","removeAfterGroupTabs","updateWorkspaceTabs","generate","icon","showSaveButton","showCloseButton","getElementById","lastSelectedWorkspaceTab","stateResolver","windowContentItem","index","getByWindowId","url","getUserFriendlyParent","itemId","isFocused","isLoaded","positionIndex","widthInPx","heightInPx","getSummaryCore","isWorkspaceSelected","cachedBounds","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtact","populateChildrenAllowSplitters","showMaximizeButton","showEjectButton","showAddWindowButton","getByContainerId","getUserFriendlyType","findElementInConfig","workspaceContentItem","getWindowSummarySync","transformComponentsToWindowSummary","getContainerSummary","transformParentsToContainerSummary","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","hibernateConfig","tabIndex","findIndex","isHibernated","showAddWindowButtons","showEjectButtons","showWindowCloseButtons","getPropertyFromConfig","populateChildrenAllowExtract","populateChildrenShowAddWindowButtons","populateChildrenShowEjectButtons","populateChildrenShowWindowCloseButtons","parentElement","hibernatedWorkspaceIconLabel","workspaceTab","getWorkspaceTabElement","hasClass","HibernationIconClass","hideWorkspaceSaveButton","showWorkspaceIconButton","hideWorkspaceIconButton","showWorkspaceSaveButton","SaveWorkspaceButtonLabel","innerHTML","getElementsByTagName","appendChild","getWindowContentItem","getContainer","showWindowCloseButton","hideWindowCloseButton","hideEjectButton","hideAddWindowButton","hasTransition","pseudoElement","removeEventListener","addEventListener","getComputedStyle","getPropertyValue","W","E","I","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","getImmediateChildEmptyWindow","_options","_emitter","_stateResolver","_configFactory","_frameId","_showLoadingIndicator","showLoadingIndicator","_tabObserver","initWorkspaceConfig","refreshLayoutSize","all","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","workspaceIds","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","resetWorkspace","getContainerConfig","getWorkspaceLayoutComponentName","getWorkspaceTitle","getWorkspaceTitles","selected","registerWorkspaceComponent","hideWorkspaceCloseButton","replaceWorkspaceSaveButtonWithIcon","waitForTransition","refreshTabsMaxWidth","removeLayout","reuseWorkspaceId","setWorkspaceTitle","getWorkspaceLayoutItemById","removeById","item","showAddButton","getDragElement","setDragElementSize","hasMaximizedItems","waitForWindowContainer","getElementsByClassName","showWorkspaceCloseButton","hideWindowCloseButtons","hideEjectButtons","hideAddWindowButtons","hideMaximizeButton","validateRowHeight","resizeComponentCore","validateColumnWidth","validateStackWidth","validateStackHeight","unpinWorkspace","pinWorkspace","validateComponentWidth","validateComponentHeight","addOrUpdate","signal","promise","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","onclick","args","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","catch","getElementByClass","waitForLayout","composedPath","activeElement","blur","syncWorkspaceOrder","onOuterLayoutContainerResized","onContentContainerResized","parentType","log","S","T","B","D","lastIndexOf","M","R","H","dt","A","get","characters","seed","lookup","shuffled","crypto","msCrypto","L","getRandomValues","Uint8Array","O","LN2","pow","N","test","worker","isValid","q","_idToFrame","_glue","startCore","contentWindow","postMessage","glue42core","setImmediate","loading","src","URL","protocol","waitForWindow","onWindowAdded","list","G","LAST_SESSION_KEY","sessionStorage","U","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","V","resolver","_configConverter","_constraintsValidator","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","getAll","export","components","state","fixWorkspace","metadata","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","set","getWorkspaceConfig","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","findById","getContext","application","details","getWindowLayoutState","layoutState","contexts","X","_layoutEventEmitter","frameController","converter","waitForWindowContentItem","frameSummary","getFrameSummary","getWorkspaceSnapshot","getFrameConstraints","getFrameSnapshot","hasFrame","visualViewport","offsetLeft","offsetTop","getRendererWindowBounds","Y","_pattern","sort","J","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","loadingStrategy","Z","registry","action","Q","flat","convertToRendererConfigCore","convertToApiConfigCore","z","K","applyDefaultRendererConfig","every","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","tt","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","et","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","ot","askForSettings","interop","decorateCommunicationId","domain","communicationId","it","_frameController","_manager","_delayedExecutor","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","defaultStrategy","getComponentsByVisibility","visibleComponents","start","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","interval","initialDelay","initialOffsetInterval","waitFor","onLoaded","onFailed","getTitleByAppName","vaidateTitle","getUrlByAppName","getURL","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","maximizeTab","selectionChanged","raiseFailed","closeTab","nt","actionsInProgress","splitInBatches","executeBatch","st","getAllItemsFromWorkspace","areConstraintsValid","getConstraintsFromItem","validateWorkspace","rt","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","extractWindowSummariesFromSnapshot","getWorkspaceSummary","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","setInitialWorkspaceConfig","getActiveWorkspace","reinitializeWorkspace","delete","maximizeContainer","maximizeWindow","restoreContainer","restoreWindow","closeWorkspace","closeContainer","cleanIsPinned","addContainer","applyIsPinned","setWindowTitle","closeItem","reuseId","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","my","_context","isInitialized","initializationContext","removeLayoutElement","removeWindow","generateLayout","hideHibernatedIcon","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","disableWorkspaceAddWindowButtons","enableWorkspaceAddWindowButtons","disableWorkspaceEjectButtons","enableWorkspaceEjectButtons","disableWorkspaceWindowCloseButtons","enableWorkspaceWindowCloseButtons","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","windowPlacementId","disableWindowExtract","enableWindowExtract","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","resizeWorkspaceItem","peerId","isWindowMaximized","resizeRow","resizeColumn","resizeStack","resizeComponent","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onItemDropped","onSelectionChanged","onWorkspaceAdded","handleOnWorkspaceAdded","onWorkspaceSelectionChanged","selectionChangedDeep","isWindowVisible","onAddButtonClicked","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onContainerMaximized","onContainerRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","refreshWorkspaceSize","onContentItemRemoved","notifyGroupClosed","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","checkForEmptyWorkspace","notifyWorkspaceClosed","getSnapshot","startDelayed","startDirect","startLazy","isPlatformFrame","handleOnWorkspaceAddedWithSnapshot","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableRowSplitters","enableRowSplitters","disableColumnDrop","enableColumnDrop","disableColumnSplitters","enableColumnSplitters","workspaceSnapshot","at","manager","doesContainerContainLockingProperties","lockContainer","doesWorkspaceContainLockingProperties","lockWorkspace","doesWindowContainLockingProperties","lockWindow","getItemFromWorkspace","isLockingPropertySet","showExtractButton","showExtractButtons","ct","_inDisposing","_controlPromise","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleResizeItem","handlePinWorkspace","handleUnpinWorkspace","handleGetWorkspaceIcon","handleSetWorkspaceIcon","handleInitFrame","handleCreateFrame","handleControl","_workspacesControlMethod","_workspacesEventMethod","_converter","_locker","_constraintValidator","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","finally","registerAsync","openWorkspace","restoreOptions","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","definition","fixNewContainer","applyContainerLockConfiguration","fixNewWindow","applyWindowLockConfiguration","convertCreateWorkspaceArgumentsToWorkspaceItem","applyLockConfiguration","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","move","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","resizeItem","getWorkspaceIcon","setWorkspaceIcon","convertLayoutOptionsToWorkspaceItem","layoutsManager","initFrameLayout","setFrameContext","methods","lt","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","end","expando","isReady","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","String","fromCharCode","charCodeAt","_t","disabled","nodeName","dir","childNodes","ownerDocument","qsa","wt","scope","yt","querySelectorAll","removeAttribute","cacheLength","shift","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","documentElement","setDocument","defaultView","attachEvent","createComment","getElementsByName","getAttributeNode","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","has","lang","hasFocus","enabled","selectedIndex","empty","input","nth","radio","checkbox","file","password","image","submit","reset","vt","Ct","It","kt","bt","filters","tokenize","compile","selector","defaultValue","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","fail","Callbacks","once","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","defineProperty","configurable","access","hasData","removeData","_data","_removeData","queue","dequeue","_queueHooks","stop","clearQueue","source","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","xt","Wt","Et","event","St","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","Event","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","enumerable","writable","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Tt","Bt","Dt","Mt","At","Pt","Lt","Ot","Rt","_evalUrl","Ht","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","Ft","zt","$t","Nt","jt","pixelBoxStyles","qt","cssText","marginLeft","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Gt","Ut","Vt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ee","getClientRects","oe","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","isFinite","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","fx","scrollTop","scrollLeft","linear","swing","cos","PI","ie","ne","se","re","ae","hidden","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","we","ve","removeProp","propFix","for","class","toggleClass","ye","val","valHooks","focusin","_e","Ce","parentWindow","simulate","triggerHandler","Ie","ke","be","parseXML","DOMParser","parseFromString","xe","We","Ee","Se","Te","param","serialize","serializeArray","Be","De","Me","Ae","Pe","Le","Oe","Re","He","Fe","ze","$e","dataTypes","Ne","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","processData","async","contentType","accepts","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","send","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ge","Ue","Ve","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","proxy","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","positions","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","len","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","shouldInit","template","onCreateLogoRequested","onCreateWorkspaceTabRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateBeforeGroupTabsRequested","createGroupTabs","onCreateGroupTabRequested","onCreateAfterGroupTabsRequested","createGroupHeaderButtons","onCreateGroupHeaderButtonsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onUpdateWorkspaceTabsRequested","onRemoveWorkspaceTabsRequested","onRemoveWorkspaceContentsRequested","onRemoveBeforeGroupTabsRequested","removeGroupTab","onRemoveGroupTabRequested","onRemoveAfterGroupTabsRequested","removeGroupHeaderButtons","onRemoveGroupHeaderButtonsRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","_this","workspaceTabsObj","acc","previousObj","beforeGroupTabsZones","beforeTabsZonesObj","afterGroupTabsZones","afterTabsZonesObj","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","newTabElementsObj","wc","LogoCustomElement","LogoComponent","TabComponent","WorkspaceTabComponent","onSaveClick","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","BeforeGroupTabsComponent","containers","group","BeforeTabs","AfterGroupTabsComponent","AfterTabs","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","WorkspacesElementCreationWrapper","_x","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderWorkspaceTabs","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorkspaceContents","renderBeforeGroupTabs","renderAfterGroupTabs","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","WorkspacesWrapper","onCreateBeforeGroupTabsComponentRequested","onCreateAfterGroupTabsComponentRequested","onUpdateWorkspaceTabRequested","onRemoveWorkspaceTabRequested","onRemoveBeforeTabsComponentRequested","onRemoveAfterTabsComponentRequested","onHideSystemPopups","logger","gateway","webPlatform","libraries","parseConfig","isPlatformInternal","port","combined","systemLogger","level","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","channels","Glue","ok","asPromise","withDefault","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","paths","prependAt","newAt","rest","Decoder","decode","kind","runPromise","runWithException","where","errorMessage","succeed","string","number","boolean","constant","object","decoders","obj","undefined","array","decoder","arr","err$$1","decodeValue_1","tuple","union","ad","bd","_i","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","operations","openWindow","dataDecoder","openWindowConfigDecoder","resultDecoder","coreWindowDataDecoder","windowHello","windowHelloDecoder","helloSuccessDecoder","windowAdded","windowRemoved","simpleWindowDecoder","windowBoundsResultDecoder","getFrameBounds","frameWindowBoundsResultDecoder","getUrl","windowUrlResultDecoder","moveResize","windowMoveResizeConfigDecoder","windowTitleConfigDecoder","createRegistry","_userErrorHandler","callbacks","callbacksForKey","WebWindowModel","_name","_bridge","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","subscribe","api","resizeTo","updateContext","setContext","onContextUpdated","dimension","targetBounds","boundsDecoder","commandArgs","nonNegativeNumberDecoder","ttl","nonEmptyStringDecoder","anyDecoder","update","WindowsController","allWindowProjections","coreGlue","ioc","subLogger","trace","publicWindowId","actualWindowId","addWindowOperationExecutors","bridge","platformRegistration","registerWithPlatform","toApi","operationName","windowOperationTypesDecoder","operationData","windowOpenSettingsDecoder","windowSuccess","buildWebWindow","projection","onWindowRemoved","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","isWorkspaceFrame","myWindow","currentWindows","webWindowProjection","removed","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","timeoutMilliseconds","timeoutMessage","promiseActive","executor","appHello","appHelloSuccessDecoder","appDirectoryStateChange","appDirectoryStateChangeDecoder","instanceStarted","instanceDataDecoder","instanceStopped","applicationStart","applicationStartConfigDecoder","instanceStop","basicInstanceDataDecoder","appRemoveConfigDecoder","appsExportOperationDecoder","AppManagerController","baseApplicationsTimeoutMS","appImportTimeoutMS","addOperationsExecutors","appManagerOperationTypesDecoder","startOptions","waitForAGMReady","relativeTo","relativeDirection","forceChromeTab","forceTab","openResult","applicationName","buildInstance","myInstance","inMemory","getApplication","getApplications","getInstances","onAppAdded","onAppChanged","onAppRemoved","onInstanceStarted","onInstanceStopped","handleAppDirectoryStateChange","handleInstanceStartedMessage","handleInstanceStoppedMessage","appsAdded","handleApplicationAddedMessage","appsChanged","handleApplicationChangedMessage","appsRemoved","handleApplicationRemovedMessage","appData","buildApplication","appIndex","version","instanceData","instIdx","inst","instIdxApps","definitions","importModeDecoder","parseResult","soFar","decodeResult","allApplicationDefinitionsDecoder","valid","invalid","responseTimeout","methodResponseTimeoutMs","imported","verifiedName","apps","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","controller","startApplication","layoutAdded","glueLayoutDecoder","layoutChanged","layoutRemoved","simpleLayoutConfigDecoder","optionalSimpleLayoutResult","getAllLayoutsConfigDecoder","allLayoutsSummariesResultDecoder","allLayoutsFullConfigDecoder","layoutsImportConfigDecoder","LayoutsController","layoutsOperationTypesDecoder","onAdded","onChanged","onRemoved","handleOnAdded","handleOnChanged","handleOnRemoved","layoutTypeDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","raiseNotification","raiseNotificationDecoder","requestPermission","permissionRequestResultDecoder","notificationShow","notificationEventPayloadDecoder","notificationClick","getPermission","permissionQueryResultDecoder","alphabet","previousSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","randomFromSeed","shuffle","size","bytes","mask","counter","previousSeconds","loopCounter","str","format","clusterWorkerId","seconds","module","seedValue","workerId","newCharacters","NotificationsController","notifications","notificationsSettings","buildNotificationFunc","buildNotification","addOperationExecutors","notificationsOperationTypesDecoder","raise","queryResult","permission","permissionResult","permissionGranted","glue42NotificationOptionsDecoder","notification","handleNotificationShow","handleNotificationClick","onshow","defaultClick","actionClicks","actionDef","getIntents","wrappedIntentsDecoder","findIntent","wrappedIntentFilterDecoder","raiseIntent","intentRequestDecoder","intentResultDecoder","IntentsController","myIntents","Set","GlueWebIntentsPrefix","intents","intentsOperationTypesDecoder","addIntentListener","request","requestObj","raiseRequestDecoder","intent","addIntentListenerIntentDecoder","subscribed","intentName","methodName","unsubscribe","unregister","intentFlag","register","flags","intentFilter","intentFilterObj","findFilterDecoder","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","channelNames","getAllChannelNames","channelName","channelContexts","channelNameDecoder","switchToChannel","changed","subscribeFor","publish","leave","contextName","startsWith","channelContextName","unsubscribeFunc","currentChannelName","createContextName","___","extraData","updaterId","setPathSupported","pathValues","setPaths","updateData","channelContext","info","getEnvironment","getBase","SystemController","setEnvironment","environment","base","Notification","badge","renotify","requireInteraction","silent","tag","timestamp","vibrate","clientHello","widget","inject","ExtController","contentCommands","widgetVisualizationPermission","handleWidgetVisualizationPermission","changeChannel","handleChangeChannel","channelsController","eventsDispatcher","onContentMessage","handleContentMessage","channel","sendContentMessage","command","newChannel","foundHandler","allowed","currentChannel","EventsDispatcher","glue42CoreEventName","notifyStarted","handleNotifyStarted","contentInc","handleContentInc","wireCustomEventListener","announceStarted","glue42Event","CustomEvent","Glue42CoreMessageTypes","webPlatformTransportName","PreferredConnectionController","transactionTimeout","transactionLocks","reconnectCounter","coreConfig","connection","transport","isPreferredActivated","webPlatformTransport","webPlatformMessagesUnsubscribe","onMessage","handleWebPlatformMessage","getCurrentPlatformTransportState","transportState","checkSwitchTransport","msg","isConnectedToPlatform","transactionId","handleTransportSwitchRequest","handleGetCurrentTransportResponse","handleCheckPreferredLogic","handleCheckPreferredConnection","handlePlatformUnload","connect","reEstablishPlatformPort","myCurrentTransportName","transportName","switchTransport","setConnected","transaction","setTransaction","sendPlatformMessage","transactionLock","transactionLive","lift","reason","sendObject","switchSettings","checkPreferredConnection","ws","WebSocket","onopen","manualSetReadyState","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","page","urlMetric","appNameMetric","startUrl","glue42gd","NullProtocol","PerfTracker","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","toJSON","metrics","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","gw","facade","_client","messageHandler","client","_msg","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","onmessage","Utils","getGDMajorVersion","glueDesktop","ver","Number","isNode","_isNode","process","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","WebSocketConstructor","WS","startupTimer","_running","wsRequests","waitForSocketConnection","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","reconnectAttempts","notifyForSocketState","debug","initiateSocket","retries","seen_1","WeakSet","notifyStatusChanged","onclose","identity","wsRequest","alphabet_1","randomByteBrowser","dest","encode_1","decode_1","lib$1","createCommonjsModule","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","entry","getNextRequestId","skipPeerId","successMsg","_tag","errorMsg","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","maxRetries","Buffer","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","PromisePlus","WebPlatformTransport","iAmConnected","parentReady","extContentAvailable","extContentConnecting","extContentConnected","parentInExtMode","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","extConnectionResponse","handleExtConnectionResponse","extSetupRequest","handleExtSetupRequest","gatewayDisconnect","handleGatewayDisconnect","gatewayInternalConnect","handleGatewayInternalConnect","glue42ext","setUpMessageListener","setUpUnload","setupPlatformUnloadListener","_communicationId","glue42ExtOut","clientId","myClientId","ownWindowId","initiateInternalConnection","waitParent","requestConnectionPermissionFromExt","initiateRemoteConnection","connectionResolve","connectionReject","bridgeInstanceId","clientType","parentWindowId","connectionNotPossibleMsg","parentCheck","isIframe","parentPingResolve","parentPingInterval","checkMessageTypeValid","messageType","extMode","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","processExtContentConnection","extData","glue42ExtInc","child","grandChildId","rejectConnectionRequest","typeToValidate","rejection","waitForContentScript","extConnectionResolve","extConnectionReject","approved","AsyncSequelizer","minSequenceInterval","isExecutingQueue","enqueue","executeQueue","actionResult","intervalBreak","Connection","messageHandlers","ids","_connected","isTrace","_swapTransport","_switchInProgress","_transportSubscriptions","_sequelizer","inproc","sharedWorker","canPublish","unsubConnectionChanged","handleConnectionChanged","unsubOnMessage","handleTransportMessage","_defaultTransport","switchTargetTransport","verifyPromise","isSwitchSuccess","getNewSecondaryTransport","_targetTransport","_targetAuth","getNewSecondaryAuth","_defaultAuth","verifyConnection","onLibReAnnounced","setLibReAnnounced","isObjectBasedTransport","strMessage","isLoggedIn","currentServer","authRequest","newAuth","error_2","transportSwap","prepareDefaultSwap","distributeMessage","handlerId","loggerError","replaySpecs","replayer","msgObj","invocations","waitForInvocations","transportConfig","auth","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","deletePath","setValueToPath","added_1","added","updated_1","updated","mergeObjectsProperties","WeakMap","what","withWhat","deepEqual","pathArr","isSubset","superObj","subObj","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_contextsTempCache","_contextsSubscriptionsCache","_connection","_logger","_trackAllContexts","trackAllContexts","_reAnnounceKnownContexts","reAnnounceKnownContexts","_gw3Session","resetState","reInitiateState","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","hasReceivedSnapshot","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","setPath","pathValues_1","pathValue","pathValues_2","_r","un","subscriptionKey","thisCallbackSubscriptionNumber","subscription","subKey","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","sendUnsubscribe","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","_systemContextsSubKey","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","cacheSoFar","ctxName","lastKnownData","flushQueue","ContextsModule","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","getInvokePromise","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterValueEl","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","ServerSubscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","displayName","returns","updateRepoMethod","Server","serverRepository","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","user","pid","machine","region","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onConnected","setNewSubscription","newSub","TimedCache","timeoutIds","timeoutId","elementIdx","ELEMENT_TTL_MS","flush","elements","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","timedCache","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","drainSubscriptionsCache","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","reconnectionPromises","existingSubscriptions","existingSubscriptions_1","registeredMethods","_loop_2","registeredMethods_1","handleReconnect","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","ext","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","glue42electron","applicationConfig","_f","instanceId","gwConfig","gwURL","uniqueAppName","env","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","coreFactoryFunction","createGlueCore","IoC","preferredConnectionController","controllers","defineConfig","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","positiveNumberDecoder","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","windowDefinitionConfigDecoder","groupDefinitionConfigDecoder","rowDefinitionConfigDecoder","columnDefinitionConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictColumnDefinitionDecoder","strictParentDefinitionDecoder","strictRowDefinitionDecoder","strictGroupDefinitionDecoder","newFrameConfigDecoder","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","workspaceSelectorDecoder","restoreWorkspaceDefinitionDecoder","emptyFrameDefinitionDecoder","frameConfig","frameInitConfigDecoder","frameInitProtocolConfigDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameInitializationContextDecoder","frameSummaryDecoder","eventTypeDecoder","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","minHeigth","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","frameBoundsResultDecoder","getWorkspaceIconResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","elementResizeConfigDecoder","lockWindowDecoder","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","pinWorkspaceDecoder","setWorkspaceIconDecoder","workspacePinOptionsDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","createFrame","initFrame","getAllFramesSummaries","getAllWorkspacesSummaries","getAllLayoutsSummaries","importLayout","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","operationResult","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","streamData","requestedArgumentsResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","baseErrorMessage","invocationResult","invocationErrorMessage","privateData","wrapChildren","serializeChildren","getBuilder","validatedDefinition","childBuilder","addParent","predicate","lockConfigResult","verifiedConfig","setHeight","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","getAllowSplitters","getWidthInPx","getHeightInPx","getIsPinned","getIsMaximized","setWidth","getAllowExtract","getAllowDropLeft","getAllowDropRight","getAllowDropTop","getAllowDropBottom","getAllowDropHeader","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","getWorkspaceData","getDataManager","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","allWindows","bundleTo","currentLockConfig","processLocalSubscription","windowParent","foundWindow","win","getWindowData","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","validatedConfig","getWorkspacesByFrameId","validatedOptions","transformStreamPayloadToWorkspace","foundParent","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","createConfig","snapshot","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","privateDataManager","remapChild","foundChild","foundChildren","grandChildren","innerFound","createEmptyFrame","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","fetchWorkspace","iterateWorkspaces","foundWorkspace","matchingWorkspaces","getAllWorkspaceSummaries","workspaceSummaries","summariesForFrame","workspacesForFrame","allSummariesResult","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","frameSnapshot","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","getAllFrames","onFrameOpened","processGlobalSubscription","checkIsInSwimlane","getWorkspaces","getWorkspace","waitForFrame","rej","myFrame","exportLayout","onSaved","onFrameClosed","onWorkspaceOpened","GlueWorkspaces","StrictMode","glueFactory","GlueWeb"],"mappings":"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","file":"static/js/main.1d6e7753.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string, id?: string }> = ({ title, className, children, id, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className} id={id}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        if (glue.workspaces.getWorkspaceById) {\r\n            glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        } else {\r\n            glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n                const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n    \r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        }\r\n\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search pplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search pplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            workspace = myWorkspace;\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,o,i){return new(o||(o=Promise))((function(n,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function o(t,e,o){return t(o={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&o.path)}},o.exports),o.exports}var i=o((function(t,e){!function(e){var o={config:{},container:{},controls:{},errors:{},items:{},utils:{}};o.utils.F=function(){},o.utils.extend=function(t,e){t.prototype=o.utils.createObject(e.prototype),t.prototype.contructor=t},o.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(o.utils.F.prototype=t,new o.utils.F)},o.utils.objectKeys=function(t){var e,o;if(\"function\"==typeof Object.keys)return Object.keys(t);for(o in e=[],t)e.push(o);return e},o.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},o.utils.getQueryStringParam=function(t){if(window.location.hash)return o.utils.getHashValue(t);if(!window.location.search)return null;var e,i,n=window.location.search.substr(1).split(\"&\"),s={};for(i=0;i<n.length;i++)s[(e=n[i].split(\"=\"))[0]]=e[1];return s[t]||null},o.utils.copy=function(t,e){for(var o in e)t[o]=e[o];return t},o.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},o.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?o.utils.isFunction=function(t){return\"function\"==typeof t||!1}:o.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},o.utils.fnBind=function(t,e,o){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(o||[]));var i=function(){var n=(o||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,n);t.apply(this,n)};return i.prototype=t.prototype,i},o.utils.removeFromArray=function(t,e){var i=o.utils.indexOf(t,e);if(-1===i)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(i,1)},o.utils.moveInArray=function(t,e,o){var i=t[e];t.splice(e,1),t.splice(o,0,i)},o.utils.getBounds=function(t){if(!t[0])throw new Error(\"Cannot get bounds of invalid element\");return t[0].getBoundingClientRect()},o.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},o.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},o.utils.filterXss=function(t,e){var o=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?o:o.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},o.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},o.utils.idAsString=function(t){return Array.isArray(t)?t[0]:t},o.utils.isCustomWorkspaceTab=function(t){return\"workspace\"===t._layoutManager.config.settings.mode&&t._layoutManager._componentFactory&&t._layoutManager._componentFactory.createWorkspaceTabs},o.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!o.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,n;n=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)i=s[e].ctx||{},s[e].fn.apply(i,n);n.unshift(t);var r=this._mSubscriptions[o.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,n)},this.unbind=function(t,e,o){if(this._mSubscriptions[t]){var i,n=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||o&&o!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),n=!0);if(!1===n)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},o.utils.EventEmitter.ALL_EVENT=\"__all\",o.utils.DragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.DragListener.timeout=null,o.utils.copy(o.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),o.LayoutManager=function(t,i,n){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}o.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":o.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=o.utils.fnBind(this._onResize,this),this._unloadFunction=o.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=n,this._ignorePinned=!1,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new o.utils.EventHub(this),this.config=this._createConfig(t),this.container=i,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:o.utils.fnBind(o.items.RowOrColumn,this,[!0]),row:o.utils.fnBind(o.items.RowOrColumn,this,[!1]),stack:o.items.Stack,component:o.items.Component}},o.LayoutManager.__lm=o,o.LayoutManager.minifyConfig=function(t){return(new o.utils.ConfigMinifier).minifyConfig(t)},o.LayoutManager.unminifyConfig=function(t){return(new o.utils.ConfigMinifier).unminifyConfig(t)},o.utils.copy(o.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,i,n;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof o.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:o.utils.copy({},this.config.settings),dimensions:o.utils.copy({},this.config.dimensions),labels:o.utils.copy({},this.config.labels),context:o.utils.copy({},this.config.context),workspacesOptions:o.utils.copy({},this.config.workspacesOptions)}).content=[],(i=function(t,e){var o,n;for(o in e.config)\"content\"!==o&&(t[o]=e.config[o]);if(e.contentItems.length)for(t.content=[],n=0;n<e.contentItems.length;n++)t.content[n]={},i(t.content[n],e.contentItems[n])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],n=0;n<this.openPopouts.length;n++)e.openPopouts.push(this.openPopouts[n].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new o.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(o.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new o.controls.DropTargetIndicator(this.container),this.transitionIndicator=new o.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this._maximizeContainers(),this.emit(\"initialised\")}else e(document).ready(o.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var i;if(\"string\"!=typeof t.type)throw new o.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw i=\"Unknown type '\"+t.type+\"'. Valid types are \"+o.utils.objectKeys(this._typeToItem).join(\",\"),new o.errors.ConfigurationError(i);return\"component\"!==t.type||e instanceof o.items.Stack||!e||!0===this.isSubWindow&&e instanceof o.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,n){var s,r,a,c,l,d,h=t,u=t instanceof o.items.AbstractContentItem,p=this;if(i=i||null,u){for(h=this.toConfig(t).content,i=o.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(i),isNaN(n)&&(n=o.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new o.controls.BrowserPopout(h,e,i,n,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,i,n){this.config.settings.constrainDragToContainer=!1;var s=new o.controls.DragSource(e(t),i,this,n);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimiseItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var o,i,n=1/0,s=null;for(o=0;o<this._itemAreas.length;o++)t>(i=this._itemAreas[o]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&n>i.surface&&(n=i.surface,s=i);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:o,allowDropRight:i,allowDropBottom:n}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===o||!0===i||!0===n){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[0]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[3]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++){if(!i[t].isStack)continue;const s=i[t].config.workspacesConfig&&!0===i[t].config.workspacesConfig.allowDrop;if((!1!==this.config.workspacesOptions.allowDrop||s)&&((!i[t].config.workspacesConfig||!1!==i[t].config.workspacesConfig.allowDrop)&&null!==(e=i[t]._$getArea())))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var n={};o.utils.copy(n,e),e.contentItem._contentAreaDimensions.header&&(o.utils.copy(n,e.contentItem._contentAreaDimensions.header.highlightArea),n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)),i[t]._dropSegment&&(i[t]._dropSegment=null)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,i){if(!t)throw new Error(\"No content item defined\");if(o.utils.isFunction(t)&&(t=t()),t instanceof o.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var n=this.createContentItem(t,i);return n.callDownwards(\"_$init\"),n}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(o){if(t.push(o),o.contentItems instanceof Array)for(var i=0;i<o.contentItems.length;i++)e(o.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(o.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var i=o.utils.getQueryStringParam(\"gl-window\");i&&(this.isSubWindow=!0,t=localStorage.getItem(i),t=JSON.parse(t),t=(new o.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(i)),t=e.extend(!0,{},o.config.defaultConfig,t);var n=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?n(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(o.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=o.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new o.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new o.errors.ConfigurationError(e,t);this.root=new o.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var o=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],n=this._findAllStackContainers()[0],s=0;s<o;s++){var r=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(n,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_maximizeContainers:function(){const t=this.root.getItemsByFilter((t=>t.config.workspacesConfig&&t.config.workspacesConfig.isMaximized&&\"component\"!=t.type));t.length&&t[0].toggleMaximise()},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(o){t.addChild(o),e.removeChild(o,!0)})):e.contentItems.forEach(o.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(o.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))},restoreMaximizedContainers:function(){this.root.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type)).forEach((t=>{this._$minimiseItem(t)}))}}),o.LayoutManager.default=o.LayoutManager,t.exports=o.LayoutManager,window.GoldenLayout=o.LayoutManager,o.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,workspaceInnerDrag:!0,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:20,maxItemHeight:32767,minItemWidth:20,maxItemWidth:32767,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},o.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},o.container.ItemContainer=function(t,i,n){o.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=i,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},o.utils.copy(o.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){var o,i,n,s,r=this.parent,a=this;if(!t&&!e||t&&e)return!1;for(;!r.isColumn&&e||!r.isRow&&t||r.contentItems.length<=1;)if(a=r,(r=r.parent).isRoot)return!1;for(this.layoutManager._ignorePinned=!0,r._calculateRelativeSizes(),o=(\"height\"===(i=r.isColumn?\"height\":\"width\")?e:t)/(this._element[i]()*(1/(a.config[i]/100)))*100,n=(a.config[i]-o)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[i]=o:r.contentItems[s].config[i]+=n;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var o=this._contentElement[0],i=o.offsetWidth-o.clientWidth,n=o.offsetHeight-o.clientHeight;this._contentElement.width(this.width-i).height(this.height-n),this.emit(\"resize\")}}}),o.controls.BrowserPopout=function(t,e,i,n,s){o.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=n,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},o.utils.copy(o.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,o;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(o=this._layoutManager.root.getItemsById(this._parentId)[0])||(o=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),o.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,i=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(i,n,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",o.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",o.utils.fnBind(this._onClose,this)),t=setInterval(o.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,o=[];for(e in t)o.push(e+\"=\"+t[e]);return o.join(\",\")},_createUrl:function(){var t,e={content:this._config},i=\"gl-window-config-\"+o.utils.getUniqueId();e=(new o.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+i:document.location.href+\"&gl-window=\"+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(o.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),o.controls.DragProxy=function(t,i,n,s,r,a){o.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(o.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:i}),this.element.find(\".lm_tab\").attr(\"title\",o.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,i)},o.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',o.utils.copy(o.controls.DragProxy.prototype,{_onDrag:function(t,e,o){var i=(o=o.originalEvent&&o.originalEvent.touches?o.originalEvent.touches[0]:o).pageX,n=o.pageY;(i>this._minX&&i<this._maxX&&n>this._minY&&n<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,n)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),o.controls.DragSource=function(t,e,o,i){this._element=t,this._itemConfig=e,this._layoutManager=o,this._dragListener=null,this._dragProxy=null,this._createDragListener(i)},o.utils.copy(o.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new o.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,i){var n=this._itemConfig;o.utils.isFunction(n)&&(n=n());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},n));this._dragProxy=new o.controls.DragProxy(t,i,this._dragListener,this._layoutManager,s,null),this._layoutManager.transitionIndicator.transitionElements(this._element,this._dragProxy.element)}}),o.controls.DropTargetIndicator=function(){this.element=e(o.controls.DropTargetIndicator._template),e(document.body).append(this.element)},o.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',o.utils.copy(o.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,o,i){this.highlightArea({x1:t,y1:e,x2:o,y2:i})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),o.controls.Header=function(t,i){if(o.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(o.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",o.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],o=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:o}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}else if(this.layoutManager._componentFactory){this.element.children(\".lm_controls\")[0];const t=this.element.children(\".lm_tabs_controls\")[0],e=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createBeforeGroupTabs&&this.layoutManager._componentFactory.createBeforeGroupTabs({domNode:e,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)}),this.layoutManager._componentFactory.createAfterGroupTabs&&this.layoutManager._componentFactory.createAfterGroupTabs({domNode:t,groupId:o.utils.idAsString(i.config.id),workspaceId:this.layoutManager.config.workspacesOptions.workspaceId,elementId:o.utils.idAsString(i.config.id)})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=i,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=o.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},o.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),o.utils.copy(o.controls.Header.prototype,{createTab:function(t,e){var i,n;for(n=0;n<this.tabs.length;n++)if(this.tabs[n].contentItem===t)return;if(i=new o.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);(void 0===e||e>this.tabs.length)&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizesWithoutDropdown()},moveTab:function(t,e){o.utils.moveInArray(this.tabs,t,e),this._updateTabSizesWithoutDropdown(),this.parent._syncContentItemOrder()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,o,i,n;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(n=this.tabs[this.parent.config.activeItemIndex],o=this.parent.config.activeItemIndex;o>0;o--)this.tabs[o]=this.tabs[o-1];this.tabs[0]=n,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,n,s,r,a,c,l;l=o.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new o.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=o.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting(\"popout\"),new o.controls.HeaderButton(this,i,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new o.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=o.utils.fnBind(this.parent.toggleMaximise,this.parent)),n=this._getHeaderSetting(\"maximize\"),a=new o.controls.HeaderButton(this,n,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",n)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=o.utils.fnBind(this.parent.remove,this.parent)),i=this._getHeaderSetting(\"close\"),this.closeButton=new o.controls.HeaderButton(this,i,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,o,i,n,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,o=0;o<this.tabs.length;o++)if(e=this.tabs[o].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=o?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)o===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=o?(a-s)/(o-1):(a-s)/o)<l){for(i=0;i<=o;i++)n=i!==h&&0!==i?\"-\"+c+\"px\":\"\",this.tabs[i].element.css({\"z-index\":o-i,\"margin-left\":n});this._lastVisibleTabIndex=o,this.tabsContainer.append(e)}else d=!0;if(d&&o!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=o,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,o,i=0,n=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[n];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,o=0;o<this.tabs.length;o++)e=this.tabs[o].element,this.tabsContainer.append(e),i+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),n<=o?i:i+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_getLastIndexOfPinnedTab(t){const e=this.tabs.reduce(((e,o)=>o.isPinned&&(\"function\"!=typeof t||t(o))?o:e),void 0);return e?this.tabs.indexOf(e):-1}}),o.controls.HeaderButton=function(t,o,i,n){this._header=t,this.element=e('<li class=\"'+i+'\" title=\"'+o+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=n,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},o.utils.copy(o.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),o.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new o.utils.DragListener(this.element)},o.utils.copy(o.controls.Splitter.prototype,{on:function(t,e,o){this._dragListener.on(t,e,o)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),o=e('<div class=\"lm_splitter\"></div>');o.append(t);var i=this._grabSize-this._size,n=i/2;return this._isVertical?(t.css(\"top\",-n),t.css(\"height\",this._size+i),o.addClass(\"lm_vertical\"),o.height(this._size)):(t.css(\"left\",-n),t.css(\"width\",this._size+i),o.addClass(\"lm_horizontal\"),o.width(this._size)),o}}),o.controls.Tab=function(t,i){this.header=t,this.contentItem=i,this._layoutManager=this.contentItem.layoutManager;const n=\"workspace\"===this._layoutManager.config.settings.mode,s=o.utils.isCustomWorkspaceTab(this);if(this.element=e(s?o.controls.Tab._customTabTemplate:o.controls.Tab._template),this._elementOffset=0,this._xOfLastReorder=0,this.titleElement=s?e(void 0):this.element.find(\".lm_title\"),this.closeElement=s?e(void 0):this.element.find(\".lm_close_tab\"),this.closeElement[i.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.isPinned=!1,this.title=i.config.title,this.setTitle(this.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),!0===this._layoutManager.config.settings.reorderEnabled&&!0===i.config.reorderEnabled&&(this._dragListener=new o.utils.TabDragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"reorderStart\",this._onReorderStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=o.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=o.utils.fnBind(this._onCloseClick,this),n&&i.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this)),s){const t=this._layoutManager._componentFactory.createWorkspaceTabsOptions({element:this.element[0],contentItem:i});this._layoutManager._componentFactory.createWorkspaceTabs(t)}},o.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',o.controls.Tab._customTabTemplate='<li class=\"lm_tab\"></li>',o.utils.copy(o.controls.Tab.prototype,{setTitle:function(t){this.title=t,o.utils.isCustomWorkspaceTab(this)||this.element.attr(\"title\",o.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,pin:function(t){if(this.isPinned)return;this.titleElement.hide(),this.closeElement.hide();const e=this.header.tabs.indexOf(this),o=this.header._getLastIndexOfPinnedTab();let i=o+1;\"number\"==typeof t&&(i=Math.min(t,o+1)),this.header.moveTab(e,i),this.element.addClass(\"lm_pinned\"),this.isPinned=!0},unpin:function(){if(!this.isPinned)return;this.titleElement.show(),this.closeElement.show();const t=this.header.tabs.indexOf(this),e=this.header._getLastIndexOfPinnedTab();t!=e&&this.header.moveTab(t,e),this.element.removeClass(\"lm_pinned\"),this.isPinned=!1},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener.off(\"reorderStart\",this._onReorderStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const i=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,n=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId,r=!this.contentItem.layoutManager.config.settings.workspaceInnerDrag&&i;if(i&&n)return;if(!i&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;if(r)return;this._layoutManager.restoreMaximizedContainers.apply(this._layoutManager);const a=new o.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(a)},_onReorderStart:function(t,e){if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;const o=this.element[0].getBoundingClientRect().x-this.header.element[0].getBoundingClientRect().x,i=this.element[0].getBoundingClientRect().width;this._elementOffset=o-t,this._xOfLastReorder=t,this.element.css(\"position\",\"absolute\"),this.element.css(\"z-index\",\"42\"),this.element.css(\"left\",t+this._elementOffset+\"px\"),this.element.css(\"width\",i+\"px\"),this._dragListener.on(\"reorder\",this._onReorder,this),this._dragListener.on(\"reorderStop\",this._onReorderStop,this)},_onReorder:function(t,e){this.element.css(\"left\",t+this._elementOffset+\"px\");const i=this.header.tabs.indexOf(this);if(this._xOfLastReorder>t&&i>0){const e=o.utils.getBounds(this.header.tabs[i-1].element);t<e.x+e.width/2&&(this.header.moveTab(i,i-1),this._xOfLastReorder=t)}else if(this._xOfLastReorder<t&&i<this.header.tabs.length-1){const e=o.utils.getBounds(this.header.tabs[i+1].element);t>e.x+e.width/2&&(this.header.moveTab(i,i+1),this._xOfLastReorder=t)}this.element.css(\"z-index\",\"42\")},_onReorderStop:function(t,e){const o=this.header.tabs.indexOf(this),i=this.header._getLastIndexOfPinnedTab((t=>t!=this));this.isPinned&&i+1<o&&this.header.moveTab(o,i+1),!this.isPinned&&o<i&&this.header.moveTab(o,i),this.element.css(\"left\",\"\"),this.element.css(\"width\",\"\"),this.element.css(\"position\",\"\"),this.element.css(\"z-index\",\"auto\"),this._dragListener.off(\"reorder\",this._onReorder),this._dragListener.off(\"reorderStop\",this._onReorderStop)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),o.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},o.utils.copy(o.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(o.utils.now()-this._animationStartTime)/this._totalAnimationDuration,n={};if(i>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)n[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(n),o.utils.animFrame(o.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),o.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},o.errors.ConfigurationError.prototype=new Error,o.items.AbstractContentItem=function(t,e,i){o.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(o.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},o.utils.copy(o.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,o,i){var n;for(!0!==o&&!0!==i&&this[t].apply(this,e||[]),n=0;n<this.contentItems.length;n++)this.contentItems[n].callDownwards(t,e,o);!0===o&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof o.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var n=o.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===n)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===i&&(t.parent=null,t._$destroy()),this.contentItems[n]=e,e.parent=this,this.isStack&&(this.header.tabs[n].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==o.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=o.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],o=function(i){for(var n=0;n<i.contentItems.length;n++)!0===t(i.contentItems[n])&&e.push(i.contentItems[n]),o(i.contentItems[n])};return o(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==o.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,o=this._$getItemsByProperty(\"componentName\",t),i=[];for(e=0;e<o.length;e++)i.push(o[e].instance&&0!==Object.keys(o[e].instance).length?o[e].instance:o[e]);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(o){return o[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,o){this.layoutManager.dropTargetIndicator.highlightArea(o)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,o,i=this.getItemsByType(\"stack\");for(o=0;o<i.length;o++)(e=i[o].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),o=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+o,y2:e.top+i,surface:o*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new o.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new o.errors.ConfigurationError(\"content must be an Array\",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in o.config.itemDefaultConfig)void 0===t[e]&&(t[e]=o.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof o.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===o.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,o.utils.animFrame(o.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),o.items.Component=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new o.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},o.utils.extend(o.items.Component,o.items.AbstractContentItem),o.utils.copy(o.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},getMinWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth},getMaxWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth},getMinHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight},getMaxHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight},_$init:function(){o.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),o.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),o.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),o.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),o.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),o.items.Root=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},o.utils.extend(o.items.Root,o.items.AbstractContentItem),o.utils.copy(o.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),0);return Math.min(t,e)},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),o.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var n=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof o.items.RowOrColumn||a.type!=n){var c=this.layoutManager.createContentItem({type:n},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),o.items.RowOrColumn=function(t,i,n,s){o.items.AbstractContentItem.call(this,i,n,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=i.config.dimensions.borderWidth,this._splitterGrabSize=i.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=i},o.utils.extend(o.items.RowOrColumn,o.items.AbstractContentItem),o.utils.copy(o.items.RowOrColumn.prototype,{addChild:function(t,e,i){var n,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),o.items.AbstractContentItem.prototype.addChild.call(this,t,e),n=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=n:(s=this.contentItems[r].config[this._dimension]*=(100-n)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i,n,s=t.config[this._dimension],r=o.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=s/(this.contentItems.length-1));o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(n=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,n,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var i=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=i,o.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth:\"column\"===this.config.type&&(t=Math.max(e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth,t)),t)),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e+=o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth:\"column\"===this.config.type&&(e=Math.min(o.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth,e||t)),e)),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t=Math.max(e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight,t):\"column\"===this.config.type&&(t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),t)),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,o)=>(\"row\"===this.config.type?e=Math.min(o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight,e||t):\"column\"===this.config.type&&(e+=o.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),e)),0);return Math.min(t,e)},_$init:function(){var t;if(!0!==this.isInitialised)for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();const o=this.contentItems.filter((t=>t.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned));let i=e.additionalPixel;o.filter((t=>{const o=this.isColumn?t.element.height():t.element.width(),i=this.contentItems.indexOf(t);return Math.floor(o)>Math.floor(e.itemSizes[i])})).forEach((t=>{const o=this.isColumn?t.element.height():t.element.width(),n=this.contentItems.indexOf(t),s=Math.floor(o-e.itemSizes[n]),r=Math.min(i,s);e.itemSizes[n]+=r,i-=r}));const n=Math.ceil(i/(this.contentItems.length-o.length));for(t=0;t<this.contentItems.length;t++){if(i>0&&!this.contentItems[t].config.workspacesConfig.isPinned){const o=Math.min(i,n);e.itemSizes[t]+=o,i-=o}this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight)),this._isColumn&&this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned?this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.height():this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned&&(this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.width())}},_calculateAbsoluteSizes:function(){var t,e,o=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),n=this.element.height(),s=0,r=[];for(this._isColumn?n-=o:i-=o,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(n*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?n:i)-s),totalWidth:i,totalHeight:n}},_calculateRelativeSizes:function(){var t,e=0,o=[],i=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:o.push(this.contentItems[t]);if(100===Math.round(e))return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints();if(Math.round(e)<100&&o.length>0){for(t=0;t<o.length;t++)o[t].config[i]=(100-e)/o.length;return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints()}if(Math.round(e)>100)for(t=0;t<o.length;t++)o[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectItemWidthConstraints(),this._respectItemHeightConstraints()},_respectItemWidthConstraints:function(){var t,e,o,i,n,s,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemWidth||32767,c=[],l=[],d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isColumn||!r||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),a=Math.min(a,t.totalWidth);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.width(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxWidth(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinWidth(),n=Math.min(void 0===o?a:o,t.totalWidth),m=void 0===i?r:i;g<m?(h+=m-g,s={maxWidth:n,minWidth:m,width:m}):(d+=Math.min(g,n)-m,s={maxWidth:n,minWidth:m,width:g},c.push(s)),g>n?(u+=g-n,s.width=n):(p+=n-Math.max(g,m),l.push(s)),v.push(s)}const _=0===h||h>d,C=0===u||u>p;if(_&&C)return!0;if(!_)for(e=h/d,m=h,y=0;y<c.length;y++)s=c[y],m-=i=Math.round((s.width-s.minWidth)*e),s.width-=i;if(!C)for(o=u/p,f=u,y=0;y<l.length;y++)s=l[y],f-=n=Math.round((s.maxWidth-s.width)*o),s.width+=n;for(_||0!==m&&(v[v.length-1].width-=m),C||0!==f&&(v[v.length-1].width+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=v[y].width/t.totalWidth*100;return!1},_respectItemHeightConstraints:function(){var t,e,o,i,n,s=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemHeight||0,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemHeight||32767,a=[],c=[],l=0,d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isRow||!s||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),r=Math.min(t.totalHeight,r);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.height(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxHeight(),i=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinHeight(),p=Math.min(void 0===o?r:o,t.totalHeight),m=void 0===i?s:i;g<m?(d+=m-g,n={maxHeight:p,minHeight:m,height:m}):(l+=Math.min(g,p)-m,n={maxHeight:p,minHeight:m,height:g},a.push(n)),g>p?(h+=g-p,n.height=p):(u+=p-Math.max(g,m),c.push(n)),v.push(n)}const _=0===d||d>l,C=0===h||h>u;if(_&&C)return!0;if(!_)for(e=d/l,p=d,y=0;y<a.length;y++)n=a[y],p-=m=Math.round((n.height-s)*e),n.height-=m;if(!C)for(o=h/u,f=h,y=0;y<c.length;y++)n=c[y],f-=i=Math.round((n.maxHeight-n.height)*o),n.height+=i;for(_||0!==p&&(v[v.length-1].height-=p),C||0!==f&&(v[v.length-1].height+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.height=v[y].height/t.totalHeight*100;return!1},_createSplitter:function(t){var e;return(e=new o.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",o.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",o.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",o.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=o.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,o=0,i=0;i<t.length;++i)e=Math.max(t[i].getMinWidth()||0,e),o=Math.max(t[i].getMinHeight()||0,o);return{horizontal:e,vertical:o}},_getMaximumDimensions:function(t){for(var e=32767,o=32767,i=0;i<t.length;++i)e=Math.min(t[i].getMaxWidth()||0,e),o=Math.min(t[i].getMaxHeight()||0,o);return{horizontal:e,vertical:o}},_setMinMaxSplitterPosition(t){const e=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],o=this.layoutManager.config.dimensions[this.isColumn?\"maxItemHeight\":\"maxItemWidth\"];var i=this._getMinimumDimensions([...t.before.contentItems,t.before]),n=this._getMaximumDimensions([...t.before.contentItems,t.before]),s=this._isColumn?i.vertical:i.horizontal,r=this.isColumn?n.vertical:n.horizontal,a=this._getMinimumDimensions([...t.after.contentItems,t.after]),c=this._getMaximumDimensions([...t.after.contentItems,t.after]),l=this._isColumn?a.vertical:a.horizontal,d=this.isColumn?c.vertical:c.horizontal,h=-1*(t.before.element[this._dimension]()-(s||e)),u=-1*((d||o)-t.after.element[this._dimension]()),p=(r||o)-t.before.element[this._dimension](),m=t.after.element[this._dimension]()-(l||e);this._splitterPosition=0,this._splitterMinPosition=Math.max(h,u),this._splitterMaxPosition=Math.min(p,m)},_onSplitterDragStart:function(t){this.layoutManager._ignorePinned=!0;var e=this._getItemsForSplitter(t);this._setMinMaxSplitterPosition(e)},_onSplitterDrag:function(t,e,o){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var i=this._isColumn?o:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?\"top\":\"left\",i)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),n=e.after.element[this._dimension](),s=(this._splitterPosition+i)/(i+n),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),o.utils.animFrame((()=>{o.utils.fnBind(this.callDownwards,this,[\"setSize\"])(),this._layoutManager._ignorePinned=!1})),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),o.items.Stack=function(t,i,n){o.items.AbstractContentItem.call(this,t,i,n),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;if(this._header={show:!0===s.settings.hasHeaders&&!1!==i.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&o.utils.copy(this._header,s.header),i.header&&o.utils.copy(this._header,i.header),i.content&&i.content[0]&&i.content[0].header&&o.utils.copy(this._header,i.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,t._componentFactory&&t._componentFactory.createId&&(!this.config.id||!this.config.id.length)){const e=t._componentFactory.createId();e&&this.addId(e)}this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new o.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},o.utils.extend(o.items.Stack,o.items.AbstractContentItem),o.utils.copy(o.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,o=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(o),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(o).height(i);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth;return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth)),t)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;return this.contentItems.reduce(((t,e)=>{const o=e.getMaxWidth();return Math.min(t,o||this.layoutManager.config.dimensions.maxItemWidth)}),t)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinHeight()+o||this.layoutManager.config.dimensions.minItemHeight)),t)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.header.element;let o=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(o=0);return this.contentItems.reduce(((t,e)=>Math.min(t,e.getMaxHeight()+o||this.layoutManager.config.dimensions.maxItemHeight)),t)},realHeight:function(t){if(!t||!t[0])return 0;const o=t.height();if(o>0)return o;var i=t.clone();i.css(\"visibility\",\"hidden\"),e(\"body\").append(i);var n=i.height();return i.remove(),n},_$init:function(){var t,e;if(!0!==this.isInitialised){for(o.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e);this.contentItems.filter((t=>t.config.workspacesConfig.isPinned)).forEach((t=>{t.tab.pin()}))}}},setActiveContentItem:function(t){if(-1===o.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,i,n=!0){t=this.layoutManager._$normalizeContentItem(t,this);const s=this.header._getLastIndexOfPinnedTab(),r=t.config&&t.config.workspacesConfig&&t.config.workspacesConfig.isPinned;i>=0&&i<=s&&!r&&(i=s+1),o.items.AbstractContentItem.prototype.addChild.call(this,t,i),this.childElementContainer.append(t.element),this.header.createTab(t,i),r&&t.tab.pin(i),e(this.layoutManager.container).is(\":visible\")&&n?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var i=o.utils.indexOf(t,this.contentItems);if(o.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t)if(this.contentItems.length>0){const t=this._getItemToFocusAfterRemove.call(this,i);this.setActiveContentItem(t)}else this._activeContentItem=null;this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,o;for(t=this.header._isClosable(),o=0,e=this.contentItems.length;o<e&&t;o++)t=this.contentItems[o].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){o.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(null!==this._dropSegment){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,i,n,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((i=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),c?(e=o.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",n=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,n),n.addChild(t,a?0:void 0,!0),n.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,n.callDownwards(\"setSize\"))}else this.addChild(t)}},_$highlightDropZone:function(t,e){var o,i;for(o in this._contentAreaDimensions)if((i=this._contentAreaDimensions[o].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void(\"header\"===o?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(o)));this._dropSegment=null,this._resetHeaderDropZone(),this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=o.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),n=i.x2-i.x1,s=i.y2-i.y1;return!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropHeader||!0===this.config.workspacesConfig.allowDropHeader?this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}}:this._contentAreaDimensions={},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&((!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropLeft||!0===this.config.workspacesConfig.allowDropLeft)&&(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*n,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropTop||!0===this.config.workspacesConfig.allowDropTop)&&(this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*n,y1:i.y1,x2:i.x1+.75*n,y2:i.y1+.5*s},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*s}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropRight||!0===this.config.workspacesConfig.allowDropRight)&&(this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*n,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*n,y1:i.y1,x2:i.x2,y2:i.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropBottom||!0===this.config.workspacesConfig.allowDropBottom)&&(this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*n,y1:i.y1+.5*s,x2:i.x1+.75*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*s,x2:i.x2,y2:i.y2}})),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,o,i,n,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(o=this.header.tabs[e].element).offset(),this._sided?(n=s.top,i=s.left,c=o.height()):(n=s.left,i=s.top,c=o.width()),t>n&&t<n+c){d=!0;break}if(!(!1===d&&t<n)){if(t<n+c/2?(this._dropIndex=e,o.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),o.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+o.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+o.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t},_syncContentItemOrder:function(){const t=[];this.header.tabs.forEach((e=>{const o=Array.isArray(e.contentItem.config.id)?e.contentItem.config.id[0]:e.contentItem.config.id,i=this.contentItems.find((t=>{const e=Array.isArray(t.config.id)?t.config.id[0]:t.config.id;return o===e}));i&&t.push(i)})),this.contentItems.length===t.length&&(this.contentItems=t)},_getItemToFocusAfterRemove:function(t){for(let e=t-1;e>=0;e--){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}for(let e=t+1;e<this.contentItems.length;e++){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}return this.contentItems[Math.max(t-1,0)]}}),o.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},o.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},o.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},o.utils.copy(o.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,o){var i,n;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(n=this[o](i,this._keys),\"object\"==typeof t[i]?(e[n]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[n],o)):e[n]=this[o](t[i],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var i=o.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),o.utils.EventHub=function(t){o.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(o.utils.EventEmitter.ALL_EVENT,o.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=o.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},o.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},o.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},o.utils.EventHub.prototype._propagateToParent=function(t){var e,o=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(o,!0,!0):(e=window.opener.document.createEventObject()).eventType=o,e.eventName=o,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},o.utils.EventHub.prototype._propagateToChildren=function(t){var e,o;for(o=0;o<this._layoutManager.openPopouts.length;o++)(e=this._layoutManager.openPopouts[o].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},o.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},o.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},o.utils.copy(o.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},o=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,o)}}),o.utils.TabDragListener=function(t,i){o.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=i||0,this._nDelay=400,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=o.utils.fnBind(this.onMouseMove,this),this._fUp=o.utils.fnBind(this.onMouseUp,this),this._fDown=o.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},o.utils.TabDragListener.timeout=null,o.utils.TabDragListener.reorderTimeout=null,o.utils.copy(o.utils.TabDragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this.reorderTimeout=setTimeout(o.utils.fnBind((function(){this._startReorder(t)}),this),this._nDelay)}},onMouseMove:function(t){const e=this._getCoordinates(t);if(null!=this._timeout)t.preventDefault(),this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t);else if(this._inReorder){const i=this._eElement.parent()[0].getBoundingClientRect(),n=15,s=i.left-e.x>n||e.x-i.right>n,r=i.top-e.y>n||e.y-i.bottom>n;s||r?this._timeout=setTimeout(o.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay):this._onReorder(t)}},onMouseUp:function(t){this._stopReorder(t),clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX))},_startDrag:function(t){this._stopReorder(t),this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_startReorder:function(t){this._inReorder=!0,this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"reorderStart\",this._nOriginalX,this._nOriginalY,t)},_onReorder:function(t){if(this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorder\",e.x,e.y)}},_stopReorder:function(t){if(clearTimeout(this.reorderTimeout),null!==this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorderStop\",e.x,e.y)}this._inReorder=!1},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}})}(window.$)}));function n(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,o={};function i(o,i){var n=o instanceof Error?o:new Error(o);if(e)e(n);else{var s='[ERROR] callback-registry: User callback for key \"'+i+'\" failed: '+n.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,n){var s=o[t];return s||(s=[],o[t]=s),s.push(e),n&&setTimeout((function(){n.forEach((function(n){var s;if(null===(s=o[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(n)?e.apply(void 0,n):e.apply(void 0,[n])}catch(e){i(e,t)}}))}),0),function(){var i=o[t];i&&(0===(i=i.reduce((function(t,o,i){return o===e&&t.length===i||t.push(o),t}),[])).length?delete o[t]:o[t]=i)}},execute:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=o[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(o){try{var n=o.apply(void 0,e);r.push(n)}catch(e){r.push(void 0),i(e,t)}})),r},clear:function(){o={}},clearKey:function(t){o[t]&&delete o[t]}}}n.default=n;var s=n;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]);return t.reduce(((t,o)=>[...t,...e(o)]),[])},c=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,o)=>t=[...t,...e(o)]),[]),t]};return t.reduce(((t,o)=>[...t,...e(o)]),[])},l=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},d=t=>\"___workspace___\"+t,h=t=>{if(!t||!t[0])return 0;const e=t.clone();e.css(\"visibility\",\"hidden\"),$(\"body\").append(e);const o=e.height();return e.remove(),o};var u=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return t=r(t),this._idToLayout[t]||this.getByContainerIdCore(t)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,o){const i=this.getById(t);if(i)return i.layout=o,void(i.windows=this.mergeWindows(i.windows,e));this._idToLayout[t]={id:t,windows:e,layout:o,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,o)=>t||o.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id)),o.windows.push(t)}removeWindow(t,e){const o=this.getById(e);o.windows=o.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=r(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const o=this.layouts.filter((t=>t.layout)).reduce(((e,o)=>e||o.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==o?void 0:o.isComponent)?o:void 0}getContainer(t){t=r(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,o)=>{const i=o.root.getItemsById(t)[0];return\"component\"===(null==i?void 0:i.type)?e:e||i}),void 0)}getWorkspaceContext(t){var e,o,i;const n=this.getById(t);return null===(i=null===(o=null===(e=null==n?void 0:n.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context}syncWorkspaceOrder(){const t=this.workspaceLayout.root.getItemsByType(\"stack\")[0];if(\"stack\"!==t.type)return;const e=t.contentItems.map((t=>r(t.config.id))),o={};e.forEach((t=>{o[t]=this._idToLayout[t]})),Object.keys(o).length===Object.keys(this._idToLayout).length&&(this._idToLayout=o)}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let o=e.windowId;if(!o){const i=t.find((t=>t.id===e.id));o=null==i?void 0:i.windowId}return Object.assign(Object.assign({},e),{windowId:o})}))}};class p{init(t){this.containerElement=$(\"\"+t)[0],this.setupEvents()}refreshTabsMaxWidth(t){const e=t.children(),o=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",o+\"px\"),Array.from(e).forEach((t=>{const e=$(t).children(\".lm_title\"),o=l(t).width;e.css(\"max-width\",.75*o+\"px\"),this.refreshTabClasses(t)}))}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes),Array.from(t.addedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e,o){const i=t.children(),n=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",n+\"px\"),Array.from(i).forEach((t=>{const o=$(t).children(\".lm_title\"),i=l(t).width;o.css(\"max-width\",.75*i+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),o=this.visibleTabs($(e));o.forEach(((t,e)=>{const i=$(t).children(\".lm_title\"),n=l(o[e]).width;i.css(\"max-width\",.75*n+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),o=t.classList;this.isTabPinned(t)?(o.remove(\"lm_tab_mini\"),o.remove(\"lm_tab_small\")):e>=25&&e<35?(o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\"),o.add(\"lm_tab_small\")):e>=35?(o.remove(\"lm_tab_small\"),o.contains(\"lm_tab_mini\")&&o.remove(\"lm_tab_mini\")):e<25&&(o.remove(\"lm_tab_small\"),o.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\"))).map((t=>t))}isTabPinned(t){return t.classList.contains(\"lm_pinned\")}getTabWidth(t){return this.isTabPinned(t)?l(t).width:200}}const m=require(\"shortid\");var f=new class{constructor(){this.visibilityState={logo:void 0,workspaceTabs:{},addWorkspace:void 0,systemButtons:void 0,workspaceContents:[],beforeGroupTabs:[],afterGroupTabs:[]},this.callbackRegistry=s(),this.componentsFactory={},this._decoratedFactory={},this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,o=this.getWorkspaceIdFromContents(e),i=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(i,o)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(e[0].frameId=t,this.visibilityState.addWorkspace=[...e],this.componentsFactory.createAddWorkspace(...e))),(null==e?void 0:e.createWorkspaceTabs)&&(this.decoratedFactory.createWorkspaceTabs=t=>{var o;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t);let n=()=>{};return n=this.onWorkspaceClosed(t.workspaceId,(()=>{this.componentsFactory.removeWorkspaceTabs&&this.componentsFactory.removeWorkspaceTabs({elementId:null==t?void 0:t.workspaceId}),delete this.visibilityState.workspaceTabs[t.workspaceId],n()})),e.createWorkspaceTabs(t)}),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(e[0].frameId=t,this.visibilityState.logo=[...e],this.componentsFactory.createLogo(...e))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...o)=>(o[0].frameId=t,this.visibilityState.systemButtons=[...o],e.createSystemButtons(...o))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var o,i;const n=t;this.visibilityState.workspaceContents.push(n);const s=this.onWorkspaceClosed(null===(o=t[0])||void 0===o?void 0:o.workspaceId,(()=>{var e;this.componentsFactory.removeWorkspaceContents({workspaceId:null===(e=t[0])||void 0===e?void 0:e.workspaceId}),this.visibilityState.workspaceContents=this.visibilityState.workspaceContents.filter((t=>t!==n)),s()}));return this.subscribeForWorkspaceContentsVisibility(null===(i=t[0])||void 0===i?void 0:i.workspaceId),e.createWorkspaceContents(...t)}),(null==e?void 0:e.createBeforeGroupTabs)&&(this.decoratedFactory.createBeforeGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.beforeGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeBeforeGroupTabs&&this.componentsFactory.removeBeforeGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.beforeGroupTabs=this.visibilityState.beforeGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createBeforeGroupTabs(...t)}),(null==e?void 0:e.createAfterGroupTabs)&&(this.decoratedFactory.createAfterGroupTabs=(...t)=>{var o,i;const n=t;this.visibilityState.afterGroupTabs.push(n);let s=()=>{},r=()=>{};const a=()=>{var e;this.componentsFactory.removeAfterGroupTabs&&this.componentsFactory.removeAfterGroupTabs({elementId:null===(e=t[0])||void 0===e?void 0:e.elementId}),this.visibilityState.afterGroupTabs=this.visibilityState.afterGroupTabs.filter((t=>t!==n)),s(),r()};return s=this.onGroupClosed(null===(o=t[0])||void 0===o?void 0:o.groupId,a),r=this.onWorkspaceClosed(null===(i=t[0])||void 0===i?void 0:i.workspaceId,a),e.createAfterGroupTabs(...t)}),(null==e?void 0:e.updateWorkspaceTabs)?this.decoratedFactory.updateWorkspaceTabs=t=>{var o;if(!this.visibilityState.workspaceTabs[t.workspaceId])return;!0===t.isSelected&&this.changeSelectedState(t);const i=null!==(o=this.visibilityState.workspaceTabs[t.workspaceId])&&void 0!==o?o:{};this.visibilityState.workspaceTabs[t.workspaceId]=Object.assign(Object.assign({},i),t),e.updateWorkspaceTabs(t)}:this.decoratedFactory.updateWorkspaceTabs=()=>{},e&&(this.decoratedFactory.createId=()=>m.generate(),this.decoratedFactory.createWorkspaceTabsOptions=({element:t,contentItem:e})=>{var o,i;const n=e.parent.contentItems.indexOf(e)===(e.parent.config.activeItemIndex||0);return{domNode:t,workspaceId:r(e.config.id),title:e.config.title,isSelected:n,isPinned:e.config.workspacesConfig.isPinned,icon:e.config.workspacesConfig.icon,showSaveButton:null===(o=e.config.workspacesConfig.showSaveButton)||void 0===o||o,showCloseButton:null===(i=e.config.workspacesConfig.showCloseButton)||void 0===i||i,layoutName:e.config.workspacesConfig.layoutName}})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createWorkspaceTabs)&&Object.values(this.visibilityState.workspaceTabs).forEach((e=>{t.createWorkspaceTabs(e)})),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),(null==t?void 0:t.createBeforeGroupTabs)&&this.visibilityState.beforeGroupTabs.forEach((e=>{t.createBeforeGroupTabs(...e)})),(null==t?void 0:t.createAfterGroupTabs)&&this.visibilityState.afterGroupTabs.forEach((e=>{t.createAfterGroupTabs(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}notifyWorkspaceClosed(t){this.callbackRegistry.execute(\"workspace-closed-\"+t,t)}notifyGroupClosed(t){this.callbackRegistry.execute(\"group-closed-\"+t,t)}onWorkspaceClosed(t,e){return this.callbackRegistry.add(\"workspace-closed-\"+t,e)}onGroupClosed(t,e){return this.callbackRegistry.add(\"group-closed-\"+t,e)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}changeSelectedState(t){const e=this.lastSelectedWorkspaceTab;e&&this.decoratedFactory.updateWorkspaceTabs({workspaceId:e.workspaceId,isSelected:!1}),this.lastSelectedWorkspaceTab=t}};class g{constructor(t,e,o){this.stateResolver=t,this.windowContentItem=e,this.frameId=o}get minWidth(){return this.windowContentItem.getMinWidth()}set minWidth(t){this.windowContentItem.config.workspacesConfig.minWidth=t}get maxWidth(){return this.windowContentItem.getMaxWidth()}set maxWidth(t){this.windowContentItem.config.workspacesConfig.maxWidth=t}get minHeight(){return this.windowContentItem.getMinHeight()}set minHeight(t){this.windowContentItem.config.workspacesConfig.minHeight=t}get maxHeight(){return this.windowContentItem.getMaxHeight()}set maxHeight(t){this.windowContentItem.config.workspacesConfig.maxHeight=t}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,o;return null!==(o=null===(e=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.isMaximized)&&void 0!==o&&o}get isSelected(){var t;return r(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===r(this.windowContentItem.config.id)}get index(){var t,e;return(null===(e=null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems)||void 0===e?void 0:e.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,o;const i=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(o=null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.workspacesConfig)||void 0===o?void 0:o.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,r(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}get bounds(){var t,e,o;if(!this.windowContentItem)return{};this.windowContentItem.config.workspacesConfig||(this.windowContentItem.config.workspacesConfig={});const i=null===(t=u.getByWindowId(r(this.windowContentItem.config.id)))||void 0===t?void 0:t.id;if(i&&this.stateResolver.isWorkspaceSelected(i)){const t=l(this.windowContentItem.element);return this.windowContentItem.config.workspacesConfig.cachedBounds=t,t}const n=l(this.windowContentItem.element);return 0===n.width&&0===n.height&&(null===(e=this.windowContentItem.config.workspacesConfig)||void 0===e?void 0:e.cachedBounds)?null===(o=this.windowContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds:n}getSummaryCore(t,e){var o,i,n;const s=null==t?void 0:t.parent,a=\"function\"==typeof(null==s?void 0:s.getActiveContentItem)?s.getActiveContentItem():void 0,c=!a||a.config.id===t.config.id,l=void 0!==t.config.componentState.windowId,d=this.index,h=null===(o=u.getByWindowId(e))||void 0===o?void 0:o.id,{appName:p,url:m,windowId:f}=t.config.componentState,g=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:null!==(n=r(null===(i=null==g?void 0:g.config)||void 0===i?void 0:i.id))&&void 0!==n?n:r(t.config.id),config:{frameId:this.frameId,isFocused:c,isLoaded:l,positionIndex:d,workspaceId:h,windowId:f,isMaximized:this.isMaximized,appName:p,url:m,title:t.config.title,allowExtract:this.allowExtract,showCloseButton:this.showCloseButton,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height}}}getUserFriendlyParent(t){var e,o,i;return t.parent?(null===(i=null===(o=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class w{constructor(t,e,o,i){this.stateResolver=t,this.containerContentItem=e,this.frameId=o,this.workspaceId=i}get minWidth(){var t;return null!==(t=this.containerContentItem.getMinWidth())&&void 0!==t?t:20}set minWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set minWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minWidth \"+t);this.containerContentItem.config.workspacesConfig.minWidth=t}get minHeight(){var t;return null!==(t=this.containerContentItem.getMinHeight())&&void 0!==t?t:20}set minHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set minHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minHeight \"+t);this.containerContentItem.config.workspacesConfig.minHeight=t}get maxWidth(){var t;return null!==(t=this.containerContentItem.getMaxWidth())&&void 0!==t?t:32767}set maxWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set maxWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxWidth \"+t);this.containerContentItem.config.workspacesConfig.maxWidth=t}get maxHeight(){var t;return null!==(t=this.containerContentItem.getMaxHeight())&&void 0!==t?t:32767}set maxHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set maxHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxHeight \"+t);this.containerContentItem.config.workspacesConfig.maxHeight=t}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropHeader(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropHeader)||void 0===t||t}set allowDropHeader(t){this.containerContentItem.config.workspacesConfig.allowDropHeader=t}get allowDropLeft(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropLeft)||void 0===t||t}set allowDropLeft(t){this.containerContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropRight(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropRight)||void 0===t||t}set allowDropRight(t){this.containerContentItem.config.workspacesConfig.allowDropRight=t}get allowDropTop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropTop)||void 0===t||t}set allowDropTop(t){this.containerContentItem.config.workspacesConfig.allowDropTop=t}get allowDropBottom(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropBottom)||void 0===t||t}set allowDropBottom(t){this.containerContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtact(t)}get allowSplitters(){var t;if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Accessing allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);return null===(t=this.containerContentItem.config.workspacesConfig.allowSplitters)||void 0===t||t}set allowSplitters(t){if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Setting allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);this.containerContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get bounds(){var t,e,o,i;if(!this.containerContentItem)return{};this.containerContentItem.config.workspacesConfig||(this.containerContentItem.config.workspacesConfig={});const n=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id;if(n&&this.stateResolver.isWorkspaceSelected(n)){const t=l(this.containerContentItem.element);return this.containerContentItem.config.workspacesConfig.cachedBounds=t,t}const s=l(this.containerContentItem.element);return 0===s.width&&0===s.height&&(null===(o=this.containerContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds)?null===(i=this.containerContentItem.config.workspacesConfig)||void 0===i?void 0:i.cachedBounds:s}get isPinned(){var t;return null!==(t=this.containerContentItem.config.workspacesConfig.isPinned)&&void 0!==t&&t}get summary(){var t,e,o;const i=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,n=this.getUserFriendlyType((null===(o=this.containerContentItem)||void 0===o?void 0:o.type)||\"workspace\");let s={workspaceId:i,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,isMaximized:this.isMaximized};const a=\"window\"===n?void 0:n;return\"group\"===a&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton,allowDropHeader:this.allowDropHeader,allowDropLeft:this.allowDropLeft,allowDropRight:this.allowDropRight,allowDropTop:this.allowDropTop,allowDropBottom:this.allowDropBottom})),\"group\"!==a&&(s=Object.assign(Object.assign({},s),{allowSplitters:this.allowSplitters})),{itemId:r(this.containerContentItem.config.id),type:\"window\"===n?void 0:n,config:s}}get config(){var t;const e=(u.getByContainerId(this.containerContentItem.config.id)||u.getByWindowId(r(this.containerContentItem.config.id))).layout.toConfig(),o=this.findElementInConfig(r(this.containerContentItem.config.id),e);return o.workspacesConfig.isPinned=null!==(t=o.workspacesConfig.isPinned)&&void 0!==t&&t,o}get isMaximized(){return this.containerContentItem.hasId(\"__glMaximised\")}populateChildrenAllowDrop(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type)return;new w(this.stateResolver,o,this.frameId).allowDrop=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtact(t){const e=o=>{o.forEach((o=>{if(\"component\"!==o.type){if(\"stack\"===o.type){new w(this.stateResolver,o,this.frameId).allowExtract=t}e(o.contentItems)}else{new g(this.stateResolver,o,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}populateChildrenAllowSplitters(t){const e=o=>{o.forEach((o=>{if(\"component\"===o.type||\"stack\"===o.type)return;new w(this.stateResolver,o,this.frameId).allowSplitters=t,e(o.contentItems)}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const o=e=>{if(r(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...o(e)]),[])};return o(e).find((t=>t.id))}}class v{constructor(t,e,o,i){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=o,this.frameId=i}get id(){return this.workspace.id}get title(){var t;const e=this.workspaceContentItem;return(null===(t=e.tab)||void 0===t?void 0:t.title)||e.config.workspacesOptions.title||e.config.title||e.config.componentName}get lastFocusedWindowId(){var t,e,o,i,n,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const a=null===(o=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.focusedWindowId;if(a)return a;{const t=null===(n=null===(i=this.workspace.layout.config)||void 0===i?void 0:i.workspacesOptions)||void 0===n?void 0:n.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){const t=e.contentItems[e.contentItems.length-1].config.id;return r(t)}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(r(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return r(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>r(t.contentItem.config.id)===this.workspace.id))}get isPinned(){return!!this.workspaceContentItem.tab.isPinned}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig.workspacesOptions.isPinned=this.isPinned,t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.showAddWindowButtons=this.showAddWindowButtons,e.workspacesOptions.showEjectButtons=this.showEjectButtons,e.workspacesOptions.showWindowCloseButtons=this.showWindowCloseButtons,e.workspacesOptions.minWidth=Math.max(this.minWidth,20),e.workspacesOptions.maxWidth=Math.min(this.maxWidth,32767),e.workspacesOptions.minHeight=Math.max(this.minHeight,20),e.workspacesOptions.maxHeight=Math.min(this.maxHeight,32767),e.workspacesOptions.widthInPx=this.bounds.width,e.workspacesOptions.heightInPx=this.bounds.height,e.workspacesOptions.isPinned=this.isPinned,e.workspacesOptions.icon=this.icon,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=this.title),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,o={frameId:this.frameId,positionIndex:e,title:this.title,name:t.workspacesOptions.name||this.title,layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton,showAddWindowButtons:this.showAddWindowButtons,showEjectButtons:this.showEjectButtons,showWindowCloseButtons:this.showWindowCloseButtons,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,icon:this.icon};return t.workspacesOptions.layoutName&&(o.layoutName=t.workspacesOptions.layoutName),{config:o,id:this.workspace.id}}get allowDrop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDrop\"))||void 0===t||t}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropLeft\"))||void 0===t||t}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropTop\"))||void 0===t||t}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropRight\"))||void 0===t||t}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropBottom\"))||void 0===t||t}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.getPropertyFromConfig(\"allowExtract\"))||void 0===t||t}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowSplitters(){var t;return null===(t=this.getPropertyFromConfig(\"allowSplitters\"))||void 0===t||t}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showSaveButton(){var t;return null===(t=this.getPropertyFromConfig(\"showSaveButton\"))||void 0===t||t}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showSaveButton:t})}get showCloseButton(){var t;return null===(t=this.getPropertyFromConfig(\"showCloseButton\"))||void 0===t||t}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,showCloseButton:t})}get showAddWindowButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showAddWindowButtons\"))||void 0===t||t}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t,this.populateChildrenShowAddWindowButtons(t)}get showEjectButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showEjectButtons\"))||void 0===t||t}set showEjectButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showEjectButtons=t),this.workspaceContentItem.config.workspacesConfig.showEjectButtons=t,this.populateChildrenShowEjectButtons(t)}get showWindowCloseButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showWindowCloseButtons\"))||void 0===t||t}set showWindowCloseButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showWindowCloseButtons=t),this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons=t,this.populateChildrenShowWindowCloseButtons(t)}get minWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinWidth())&&void 0!==e?e:20}get maxWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxWidth())&&void 0!==e?e:32767}get minHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinHeight())&&void 0!==e?e:20}get maxHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxHeight())&&void 0!==e?e:32767}get bounds(){return this.isSelected?l(this.workspaceContentItem.element):l(this.workspaceContentItem.element[0].parentElement)}get hasMaximizedItems(){const t=this.workspace.layout;if(!t)return!1;return t.root.getItemsById(\"__glMaximised\").length>0}get icon(){return this.getPropertyFromConfig(\"icon\")}set icon(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.icon=t),this.workspaceContentItem.config.workspacesConfig.icon=t,f.decoratedFactory.updateWorkspaceTabs({workspaceId:this.workspace.id,icon:t})}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowSplitters(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"===e.type||\"stack\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowSplitters=t,e.contentItems.forEach((t=>{o(t)}))};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{o(t)}))}else{new g(this.stateResolver,e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowAddWindowButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showAddWindowButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowEjectButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showEjectButton=t}e.contentItems.forEach((t=>{o(t)}))}};e.root.contentItems.forEach((t=>{o(t)}))}populateChildrenShowWindowCloseButtons(t){const{layout:e}=this.workspace;if(!e)return;const o=e=>{if(\"component\"!==e.type)e.contentItems.forEach((t=>{o(t)}));else{new g(this.stateResolver,e,this.frameId).showCloseButton=t}};e.root.contentItems.forEach((t=>{o(t)}))}getPropertyFromConfig(t){var e;let o;return o=(null===(e=this.workspace)||void 0===e?void 0:e.layout)?this.workspace.layout.config.workspacesOptions[t]:this.workspaceContentItem.config.workspacesConfig[t],o}}class y{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}showWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e||e.element.hasClass(y.HibernationIconClass))return;const o=e.element.children(\".lm_iconButton\");o.css(\"display\",\"flex\"),o.show();e.element.find(\".lm_iconButtonContent\").css(\"-webkit-mask-image\",`url(\"${t.icon}\")`)}hideWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e&&!e.element.hasClass(y.HibernationIconClass)&&e.element.children(\".lm_iconButton\").hide()}replaceWorkspaceSaveButtonWithIcon(t){f.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceSaveButton(t),this.showWorkspaceIconButton(t))}replaceWorkspaceIconButtonWithSave(t){f.decoratedFactory.createWorkspaceTabs||(this.hideWorkspaceIconButton(t),this.showWorkspaceSaveButton(t))}hideHibernatedIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_saveButton\").removeClass(y.HibernationIconClass)}showHibernationIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.is(\":visible\")||o.show(),o.addClass(y.HibernationIconClass),o.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId),o=u.getById(t.workspaceId);if(!e)return;const i=e.element.children(\".lm_saveButton\");i.removeClass(y.HibernationIconClass),i.attr(\"title\",y.SaveWorkspaceButtonLabel),o.layout&&!1===o.layout.config.workspacesOptions.showSaveButton&&i.hide()}showWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").hide()}addInvisibleStyle(t){const e=document.createElement(\"style\");e.type=\"text/css\",e.innerHTML=`.lm_content.transparent-color { background-color: ${t}; }`,document.getElementsByTagName(\"head\")[0].appendChild(e)}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");null==o||o.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_popout\");null==o||o.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const o=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");null==o||o.hide()}showWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.showWindowCloseButton(r(t.config.id))}))}hideWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.hideWindowCloseButton(r(t.config.id))}))}showEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showEjectButton(r(t.config.id))}))}hideEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideEjectButton(r(t.config.id))}))}showAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(r(t.config.id))}))}hideAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideAddWindowButton(r(t.config.id))}))}waitForTransition(t){return this.hasTransition(t)?new Promise((e=>{let o=()=>{};const i=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())},n=i=>{i.pseudoElement||i.path[0]!==t||(e(),o())};o=()=>{t.removeEventListener(\"transitionend\",i),t.removeEventListener(\"transitioncancel\",n)},t.addEventListener(\"transitionend\",i),t.addEventListener(\"transitioncancel\",n)})):Promise.resolve()}hasTransition(t){return\"all 0s ease 0s\"!==window.getComputedStyle(t,null).getPropertyValue(\"transition\")}}y.HibernationIconClass=\"lm_hibernationIcon\",y.SaveWorkspaceButtonLabel=\"save\";var _=new y;const C=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class I{constructor(t,e,o,i){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this.getImmediateChildEmptyWindow=t=>\"component\"===t.type?\"emptyVisibleWindow\"===t.config.componentName?t:void 0:\"stack\"===t.type?t.getComponentsByName(\"emptyVisibleWindow\")[0]:t.contentItems.reduce(((t,e)=>t||(\"component\"===e.type?\"emptyVisibleWindow\"===e.config.componentName?e:void 0:e.contentItems.find((t=>\"component\"===t.type&&\"emptyVisibleWindow\"===t.config.componentName)))),void 0),this._options=o,this._emitter=t,this._stateResolver=e,this._configFactory=i}get emitter(){return this._emitter}get bounds(){return l(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator,this._tabObserver=new p,this._tabObserver.init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e.id)})}))))),this.setupOuterLayout(),u.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){o=o||r(u.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=u.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));const i=t.layout._maximizedItem;i&&i.toggleMaximise();let n=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];o&&o!==t.id&&(n=t.layout.root.getItemsById(o)[0]),n||(n=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:l,url:d,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const p=this.getImmediateChildEmptyWindow(n),m=u.getWorkspaceContentItem(t.id),f=new v(this._stateResolver,t,m,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,n,f,o===t.id);else{[...c(e.content),e].forEach((e=>{this.applyLockConfig(e,n,f,o===t.id)}))}return new Promise((o=>{var i,c;const l=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(l(),o())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),p&&p.parent&&!(null===(i=p.parent.config.workspacesConfig)||void 0===i?void 0:i.wrapper)){const o=this._configFactory.wrapInGroup([e]);o.workspacesConfig.wrapper=!1;const i=function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(o[i[n]]=t[i[n]])}return o}((null===(c=p.parent.config)||void 0===c?void 0:c.workspacesConfig)||{},[\"wrapper\"]);return o.workspacesConfig=Object.assign(Object.assign({},o.workspacesConfig),i),p.parent.parent.replaceChild(p.parent,o),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))))}if(p)return p.parent.replaceChild(p,e),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))));n.addChild(e)}))}))}addContainer(e,o){var i;return t(this,void 0,void 0,(function*(){const t=u.getByContainerId(o);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const o=e.id||this._configFactory.getId();return e&&(e.id=o),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),r(o)}const n=t.layout._maximizedItem;n&&n.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(o&&(s=t.layout.root.getItemsById(o)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===o&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),e.content){const i=[...c(e.content),e],n=u.getWorkspaceContentItem(t.id),r=new v(this._stateResolver,t,n,this._frameId);i.forEach((e=>{this.applyLockConfig(e,s,r,o===t.id)}))}if(\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const l=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),d=(null===(i=null==l?void 0:l.contentItems[0])||void 0===i?void 0:i.config.componentName)===this._emptyVisibleWindowName;return new Promise(((o,i)=>{let n=()=>{};const a=setTimeout((()=>{n(),i(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(n=this.emitter.onContentItemCreated(((i,s)=>{i===t.id&&s.type===e.type&&(o(r(s.config.id)),n(),clearTimeout(a))})),1===(null==l?void 0:l.contentItems.length)&&d){const o=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.windows=t.windows.filter((t=>t.id!==o.config.id)),o.parent.replaceChild(o,e)}else s.addChild(e)}))}))}closeContainer(t){const e=u.getByContainerId(t)||u.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);const o=e.layout.root.getItemsById(t)[0];o.parent.isRoot?this.resetWorkspace(e.id):o.remove()}bundleWorkspace(t,e){const o=u.getById(t),i=o.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),n=o.layout.root.contentItems[0],s={type:e,content:i,workspacesConfig:{}};o.layout.root.replaceChild(n,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,o){var i,n,s,r;return t(this,void 0,void 0,(function*(){const t=u.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],a={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:Object.assign({},o.workspacesOptions),id:e,noTabHeader:null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader,title:(null===(n=null==o?void 0:o.workspacesOptions)||void 0===n?void 0:n.title)||this._configFactory.getWorkspaceTitle(this._stateResolver.getWorkspaceTitles())};let c=!0;!0===a.noTabHeader?c=!1:\"boolean\"==typeof o.workspacesOptions.selected&&(c=o.workspacesOptions.selected),this.registerWorkspaceComponent(e);const l=null===(s=o.workspacesOptions)||void 0===s?void 0:s.positionIndex;if(null===(r=o.workspacesOptions)||void 0===r||delete r.positionIndex,l<0)throw new Error(`Cannot place the workspace on index ${l} because its negative`);const d=t.header._getLastIndexOfPinnedTab();if(l<=d&&!o.workspacesOptions.isPinned)throw new Error(\"Cannot place and unpinned workspace before the last pinned workspace at position \"+d);t.addChild(a,l,c),yield this.initWorkspaceContents(e,o,!1);const h=u.getWorkspaceContentItem(e),p=new v(this._stateResolver,u.getById(e),h,this._frameId);!1===p.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:h.tab}),!1===p.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:h.tab}),p.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:h.tab,icon:p.icon}),_.waitForTransition(h.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(h.parent.header.tabsContainer)}))),this.setupContentLayouts(e)}))}reinitializeWorkspace(t,e){var o,i;const n=u.getWorkspaceContentItem(t);return u.removeLayout(t),(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,(null===(i=e.workspacesOptions)||void 0===i?void 0:i.title)&&this.setWorkspaceTitle(r(n.config.id),e.workspacesOptions.title),this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could not find workspace to remove with id \"+t);u.removeById(t),e.remove()}resetWorkspace(e){return t(this,void 0,void 0,(function*(){const o=u.getById(e);o.hibernatedWindows=[],o.windows.filter((t=>t.appName||t.windowId)).map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.id);t&&this.emitter.raiseEvent(\"tab-close-requested\",{item:t})}))));o.layout.root.getItemsByType(\"component\").forEach((t=>{t.remove()})),u.removeLayout(o.id),this.showAddButton(o.id)}))}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const o=$(\"link[href='./dist/glue42-light-theme.css']\");(0===o.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):o).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const o=this.getDragElement();if(o){o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\");const i=$(o).children(\".lm_content\").children(\".lm_item_container\")[0];i.setAttribute(\"width\",t+\"px\"),i.setAttribute(\"height\",e+\"px\"),i.setAttribute(\"style\",\"\")}else{const o=new MutationObserver((i=>{let n;Array.from(i).forEach((t=>{const e=$(t.addedNodes);n||(n=e.find(\".lm_dragProxy\"))})),n&&(o.disconnect(),this.setDragElementSize(t,e))}));o.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return u.layouts.filter((t=>t.layout)).forEach((o=>{const i=o.layout.root.getItemsById(t)[0];i&&o.windows.find((e=>e.id===t))&&(o.windows=o.windows.filter((e=>e.id!==t)),i.remove(),e=o)})),e}setWindowTitle(t,e){const o=u.getWindowContentItem(t);if(!o)throw new Error(`Could not find window ${t} to change its title to ${e}`);o.setTitle(e),o.config.componentState.title=e}setWorkspaceTitle(t,e){u.getWorkspaceLayoutItemById(t).setTitle(e),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,title:e})}focusWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.setActiveContentItem(o)}focusWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0],i=u.getById(o.layoutManager.root.config.id);if(new v(this._stateResolver,i,void 0,this._frameId).hasMaximizedItems&&!o.parent.hasId(this._maximizedId))throw new Error(`Could not maximize window ${t}, because workspace ${i.id} contains another maximized item`);o.parent.hasId(this._maximizedId)||o.parent.toggleMaximise()}restoreWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const o=e.layout.root.getItemsById(t)[0];o.parent.hasId(this._maximizedId)&&o.parent.toggleMaximise()}maximizeContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);const o=u.getById(e.layoutManager.root.config.id);if(new v(this._stateResolver,o,void 0,this._frameId).hasMaximizedItems&&!e.hasId(\"__glMaximised\"))throw new Error(`Could not maximize container ${t}, because workspace ${o.id} contains another maximized item`);e.hasId(\"__glMaximised\")||e.layoutManager._$maximiseItem(e)}restoreContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);e.hasId(\"__glMaximised\")&&e.layoutManager._$minimiseItem(e)}showLoadedWindow(e,o){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=u.getWindowContentItem(e),i=u.getByWindowId(e),n=t.config;n.componentState.windowId=o,i.windows.find((t=>t.id===e)).windowId=o,t.parent.replaceChild(t,n)}))}isWindowVisible(t){t=r(t);const e=u.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const o=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return;const i=o.element.children(\".lm_saveButton\");i.addClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const o=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!o)return void console.error(\"Could not find the tab for\",t);const i=o.element.children(\".lm_saveButton\");i.removeClass(\"lm_hibernationIcon\"),i.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=u.getWindowContentItem(t);if(null==e?void 0:e.tab){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),o=u.getById(t);if(e&&(null==o?void 0:o.layout)){const t=l(e);o.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const o=u.getWorkspaceContentItem(t),i=u.getById(t),n=new v(this._stateResolver,i,o,this._frameId);n.allowDrop=e.allowDrop,n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const o=u.getWorkspaceContentItem(t),i=u.getById(t),n=new v(this._stateResolver,i,o,this._frameId);n.allowDropLeft=e.allowDropLeft,n.allowDropTop=e.allowDropTop,n.allowDropRight=e.allowDropRight,n.allowDropBottom=e.allowDropBottom}enableWorkspaceSaveButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,e,o,this._frameId);i.showSaveButton=!0,i.isPinned||_.showWorkspaceSaveButton({workspaceTab:o.tab})}disableWorkspaceSaveButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showSaveButton=!1,_.hideWorkspaceSaveButton({workspaceTab:o.tab})}enableWorkspaceCloseButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,e,o,this._frameId);i.showCloseButton=!0,i.isPinned||_.showWorkspaceCloseButton({workspaceTab:o.tab})}disableWorkspaceCloseButton(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showCloseButton=!1,_.hideWorkspaceCloseButton({workspaceTab:o.tab})}enableSplitters(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowSplitters=!0}disableSplitters(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).allowExtract=!1}enableWorkspaceWindowCloseButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!0,_.showWindowCloseButtons(t)}disableWorkspaceWindowCloseButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showWindowCloseButtons=!1,_.hideWindowCloseButtons(t)}enableWorkspaceEjectButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showEjectButtons=!0,_.showEjectButtons(t)}disableWorkspaceEjectButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showEjectButtons=!1,_.hideEjectButtons(t)}enableWorkspaceAddWindowButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!0,_.showAddWindowButtons(t)}disableWorkspaceAddWindowButtons(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).showAddWindowButtons=!1,_.hideAddWindowButtons(t)}enableWindowExtract(t,e){const o=u.getWindowContentItem(t);new g(this._stateResolver,o,this._frameId).allowExtract=e}disableWindowExtract(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).allowExtract=!1}enableWindowCloseButton(t,e){const o=u.getWindowContentItem(t);new g(this._stateResolver,o,this._frameId).showCloseButton=e;const i=u.getByWindowId(t),n=u.getWorkspaceContentItem(i.id);new v(this._stateResolver,i,n,this._frameId).showCloseButton&&_.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).showCloseButton=!1,_.hideWindowCloseButton(t)}enableColumnDrop(t,e){const o=u.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowDrop=e}disableColumnDrop(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const o=u.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowDrop=e}disableRowDrop(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableColumnSplitters(t,e){const o=u.getContainer(t);if(\"column\"!==o.type)throw new Error(`Expected item with type column but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowSplitters=e}disableColumnSplitters(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableRowSplitters(t,e){const o=u.getContainer(t);if(\"row\"!==o.type)throw new Error(`Expected item with type row but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowSplitters=e}disableRowSplitters(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableGroupDrop(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new w(this._stateResolver,o,this._frameId);i.allowDrop=e.allowDrop,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableGroupDrop(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);const i=new w(this._stateResolver,o,this._frameId);i.allowDrop=!1,i.allowDropHeader=e.allowDropHeader,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableGroupMaximizeButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showMaximizeButton=e,_.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showMaximizeButton=!1,_.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showEjectButton=e,_.showEjectButton(t)}disableGroupEjectButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showEjectButton=!1,_.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).showAddWindowButton=e,_.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showAddWindowButton=!1,_.hideAddWindowButton(t)}enableGroupExtract(t,e){const o=u.getContainer(t);if(\"stack\"!==o.type)throw new Error(`Expected item with type stack but received ${o.type} ${t}`);new w(this._stateResolver,o,this._frameId).allowExtract=e}disableGroupExtract(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowExtract=!1}resizeRow(t,e){const o=t.getItemsByType(\"component\")[0];let i=this.validateRowHeight(t,e);if(i){if(\"number\"==typeof e){i-=h(o.parent.header.element)}this.resizeComponentCore(o,void 0,i)}}resizeColumn(t,e){const o=t.getItemsByType(\"component\")[0],i=this.validateColumnWidth(t,e);i&&this.resizeComponentCore(o,i)}resizeStack(t,e,o){const i=this.validateStackWidth(t,e);let n=this.validateStackHeight(t,o);const s=t.getItemsByType(\"component\")[0];if(\"number\"==typeof n){n-=h(s.parent.header.element)}this.resizeComponentCore(s,i,n)}resizeComponent(t,e,o){this.resizeComponentCore(t,e,o)}togglePinWorkspace(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,o,this._frameId).isPinned?this.unpinWorkspace(t):this.pinWorkspace(t,void 0)}pinWorkspace(t,e){const o=u.getWorkspaceContentItem(t),i=new v(this._stateResolver,u.getById(t),o,this._frameId),n=e||i.icon;if(!n)throw new Error(`Workspace ${t} cannot be pinned because ${n} is an invalid icon`);o.tab.pin(),e&&(i.icon=e),_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:o.tab,icon:n}),_.waitForTransition(o.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(o.parent.header.tabsContainer)})),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,icon:e,isPinned:!0})}unpinWorkspace(t){const e=u.getWorkspaceContentItem(t),o=new v(this._stateResolver,u.getById(t),e,this._frameId);e.tab.unpin(),o.showSaveButton&&_.showWorkspaceSaveButton({workspaceTab:e.tab}),o.showCloseButton||_.hideWorkspaceCloseButton({workspaceTab:e.tab}),_.hideWorkspaceIconButton({workspaceTab:e.tab}),_.waitForTransition(e.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(e.parent.header.tabsContainer)})),f.decoratedFactory.updateWorkspaceTabs({workspaceId:t,isPinned:!1})}resizeComponentCore(t,e,o){const i=this.validateComponentWidth(t,e),n=this.validateComponentHeight(t,o);if(\"number\"==typeof i){const e=t.container.setSize(i,void 0);if(t.container.setSize(i,void 0),!e)throw new Error(`Failed to resize window ${t.config.id} to ${i} width.\\n                 This is most likely caused by a missing row parent element - to change the width please make sure that there is a row element`)}if(\"number\"==typeof n){const e=t.container.setSize(void 0,n);if(t.container.setSize(void 0,n),!e)throw new Error(`Failed to resize component ${t.config.id} to ${n} height.\\n                     This is most likely caused by a missing column parent element - to change the height please make sure that there is a column element`)}}validateRowHeight(t,e){if(!e)return;const o=t.parent,i=o.getMaxHeight(),n=t.getMaxHeight(),s=t.getMinHeight(),r=l(o.element).height,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinHeight()),0);if(a<=0)return;const c=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxHeight()),0),d=Math.max(r-c,0),h=Math.min(i,n,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateColumnWidth(t,e){if(!e)return;const o=t.parent,i=o.getMaxWidth(),n=t.getMaxWidth(),s=t.getMinWidth(),r=l(o.element).width,a=r-o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinWidth()),0);if(a<=0)return;const c=o.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxWidth()),0),d=Math.max(r-c,0),h=Math.min(i,n,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateStackHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateStackWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentHeight(t,e){if(!e)return;const o=t.getMaxHeight(),i=t.getMinHeight();return o<i?void 0:Math.min(Math.max(i,e),o)}validateComponentWidth(t,e){if(!e)return;const o=t.getMaxWidth(),i=t.getMinWidth();return o<i?void 0:Math.min(Math.max(i,e),o)}initWorkspaceContents(t,e,o){if(!e||\"component\"!==e.type&&!e.content.length)return u.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const n=((t,e)=>{let o,i,n=0;const s=setTimeout((()=>{i()}),e||1e4);return{reject:t=>{clearTimeout(s),i(t)},signal:()=>{n++,n>=t&&(clearTimeout(s),o())},promise:new Promise(((t,e)=>{o=t,i=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[e]});const s=u.getWorkspaceContentItem(t),c=s.config.workspacesConfig,d=e.workspacesOptions,h=o?Object.assign({},c,d):d;\"boolean\"==typeof h.selected&&delete h.selected,s.config.workspacesConfig=h,e.workspacesOptions=h,e.workspacesOptions.workspaceId=t;const p=new i(e,$(\"#nestHere\"+t),f.decoratedFactory);u.addOrUpdate(t,[]),this.registerEmptyWindowComponent(p,t),a(e.content).forEach((t=>{this.registerWindowComponent(p,r(t.id))}));const m=$(\"#nestHere\"+t);return new C((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(m[0]),p.on(\"initialised\",(()=>{const e=a(p.toConfig().content);u.addOrUpdate(t,e.map((t=>{const e=p.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:l(e),windowId:t.componentState.windowId}})),p),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:p});const o=m.width(),i=m.height();p.updateSize(o,i),n.signal()})),p.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),p.on(\"itemCreated\",(e=>{var o;if(e.isComponent)e.on(\"size-changed\",(()=>{const o=u.getById(t).windows.find((t=>t.id===e.config.id));o&&(o.bounds=l(e.element));const i=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(i)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(o=e.parent)||void 0===o?void 0:o.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId()),\"row\"!==e.type&&\"column\"!==e.type&&\"stack\"!==e.type||(e.on(\"maximized\",(()=>{this.emitter.raiseEvent(\"container-maximized\",{container:e})})),e.on(\"minimized\",(()=>{this.emitter.raiseEvent(\"container-restored\",{container:e})})))}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),p.on(\"itemDestroyed\",(e=>{this.emitter.raiseEvent(\"content-item-removed\",{workspaceId:t,item:e})})),p.on(\"stackCreated\",(e=>{const o=new w(this._stateResolver,e,this._frameId),i=document.createElement(\"li\");i.classList.add(\"lm_add_button\"),i.onclick=o=>{o.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:l(i)}})};const n=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");n.addClass(\"workspace_content\"),!1===o.showMaximizeButton&&_.hideMaximizeButton(e),!1===p.config.workspacesOptions.showEjectButtons&&!0!==o.showEjectButton&&_.hideAddWindowButton(e),!1===o.showEjectButton&&_.hideEjectButton(e),e.on(\"maximized\",(()=>{n.addClass(\"lm_restore\"),n.attr(\"title\",this._stackRestoreLabel)})),e.on(\"minimized\",(()=>{n.removeClass(\"lm_restore\"),n.attr(\"title\",this._stackMaximizeLabel)})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(i)),!1===p.config.workspacesOptions.showAddWindowButtons&&!0!==o.showAddWindowButton&&_.hideAddWindowButton(e),!1===o.showAddWindowButton&&_.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const o=t.config.id,i=[{id:r(t.config.id),bounds:l(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],n=e.header.tabs.reduce(((t,e)=>{const o=e.contentItem.config;if(\"component\"===o.type){const i={id:r(o.id),bounds:l(e.contentItem.element),windowId:o.componentState.windowId,appName:o.componentState.appName,url:o.componentState.url};t.push(i)}return t}),[]).filter((t=>t.id!==o));this.emitter.raiseEvent(\"selection-changed\",{toBack:n,toFront:i})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),p.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragStop\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;const e=new g(this._stateResolver,t.contentItem,this._frameId);!1===p.config.workspacesOptions.showWindowCloseButtons&&!0!==e.showCloseButton&&_.hideWindowCloseButton(t.contentItem),!1===e.showCloseButton&&_.hideWindowCloseButton(t.contentItem)})),p.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),p.on(\"componentCreated\",(e=>{const o=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(o)?Promise.all(o).then((()=>{n.signal()})).catch((t=>n.reject(t))):o.then((()=>{n.signal()})).catch((t=>n.reject(t)))})),p.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),p.on(\"itemDropped\",(t=>{this.emitter.raiseEvent(\"item-dropped\",{item:t})})),p._ignorePinned=!0,p.init(),n.promise.then((()=>{p._ignorePinned=!1}))}initWorkspaceConfig(e){return new Promise((o=>{e.settings.selectionEnabled=!0,u.workspaceLayout=new i(e,$(this._workspaceLayoutElementId),f.decoratedFactory);new C((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),u.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{});u.workspaceLayout.root.getItemsByType(\"stack\")[0].header.tabs.forEach((t=>{var e,o,i;const n=new v(this._stateResolver,void 0,t.contentItem,this._frameId);n.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:t,icon:n.icon}),_.waitForTransition(t.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(t.contentItem.parent.header.tabsContainer)}))),(null===(i=null===(o=null===(e=t.contentItem)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesConfig)||void 0===i?void 0:i.selected)&&delete t.contentItem.config.workspacesConfig.selected})),o()})),u.workspaceLayout.on(\"stackCreated\",(e=>{var o;const i=e.header.controlsContainer.children(\".lm_close\")[0];i&&(i.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const n=e.header.element[0],s=null===(o=f.decoratedFactory)||void 0===o?void 0:o.createAddWorkspace;if(new MutationObserver((()=>{const t=this.getElementByClass(n,\"lm_add_button\");t&&f.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:l(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!s){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!f.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const e=n.getElementsByClassName(\"lm_logo\")[0];e&&e.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===u.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const o=u.workspaceIds.reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:u.getById(t),toBack:o})}))))})),u.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),u.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\"),o=document.createElement(\"div\"),i=document.createElement(\"span\");o.classList.add(\"lm_iconButton\"),i.classList.add(\"lm_iconButtonContent\"),o.appendChild(i),e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(f.decoratedFactory.createWorkspaceTabs||(t.element[0].prepend(o),t.element[0].prepend(e)),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t);const n=u.getById(t.contentItem.config.id),s=new v(this._stateResolver,n,t.contentItem,this._frameId);!1===s.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:t}),!1===s.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:t}),t._dragListener.on(\"reorderStop\",(()=>{u.syncWorkspaceOrder()}))})),u.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:u.getById(t.contentItem.config.id)})})),u.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{u.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const o=u.getById(t).layout;if(o){const e=$(\"#nestHere\"+t),i=l(e[0]);o.updateSize(i.width,i.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const o=document.createElement(\"div\");o.setAttribute(\"style\",\"height:100%;\"),o.id=\"app\"+e,t.getElement().append(o)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const o=document.createElement(\"div\");o.classList.add(\"empty-container-background\");const i=document.createElement(\"button\");i.classList.add(\"add-button\"),i.onclick=o=>{o.stopPropagation();const n=t.tab.contentItem,s=\"stack\"===n.parent.type?\"group\":n.parent.type;n.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(n.parent.parent.config.id),workspaceId:e,parentType:n.parent.parent.type,bounds:l(i)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(n.parent.config.id),workspaceId:e,parentType:s,bounds:l(i)}})},o.append(i),t.getElement().append(o)}))}registerWorkspaceComponent(t){this.registerComponent(u.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var o,i;const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),n.classList.add(\"empty-container-background\"),n.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=o=>{o.stopPropagation();const i=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.id),workspaceId:t,bounds:l(s)}})},n.appendChild(s),(null===(o=f.decoratedFactory)||void 0===o?void 0:o.createWorkspaceContents)?(document.body.append(n),n.style.display=\"none\",null===(i=f.decoratedFactory)||void 0===i||i.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(n),$(s).hide()}))}registerComponent(t,e,o){try{t.registerComponent(e,(function(t,e){o&&o(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const o=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),o()}));u.getById(t)&&(e(),o())}))}waitForWindowContainer(t){return new Promise((e=>{const o=this.emitter.onContentComponentCreated((i=>{i.config.id===t&&(e(),o())}));u.getWindowContentItem(t)&&(e(),o())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=l($(this._workspaceLayoutElementId));u.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),i=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));o&&t.element.addClass(\"lm_tab_small\"),i&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const o=t.getElementsByClassName(e);if(o.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return o[0]}applyLockConfig(t,e,o,i){var n,s,r,a;const c=i?o.allowDrop:e.config.workspacesConfig.allowDrop,l=i?o.allowSplitters:e.config.workspacesConfig.allowSplitters;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(n=t.workspacesConfig.allowDrop)&&void 0!==n?n:c),void 0===t.workspacesConfig.allowExtract){const e=o.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}void 0===t.workspacesConfig.showAddWindowButton&&(t.workspacesConfig.showAddWindowButton=o.showAddWindowButtons),void 0===t.workspacesConfig.showEjectButton&&(t.workspacesConfig.showEjectButton=o.showEjectButtons)}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(r=t.workspacesConfig.allowDrop)&&void 0!==r?r:c),void 0===t.workspacesConfig.allowSplitters&&(t.workspacesConfig.allowSplitters=null!==(a=t.workspacesConfig.allowSplitters)&&void 0!==a?a:l);else if(\"component\"===t.type){if(void 0===t.workspacesConfig.allowExtract){const n=i?o.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=n}void 0===t.workspacesConfig.showCloseButton&&(t.workspacesConfig.allowExtract=o.showWindowCloseButtons)}}}class k{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onContainerMaximized(t){return this._registry.add(\"container-maximized\",t)}onContainerRestored(t){return this._registry.add(\"container-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}onItemDropped(t){return this._registry.add(\"item-dropped\",t)}onContentItemRemoved(t){return this._registry.add(\"content-item-removed\",t)}raiseEvent(t,e){const o=this._registry.execute(t,...Object.values(e));return Array.isArray(o)&&o.some((t=>t&&t.then))||o&&!Array.isArray(o)&&o.then?o:Promise.resolve(o)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var b=1;var x,W,E,S={nextValue:function(){return(b=(9301*b+49297)%233280)/233280},seed:function(t){b=t}},T=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function B(){E=!1}function D(t){if(t){if(t!==x){if(t.length!==T.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,o){return e!==o.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));x=t,B()}}else x!==T&&(x=T,B())}function M(){return E||(E=function(){x||D(T);for(var t,e=x.split(\"\"),o=[],i=S.nextValue();e.length>0;)i=S.nextValue(),t=Math.floor(i*e.length),o.push(e.splice(t,1)[0]);return o.join(\"\")}())}var A={get:function(){return x||T},characters:function(t){return D(t),x},seed:function(t){S.seed(t),W!==t&&(B(),W=t)},lookup:function(t){return M()[t]},shuffled:M},P=\"object\"==typeof window&&(window.crypto||window.msCrypto),L=P&&P.getRandomValues?function(t){return P.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],o=0;o<t;o++)e.push(Math.floor(256*Math.random()));return e},O=function(t,e,o){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*i*o/e.length),s=\"\";;)for(var r=t(n),a=n;a--;)if((s+=e[r[a]&i]||\"\").length===+o)return s};var R,H,F=function(t){for(var e,o=0,i=\"\";!e;)i+=O(L,A.get(),1),e=t<Math.pow(16,o+1),o++;return i};var z=function(t){var e=\"\",o=Math.floor(.001*(Date.now()-1567752802062));return o===H?R++:(R=0,H=o),e+=F(7),e+=F(t),R>0&&(e+=F(R)),e+=F(o)};var N=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+A.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},j=o((function(t){var e=0;function o(){return z(e)}t.exports=o,t.exports.generate=o,t.exports.seed=function(e){return A.seed(e),t.exports},t.exports.worker=function(o){return e=o,t.exports},t.exports.characters=function(t){return void 0!==t&&A.characters(t),A.shuffled()},t.exports.isValid=N}));class q{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,o,i,n){return t(this,void 0,void 0,(function*(){return this.startCore(e,o,i,n)}))}moveFrame(t,e){const o=this._idToFrame[t],i=$(o);0!==e.width&&0!==e.height&&(i.css(\"top\",e.top+\"px\"),i.css(\"left\",e.left+\"px\")),i.css(\"width\",e.width+\"px\"),i.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setImmediate((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)})))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,o,i,n){return t(this,void 0,void 0,(function*(){if(n=n||j.generate(),this._idToFrame[e])return this._idToFrame[e];if(!o)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");t.name=n+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=o;return new URL(location.href).protocol.includes(\"extension\")&&t.setAttribute(\"sandbox\",\"allow-forms allow-scripts allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin\"),document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(n),t}))}waitForWindow(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{o(`Window with id ${t} did not appear in 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((o=>{o.id===t&&(i(),e(),clearTimeout(n))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),i(),clearTimeout(n))}))}}var G=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var U=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),o=t.get(\"disableCustomButtons\"),i=t.get(\"workspaceName\"),n=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(n)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}i&&c.push(i);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=o&&void 0!==o,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const o=new URLSearchParams(t),i=o.get(e);Array.from(o.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${i}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class V{constructor(t,e,o,i,n){this.resolver=t,this._glue=e,this._configFactory=o,this._configConverter=i,this._constraintsValidator=n,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig(this._initialWorkspaceConfig);const o=U.config;if(o.workspaceNames&&o.workspaceNames.length){const e=(yield Promise.all(o.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},o.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,o.context):o.context&&(t.workspacesOptions.context=o.context),t.workspacesOptions.layoutName=o.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=U.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig(this.resolver.getWorkspaceTitles())}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(G.get(G.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){var o,i,n;return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),s=t.components[0].state;this._constraintsValidator.fixWorkspace(s);const r=this._configConverter.convertToRendererConfig(s);return null===(i=null===(o=r)||void 0===o?void 0:o.workspacesOptions)||void 0===i||delete i.positionIndex,this.addWorkspaceIds(r),{config:r,layoutData:{metadata:t.metadata,name:e,context:null!==(n=s.context)&&void 0!==n?n:{}}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var o;return t(this,void 0,void 0,(function*(){const{workspace:t,name:i,saveContext:n}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(o=t.layout)||void 0===o?void 0:o.config)||t.hibernateConfig).workspacesOptions.name=i;const s=yield this.saveWorkspaceCore(t);s.config.title&&delete s.config.title;let r=void 0;if(n)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:i,type:this._layoutsType,metadata:e.metadata,components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:null!=r?r:{}}}]};try{yield this._glue.layouts.import([a],\"merge\")}catch(t){throw console.error(t),t}return a}))}generateLayout(e,o){return t(this,void 0,void 0,(function*(){if(!o.layout)throw new Error(\"An empty layout cannot be generated\");o.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(o);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var o,i;return t(this,void 0,void 0,(function*(){if(!(null===(i=null===(o=window.glue42core)||void 0===o?void 0:o.workspacesFrameCache)||void 0===i||i))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),n=yield Promise.all(t);G.set(G.LAST_SESSION_KEY,n)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName,yield this.applyWindowLayoutState(t);const o=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(o),this.windowSummariesToWindowLayout(o),this.addWindowUrlsToWindows(o),this.workspaceSummaryToWorkspaceLayout(o),o}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id),o=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(o),this.windowSummariesToWindowLayout(o),this.addWindowUrlsToWindows(o),this.workspaceSummaryToWorkspaceLayout(o),o}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const o=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>o(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const o=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},o)}}}));yield o(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var o,i;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(i=null===(o=null==e?void 0:e.userProperties)||void 0===o?void 0:o.details)||void 0===i?void 0:i.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var o;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(o=t.children)||void 0===o||o.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const o=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>o(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield o(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(d(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class X{constructor(t,e,o,i){this._frameId=t,this._layoutEventEmitter=e,this.frameController=o,this.converter=i}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=u.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=u.getWindowContentItem(e));return new g(this,t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const o=e||u.getWindowContentItem(t);return new g(this,o,this._frameId).summary}getWorkspaceConfig(t){const e=u.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new v(this,e,u.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSnapshot(t,e){const o=this.getWorkspaceConfig(t),i=this.converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:e.getFrameSummary(this._frameId)}}getWorkspaceSummary(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=r(t),o=u.getWindowContentItem(e);return new g(this,o,this._frameId).isMaximized}isWindowInMaximizedContainer(t){const e=Array.isArray(t)?t[0]:t,o=u.getWindowContentItem(e),i=t=>{if(t&&!t.isRoot)return t.hasId(\"__glMaximised\")?t:i(t.parent)};return!!i(o)}isWindowSelected(t){const e=r(t),o=u.getWindowContentItem(e);return new g(this,o,this._frameId).isSelected}isWorkspaceSelected(t){const e=u.getById(t),o=u.getWorkspaceContentItem(t);return new v(this,e,o,this._frameId).isSelected}isWorkspaceHibernated(t){const e=u.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const o=u.getWorkspaceContentItem(e.id);return new v(this,e,o,this._frameId).isHibernated}getContainerSummary(t){t=r(t);const e=u.getContainer(t);return new w(this,e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new w(this,t,this._frameId,e).summary}getContainerConfig(t){const e=u.getContainer(t);return new w(this,e,this._frameId).config}isWindowInWorkspace(t){return!!u.getWindowContentItem(t)}getFrameSnapshot(t){const e=u.workspaceIds.map((e=>this.getWorkspaceSnapshot(e,t))),o=this.getFrameConstraints();return{id:this._frameId,config:Object.assign({},o),workspaces:e}}getSnapshot(t,e){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot(e)}}extractWindowSummariesFromSnapshot(t){const e=[],o=(t,i)=>{\"component\"!==t.type?t.content.forEach((e=>o(e,r(t.id)))):e.push({itemId:r(t.id),parentId:i,config:t.workspacesConfig})};return o(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(r(t))}getRendererWindowBounds(){return{left:window.visualViewport.offsetLeft,top:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height}}getFrameConstraints(){return u.workspaceIds.map((t=>new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId))).reduce(((t,e)=>{const o=this.getRendererWindowBounds(),i=o.width-e.bounds.width,n=o.height-e.bounds.height,s=Math.ceil(Math.max(e.minWidth+i,t.minWidth)),r=Math.ceil(Math.max(e.minHeight+n,t.minHeight)),a=Math.ceil(Math.min(e.maxWidth+i,t.maxWidth)),c=Math.ceil(Math.min(e.maxHeight+n,t.maxHeight));return r<=c&&s<=a&&(t.minWidth=s,t.minHeight=r,t.maxWidth=a,t.maxHeight=c),t}),{minWidth:20,maxWidth:32767,minHeight:20,maxHeight:32767})}getWorkspaceIcon(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).icon}getWorkspaceTitles(){return u.workspaceIds.map((t=>new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).title))}waitForWindowContentItem(t){return new Promise((e=>{const o=this._layoutEventEmitter.onContentComponentCreated((i=>{i.config.id===t&&(o(),e())}));u.getWindowContentItem(t)&&(o(),e())}))}}class Y{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const o=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((o.length?o.sort(((t,e)=>t-e))[o.length-1]:0)+1+e)}}class J{constructor(t){this._titleGenerator=new Y,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),o={allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,positionIndex:t.positionIndex,isMaximized:t.isMaximized};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:o})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,widthInPx:t.widthInPx,heightInPx:t.heightInPx}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return j.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(t){const e=j.generate();return{frameId:void 0,workspaceConfigs:[{id:e,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:e,componentName:this.getWorkspaceLayoutComponentName(e),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(t)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e=t.find((t=>{var e;return null===(e=t.workspacesOptions)||void 0===e?void 0:e.selected})),o={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",activeItemIndex:e?t.indexOf(e):t.length-1,content:t.map((t=>{var e,o,i;const n=j.generate();return{workspacesConfig:Object.assign({},t.workspacesOptions),type:\"component\",id:(null==t?void 0:t.id)||n,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||n),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.title)||(null===(i=null==t?void 0:t.workspacesOptions)||void 0===i?void 0:i.name)||this.getWorkspaceTitle(u.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,e)=>{let i=null==t?void 0:t.id;return i||\"component\"===o.content[0].type||(i=o.content[0].content[e].id),{id:i,config:t}})),workspaceLayout:o}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}convertLayoutOptionsToWorkspaceItem(e,o,i){var n;return t(this,void 0,void 0,(function*(){const t=yield i.getWorkspaceByName(e),s=t.config;return s.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&s.workspacesOptions.context?s.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(s.workspacesOptions.context=null==o?void 0:o.context),s.workspacesOptions.title=(null==o?void 0:o.title)||e,s.workspacesOptions.icon=null!==(n=null==o?void 0:o.icon)&&void 0!==n?n:s.workspacesOptions.icon,s&&s.workspacesOptions&&!s.workspacesOptions.name&&(s.workspacesOptions.name=e),s&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.layoutName=t.layoutData.name),s&&o&&(s.workspacesOptions.loadingStrategy=o.loadingStrategy),s&&void 0!==(null==o?void 0:o.noTabHeader)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),s&&void 0!==(null==o?void 0:o.isPinned)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.isPinned=null==o?void 0:o.isPinned),s&&void 0!==(null==o?void 0:o.isSelected)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.selected=null==o?void 0:o.isSelected),s}))}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}}class Z{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class Q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var o,i,n,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k,b,x,W,E,S,T,B,D,M,A,P,L,O,R,H,F,z,$,N,j,q,G,U,V,X,Y,J,Z,Q;let K={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(K=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:o}=e;return o.length>1&&o.every((t=>\"column\"===t.type))?K.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):o.length>1&&o.every((t=>\"row\"===t.type))?K.content.push(this.wrap(o.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):K.content.push(...o.map((t=>this.convertToRendererConfigCore(t,e)))),K}if(\"column\"===t.type||\"row\"===t.type)return K.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===K.content.length&&K.content.push(this.getGroupWithEmptyVisibleWindow()),K.workspacesConfig||(K.workspacesConfig={}),K.workspacesConfig.allowDrop=null===(o=t.config)||void 0===o?void 0:o.allowDrop,K.workspacesConfig.allowSplitters=null===(i=t.config)||void 0===i?void 0:i.allowSplitters,K.workspacesConfig.isPinned=null===(n=t.config)||void 0===n?void 0:n.isPinned,K.workspacesConfig.maxWidth=null===(s=t.config)||void 0===s?void 0:s.maxWidth,K.workspacesConfig.minWidth=null===(r=t.config)||void 0===r?void 0:r.minWidth,K.workspacesConfig.maxHeight=null===(a=t.config)||void 0===a?void 0:a.maxHeight,K.workspacesConfig.minHeight=null===(c=t.config)||void 0===c?void 0:c.minHeight,K.workspacesConfig.positionIndex=null===(l=t.config)||void 0===l?void 0:l.positionIndex,K.workspacesConfig.isMaximized=null===(d=t.config)||void 0===d?void 0:d.isMaximized,K.width=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.width),K.height=this.convertSizeToRendererConfigSafely(null===(u=t.config)||void 0===u?void 0:u.height),K;if(\"group\"===t.type)return K.type=\"stack\",K.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===K.content.length&&K.content.push(this._configFactory.createEmptyVisibleWindowConfig()),K.workspacesConfig||(K.workspacesConfig={}),K.workspacesConfig.allowDrop=null===(p=t.config)||void 0===p?void 0:p.allowDrop,K.workspacesConfig.allowDropHeader=null===(m=t.config)||void 0===m?void 0:m.allowDropHeader,K.workspacesConfig.allowDropLeft=null===(f=t.config)||void 0===f?void 0:f.allowDropLeft,K.workspacesConfig.allowDropRight=null===(g=t.config)||void 0===g?void 0:g.allowDropRight,K.workspacesConfig.allowDropTop=null===(w=t.config)||void 0===w?void 0:w.allowDropTop,K.workspacesConfig.allowDropBottom=null===(v=t.config)||void 0===v?void 0:v.allowDropBottom,K.workspacesConfig.allowExtract=null===(y=t.config)||void 0===y?void 0:y.allowExtract,K.workspacesConfig.showMaximizeButton=null===(_=t.config)||void 0===_?void 0:_.showMaximizeButton,K.workspacesConfig.showEjectButton=null===(C=t.config)||void 0===C?void 0:C.showEjectButton,K.workspacesConfig.showAddWindowButton=null===(I=t.config)||void 0===I?void 0:I.showAddWindowButton,K.workspacesConfig.maxWidth=null===(k=t.config)||void 0===k?void 0:k.maxWidth,K.workspacesConfig.minWidth=null===(b=t.config)||void 0===b?void 0:b.minWidth,K.workspacesConfig.maxHeight=null===(x=t.config)||void 0===x?void 0:x.maxHeight,K.workspacesConfig.minHeight=null===(W=t.config)||void 0===W?void 0:W.minHeight,K.activeItemIndex=null===(E=t.config)||void 0===E?void 0:E.activeTabIndex,K.workspacesConfig.positionIndex=null===(S=t.config)||void 0===S?void 0:S.positionIndex,K.workspacesConfig.isMaximized=null===(T=t.config)||void 0===T?void 0:T.isMaximized,K.width=this.convertSizeToRendererConfigSafely(null===(B=t.config)||void 0===B?void 0:B.width),K.height=this.convertSizeToRendererConfigSafely(null===(D=t.config)||void 0===D?void 0:D.height),K;if(\"window\"===t.type){let o=(null===(M=t.config)||void 0===M?void 0:M.appName)||t.appName;const i=null===(A=t.config)||void 0===A?void 0:A.windowId;!o&&i&&(o=this._configFactory.getAppNameFromWindowId(i));const n=this._configFactory.createGDWindowConfig({windowId:i,id:t.id,appName:o,url:(null===(P=t.config)||void 0===P?void 0:P.url)||t.url,title:(null===(L=t.config)||void 0===L?void 0:L.title)||t.title,context:(null===(O=t.config)||void 0===O?void 0:O.context)||t.context,allowExtract:null!==(H=null===(R=null==t?void 0:t.config)||void 0===R?void 0:R.allowExtract)&&void 0!==H?H:t.allowExtract,showCloseButton:null!==(z=null===(F=null==t?void 0:t.config)||void 0===F?void 0:F.showCloseButton)&&void 0!==z?z:t.showCloseButton,minWidth:null!==(N=null===($=null==t?void 0:t.config)||void 0===$?void 0:$.minWidth)&&void 0!==N?N:t.minWidth,maxWidth:null!==(q=null===(j=null==t?void 0:t.config)||void 0===j?void 0:j.maxWidth)&&void 0!==q?q:t.maxWidth,minHeight:null!==(U=null===(G=null==t?void 0:t.config)||void 0===G?void 0:G.minHeight)&&void 0!==U?U:t.minHeight,maxHeight:null!==(X=null===(V=null==t?void 0:t.config)||void 0===V?void 0:V.maxHeight)&&void 0!==X?X:t.maxHeight,positionIndex:null!==(J=null===(Y=null==t?void 0:t.config)||void 0===Y?void 0:Y.positionIndex)&&void 0!==J?J:t.positionIndex,isMaximized:null!==(Q=null===(Z=null==t?void 0:t.config)||void 0===Z?void 0:Z.isMaximized)&&void 0!==Q?Q:t.isMaximized});return\"group\"!==e.type?(n.componentState.header=!1,this.wrap([n],\"stack\")):n}}convertToApiConfigCore(t){var e,o,i,n,s,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,showCloseButton:e.showCloseButton,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minHeight:e.minHeight,minWidth:e.minWidth,widthInPx:e.widthInPx,heightInPx:e.heightInPx})}const b=t,x={id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=b.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(o=b.workspacesConfig)||void 0===o?void 0:o.frameId,workspaceId:null===(i=b.workspacesConfig)||void 0===i?void 0:i.workspaceId,activeTabIndex:b.activeItemIndex,width:b.width,height:b.height,allowDrop:null===(n=b.workspacesConfig)||void 0===n?void 0:n.allowDrop,allowDropHeader:null===(s=b.workspacesConfig)||void 0===s?void 0:s.allowDropHeader,allowDropLeft:null===(a=b.workspacesConfig)||void 0===a?void 0:a.allowDropLeft,allowDropRight:null===(c=b.workspacesConfig)||void 0===c?void 0:c.allowDropRight,allowDropTop:null===(l=b.workspacesConfig)||void 0===l?void 0:l.allowDropTop,allowDropBottom:null===(d=b.workspacesConfig)||void 0===d?void 0:d.allowDropBottom,isPinned:null===(h=b.workspacesConfig)||void 0===h?void 0:h.isPinned,allowExtract:null===(u=b.workspacesConfig)||void 0===u?void 0:u.allowExtract,showMaximizeButton:null===(p=b.workspacesConfig)||void 0===p?void 0:p.showMaximizeButton,showEjectButton:null===(m=b.workspacesConfig)||void 0===m?void 0:m.showEjectButton,showAddWindowButton:null===(f=b.workspacesConfig)||void 0===f?void 0:f.showAddWindowButton,allowSplitters:null===(g=b.workspacesConfig)||void 0===g?void 0:g.allowSplitters,minWidth:null===(w=b.workspacesConfig)||void 0===w?void 0:w.minWidth,maxWidth:null===(v=b.workspacesConfig)||void 0===v?void 0:v.maxWidth,minHeight:null===(y=b.workspacesConfig)||void 0===y?void 0:y.minHeight,maxHeight:null===(_=b.workspacesConfig)||void 0===_?void 0:_.maxHeight,widthInPx:null===(C=b.workspacesConfig)||void 0===C?void 0:C.widthInPx,heightInPx:null===(I=b.workspacesConfig)||void 0===I?void 0:I.heightInPx,isMaximized:null===(k=b.workspacesConfig)||void 0===k?void 0:k.isMaximized}};return\"group\"!==x.type?(delete x.config.allowExtract,delete x.config.allowDropHeader,delete x.config.allowDropLeft,delete x.config.allowDropTop,delete x.config.allowDropRight,delete x.config.allowDropBottom,delete x.config.showMaximizeButton,delete x.config.showEjectButton,delete x.config.showAddWindowButton):delete x.config.allowSplitters,x}wrap(t,e){return{workspacesConfig:{wrapper:!0,isMaximized:\"stack\"===e&&t.some((t=>t.workspacesConfig.isMaximized))},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class K{constructor(t,e,o){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=o}showAddWindowPopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,o):this._externalPopupManager.showAddWindowPopup(e,o)}))}showOpenWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,o)}))}showSaveWorkspacePopup(e,o){var i;return t(this,void 0,void 0,(function*(){return(null===(i=this._componentFactory)||void 0===i?void 0:i.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,o):this._externalPopupManager.showSaveWorkspacePopup(e,o)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class tt{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,o);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,o);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,o);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,o){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const o=this._popup.getBoundingClientRect(),i=document.body.getBoundingClientRect(),n=i.width-o.right-10,s=i.height-o.bottom-10;if(n<0){const t=e.css(\"left\"),o=parseInt(t.substring(0,t.length-2));e.css(\"left\",o+n)}if(s<0){const t=e.css(\"top\"),o=parseInt(t.substring(0,t.length-2));e.css(\"top\",o+s)}}getPopupSize(e,o){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),i=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:o},i)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class et{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:o,parentType:i,boxId:n}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,n,o,i)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,o)}))}showInternalSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o.workspaceId,buildMode:o.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,o,i,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:o,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:i,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,o){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),o.height&&$(t).css(\"height\",o.height+\"px\"),o.width&&$(t).css(\"width\",o.width+\"px\");const i=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,o){t.height&&(o.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(o.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const i=o[0].getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=n.width-i.right-10,r=n.height-i.bottom-10;if(s<0){const t=o.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"left\",e+s)}if(r<0){const t=o.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);o.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var ot=new class{getSettings(e){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this.askForSettings(e)),this.settings}))}askForSettings(e){return t(this,void 0,void 0,(function*(){return(yield e.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}})).returned}))}decorateCommunicationId(t){return`${t}.${window.glue42core.communicationId}`}};class it{constructor(t,e,o,i,n){this._glue=t,this._stateResolver=e,this._frameController=o,this._manager=i,this._delayedExecutor=n,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,o){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[r(e.config.id)])return this.idToWindowPromise[r(e.config.id)];const t=u.getById(o);if(!t)return;const i=this.startCore(e,t);this.idToWindowPromise[r(e.config.id)]=i;const n=this._frameController.onFrameRemoved((t=>{t===r(e.config.id)&&(n(),delete this.idToWindowPromise[t])}));return i}))}getLoadingStrategy(t,e,o){var i,n;return(null==o?void 0:o.loadingStrategy)?o.loadingStrategy:(null===(i=null==e?void 0:e.workspacesOptions)||void 0===i?void 0:i.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(n=null==t?void 0:t.loadingStrategy)||void 0===n?void 0:n.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t)));return Promise.all(i.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\"),i=this.getComponentsByVisibility(o.map((t=>t))),n=i.visibleComponents.map((t=>this.start(t,e))),s=(yield ot.getSettings(this._glue)).loadingStrategy;return Promise.all(n).then((()=>{var t,o,n;return this._delayedExecutor.startExecution(i.notImmediatelyVisibleComponents.map((t=>({id:r(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(o=null==s?void 0:s.delayed)||void 0===o?void 0:o.interval)||5e3,initialDelay:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const o=t.layout.root.getItemsByType(\"component\");yield Promise.all(o.map((t=>this.start(t,e))))}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((o,i)=>{let n,s=()=>{},a=()=>{};const[c,l]=this.waitFor(e.length,(()=>{o(),s(),a(),clearTimeout(n)}));n=setTimeout((()=>{i(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:o})=>{o.config.workspaceId===t&&e.includes(o.itemId)&&c(o.itemId)})),a=this.onFailed((o=>{o.workspaceId===t&&e.includes(r(o.component.config.id))&&c(o.component.config.id)}))}))}getUrlByAppName(t){var e,o,i,n;if(t)return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.userProperties)||void 0===i?void 0:i.details)||void 0===n?void 0:n.url}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,o;if(t)return null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===o?void 0:o.title}getAppNameByWindowId(t){var e,o,i,n;return null===(n=null===(i=null===(o=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===o?void 0:o.find((e=>e.id===t)))||void 0===i?void 0:i.application)||void 0===n?void 0:n.name}notifyFrameWillStart(t,e,o,i){return this._glue.interop.invoke(this.decorateCommunicationId(\"T42.Web.Platform.Control\"),{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:o,title:i}})}waitFor(t,e){const o=[];return[i=>{o.push(i),o.length===t&&e()},()=>o]}vaidateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),o=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:o}}startCore(e,o){var i,n;return t(this,void 0,void 0,(function*(){const t=l(e.element),{componentState:s}=e.config,{title:a,appName:c}=s;let{windowId:d}=s;const h=r(e.config.id),p=this.getTitleByAppName(c),m=this.vaidateTitle(a)||this.vaidateTitle(p)||this.vaidateTitle(c)||\"Glue\",f=null===(i=null==e?void 0:e.config.componentState)||void 0===i?void 0:i.context;let g=this.getUrlByAppName(s.appName)||s.url;const w=!u.getWindow(h)||!u.getWindow(h).windowId,v=o.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(u.addWindow({id:h,bounds:t,windowId:d,url:g,appName:c},o.id),!g&&d){const t=this._glue.windows.list().find((t=>t.id===d));g=yield t.getURL();u.getWindow(h).url=g}if(d=d||j.generate(),(null===(n=e.config.componentState)||void 0===n?void 0:n.context)&&delete e.config.componentState.context,e.config.componentState.url=g,m&&e.setTitle(m),w&&!v){const t=this._stateResolver.getWindowSummarySync(e.config.id,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const o=this._glue.windows.findById(d);if(o)try{yield o.close()}catch(t){}}try{yield this.notifyFrameWillStart(d,c,f,m),yield this._frameController.startFrame(h,g,void 0,d);const t=u.getWindow(h);e.config.componentState.windowId=d,t.windowId=d;if(this._glue.windows.findById(d).getTitle().then((t=>{this.vaidateTitle(m)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(h,l(e.element)),w&&!v&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(h)}}),!c){const o=this.getAppNameByWindowId(d);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${h} with windowId ${d} is missing its state object`);e.config.componentState.appName=o,t.appName=o}const i=e.layoutManager.root.getItemsByFilter((t=>t.isMaximized&&\"component\"!==t.type));i.reduce(((t,e)=>[...t,...e.getItemsByFilter((t=>\"component\"===t.type))]),[]).some((t=>t===e))&&(this._frameController.maximizeTab(h),this._frameController.selectionChanged([h],[]))}catch(t){this.raiseFailed(e,o.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(h,l(e.element)):this._manager.closeTab(e,!1);if(!u.getById(o.id))throw new Error(`Workspace ${o.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{o.hibernatedWindows=o.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}decorateCommunicationId(t){return`${t}.${window.glue42core.communicationId}`}}class nt{constructor(){this.actionsInProgress=[]}startExecution(e,o){return t(this,void 0,void 0,(function*(){const i=this.splitInBatches(e,o.batchSize);yield this.waitFor(o.initialDelay);return i.reduce(((e,i)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(i)),yield this.waitFor(o.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,o,i)=>{if(i%e==0)t.push([o]);else{const e=t.pop();e.push(o),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}class st{validateWorkspace(t){return!this.getAllItemsFromWorkspace(t).filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length}fixWorkspace(t){const e=this.getAllItemsFromWorkspace(t);return!e.filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length||(e.forEach((t=>{t.config&&(t.config.minWidth=20,t.config.minHeight=20,t.config.maxWidth=32767,t.config.maxHeight=32767)})),!1)}fixNewWindow(t,e,o){var i,n,s,r;let a;if(void 0===(null===(i=t.config)||void 0===i?void 0:i.minWidth)&&void 0===(null===(n=t.config)||void 0===n?void 0:n.maxWidth)&&void 0===(null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0===(null===(r=t.config)||void 0===r?void 0:r.maxHeight))return;const c=(t,e)=>{a||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{c(t,o)})):a=t)};c(e,o),a.children.push(t),this.validateWorkspace(e)||(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767)}fixNewContainer(t,e,o){let i;const n=(t,e)=>{i||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{n(t,o)})):i=t)};if(n(e,o),i.children.push(t),!this.validateWorkspace(e)){const e=t=>{t.config&&(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767),\"window\"!==t.type&&t.children.forEach((t=>e(t)))};e(t)}}getAllItemsFromWorkspace(t){const e=[],o=t=>{e.push(t),\"window\"!==t.type&&t.children.forEach((t=>o(t)))};return o(t),e}areConstraintsValid(t){return t.minWidth<=t.maxWidth&&t.minHeight<=t.maxHeight}getConstraintsFromItem(t){var e,o,i,n,s,r,a,c;const l=null!==(o=null===(e=t.config)||void 0===e?void 0:e.minWidth)&&void 0!==o?o:20,d=null!==(n=null===(i=t.config)||void 0===i?void 0:i.maxWidth)&&void 0!==n?n:32767,h=null!==(r=null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0!==r?r:20,u=null!==(c=null===(a=t.config)||void 0===a?void 0:a.maxHeight)&&void 0!==c?c:32767;let p=0,m=0,f=0,g=0;return\"window\"===t.type?{minWidth:l,maxWidth:d,minHeight:h,maxHeight:u}:(\"row\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p+=null!==(e=s.minWidth)&&void 0!==e?e:20,m+=null!==(o=s.maxWidth)&&void 0!==o?o:32767,f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})):\"column\"===t.type?t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f+=null!==(i=s.minHeight)&&void 0!==i?i:20,g+=null!==(n=s.maxHeight)&&void 0!==n?n:32767})):t.children.forEach((t=>{var e,o,i,n;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(o=s.maxWidth)&&void 0!==o?o:32767,m||d),f=Math.max(null!==(i=s.minHeight)&&void 0!==i?i:20,f),g=Math.min(null!==(n=s.maxHeight)&&void 0!==n?n:32767,g||u)})),m=m||d,g=g||u,{minWidth:Math.max(l,p),maxWidth:Math.min(d,m),minHeight:Math.max(h,f),maxHeight:Math.min(u,g)})}}var rt=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new Z,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(null===(t=U.config)||void 0===t?void 0:t.build)return;const e=[],o=u.workspaceIds.map((t=>{const o=u.getById(t);e.push(...o.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const i=this.stateResolver.getWorkspaceConfig(t),n=this.stateResolver.extractWindowSummariesFromSnapshot(i);return e.push(...n),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const i=u.layouts.filter((t=>{var e,o,i;return!(null===(i=null===(o=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(i),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}get layoutsManager(){return this._layoutsManager}init(t,e,o,i){this._glue=t,this._facade=o;const n=U.loadConfig();if(this._initialized)return void f.reInitialize(i);this._initialized=!0,this._frameId=e,this._configFactory=new J(t);const r=new Q(this._configFactory);f.init(this._frameId,i),this._frameController=new q(t);const a=new k(s());return this._stateResolver=new X(this._frameId,a,this._frameController,r),this._controller=new I(a,this._stateResolver,n,this._configFactory),this._applicationFactory=new it(t,this.stateResolver,this._frameController,this,new nt),this._layoutsManager=new V(this.stateResolver,t,this._configFactory,r,new st),this._popupManager=new K(new tt(t),new et(i,e),i),n.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}initFrameLayout(e){return t(this,void 0,void 0,(function*(){return e.forEach((t=>{t.id=this._configFactory.getId()})),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,e.map((t=>r(t.id)))}))}saveWorkspace(e,o,i,n){var s,r;return t(this,void 0,void 0,(function*(){const t=u.getById(o)||u.getActiveWorkspace(),a=new v(this.stateResolver,t,u.getWorkspaceContentItem(t.id),this.frameId),c=yield this._layoutsManager.save({name:e,workspace:t,title:a.title,saveContext:i,metadata:n}),l=(null===(s=t.layout)||void 0===s?void 0:s.config)||t.hibernateConfig;return l.workspacesOptions.layoutName=e,(null===(r=f.decoratedFactory)||void 0===r?void 0:r.createWorkspaceTabs)&&f.decoratedFactory.updateWorkspaceTabs({workspaceId:t.id,layoutName:e}),l.workspacesOptions.noTabHeader&&delete l.workspacesOptions.noTabHeader,c}))}openWorkspace(e,o){var i,n,s;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),a=t.config;if(a.workspacesOptions.context=t.layoutData.context,(null==o?void 0:o.context)&&a.workspacesOptions.context?a.workspacesOptions.context=Object.assign(t.layoutData.context,null==o?void 0:o.context):(null==o?void 0:o.context)&&(a.workspacesOptions.context=null==o?void 0:o.context),a.workspacesOptions.title=(null==o?void 0:o.title)||e,a.workspacesOptions.icon=null!==(i=null==o?void 0:o.icon)&&void 0!==i?i:a.workspacesOptions.icon,a.workspacesOptions.positionIndex=null!==(n=null==o?void 0:o.positionIndex)&&void 0!==n?n:a.workspacesOptions.positionIndex,a&&a.workspacesOptions&&!a.workspacesOptions.name&&(a.workspacesOptions.name=e),a&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.layoutName=t.layoutData.name),a&&o&&(a.workspacesOptions.loadingStrategy=o.loadingStrategy),a&&void 0!==(null==o?void 0:o.noTabHeader)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.noTabHeader=null==o?void 0:o.noTabHeader),a&&void 0!==(null==o?void 0:o.isPinned)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.isPinned=null==o?void 0:o.isPinned),a&&void 0!==(null==o?void 0:o.isSelected)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.selected=null==o?void 0:o.isSelected),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig([a]),this._initPromise=this.initLayout(),yield this._initPromise,r(a.id);if(e){if(a.id=(null==o?void 0:o.reuseWorkspaceId)||this._configFactory.getId(),null==o?void 0:o.reuseWorkspaceId){u.getById(a.id).windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(r(a.id),a),(null===(s=a.workspacesOptions)||void 0===s?void 0:s.context)&&(yield this._glue.contexts.set(d(r(a.id)),a.workspacesOptions.context))}else yield this.addWorkspace(r(a.id),a);return r(a.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){if(u.getContainer(t))return void this._controller.maximizeContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to maximize`);this._controller.maximizeWindow(t)}restoreItem(t){if(u.getContainer(t))return void this._controller.restoreContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to restore`);this._controller.restoreWindow(t)}closeItem(t){const e=u.getWindow(t),o=u.getContainer(t);if(this._frameId===t)u.workspaceIds.forEach((t=>this.closeWorkspace(u.getById(t))));else if(e){const e=u.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(o)this._controller.closeContainer(t);else{const e=u.getById(t);this.closeWorkspace(e)}}addContainer(e,o){return t(this,void 0,void 0,(function*(){const i=this.cleanIsPinned(e),n=u.getByContainerId(o)||u.getById(o),s=u.getWorkspaceContentItem(n.id),c=new v(this.stateResolver,n,s,this.frameId);if(c.hasMaximizedItems)throw new Error(`Cannot add a new container to workspace ${c.id}, because it contains maximized items`);const l=yield this._controller.addContainer(i,o),d=u.getContainer(l);d&&this.applyIsPinned(e,d);const h=a(e.content);return Promise.all(h.map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(r(e.id));yield this._applicationFactory.start(t,n.id)}))))),l}))}addWindow(e,o){return t(this,void 0,void 0,(function*(){const t=u.getContainer(o);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e]));const i=u.getById(o)||u.getByContainerId(o),n=u.getWorkspaceContentItem(i.id),s=new v(this.stateResolver,i,n,this.frameId);if(s.hasMaximizedItems)throw new Error(`Cannot add a new window to workspace ${s.id}, because it contains maximized items`);yield this._controller.addWindow(e,o);const c=a([e]),l=u.getWindowContentItem(r(c[0].id));this._applicationFactory.start(l,i.id)}))}setItemTitle(t,e){u.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:o,windowId:i}=e.config.componentState,n=u.getWorkspaceContext(u.getByWindowId(e.config.id).id),s=this._glue.windows.findById(i),a=s?yield s.getContext():n;if(this.closeItem(r(e.config.id)),t){const e=i?{reuseId:i}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const c=this._applicationFactory.getUrlByAppName(t)||o;return{windowId:(yield this._glue.windows.open(`${t}_${i}`,c,{context:a,windowId:i})).id}}))}createWorkspace(e){var o,i,n,s;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig([e]),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId)||this._configFactory.getId();if(null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId){const o=u.getById(t);if(!o)throw new Error(`Could not find workspace ${null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId} to reuse`);o.windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),yield this._glue.contexts.set(d(t),null!==(s=e.workspacesOptions.context)&&void 0!==s?s:{})}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=u.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:o}=t.config.componentState;const i=u.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,i.id),yield this.waitForFrameLoaded(e),t=u.getWindowContentItem(e),o=t.config.componentState.windowId),new Promise(((t,i)=>{o||i(`The window id of ${e} is missing`);let n=()=>{};const s=setTimeout((()=>{i(`Could not load window ${o} for 5000ms`),n()}),5e3);n=this._glue.windows.onWindowAdded((e=>{e.id===o&&(t({windowId:o}),n(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===o))&&(t({windowId:o}),n(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=u.getByContainerId(t)||u.getByWindowId(t)||u.getById(t),o=this._frameId===t;return this._context?{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized,initializationContext:{context:this._context}}:{id:e||o?this._frameId:\"none\",isInitialized:this._isLayoutInitialized}}moveWindowTo(e,o){return t(this,void 0,void 0,(function*(){const t=u.getByWindowId(e),i=u.getByContainerId(o)||u.getById(o);if(!i)throw new Error(`Could not find container ${o} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(i.id))throw new Error(`Could not move window ${e} to workspace ${i.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const n=u.getWindowContentItem(e);if(!n)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e)),r=this.stateResolver.getWindowSummarySync(s.id);this._controller.removeLayoutElement(e),u.removeWindow(s,t.id),u.addWindow(s,i.id),yield this._controller.addWindow(n.config,o);const a=this.stateResolver.getWindowSummarySync(s.id);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:r}}),this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:a}})}))}generateWorkspaceLayout(t,e){const o=u.getById(e);if(!o)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,o)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const o=t.hibernateConfig;o.workspacesOptions||(o.workspacesOptions={}),o.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(o),t.hibernateConfig=void 0;const i=u.getWorkspaceContentItem(t.id),n=new v(this.stateResolver,t,i,this.frameId);n.isPinned?(_.hideHibernatedIcon({workspaceTab:i.tab}),_.hideWorkspaceSaveButton({workspaceTab:i.tab}),_.showWorkspaceIconButton({workspaceTab:i.tab,icon:n.icon})):_.showSaveIcon({workspaceTab:i.tab,workspaceId:t.id})}))}lockWorkspace(t){var e,o,i,n;t.config||(t.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1,showWindowCloseButtons:!1,showEjectButtons:!1,showAddWindowButtons:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),\"boolean\"==typeof t.config.allowDrop&&(t.config.allowDropLeft=null!==(e=t.config.allowDropLeft)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropTop=null!==(o=t.config.allowDropTop)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropRight=null!==(i=t.config.allowDropRight)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropBottom=null!==(n=t.config.allowDropBottom)&&void 0!==n?n:t.config.allowDrop);const{allowDrop:s,allowExtract:r,allowSplitters:a,showCloseButton:c,showSaveButton:l,showAddWindowButtons:d,showWindowCloseButtons:h,showEjectButtons:u}=t.config,{workspaceId:p}=t;!1===s?this._controller.disableWorkspaceDrop(p,t.config):this._controller.enableWorkspaceDrop(p,t.config),!1===r?this._controller.disableWorkspaceExtract(p):this._controller.enableWorkspaceExtract(p),!1===a?this._controller.disableSplitters(p):this._controller.enableSplitters(p),!1===c?this._controller.disableWorkspaceCloseButton(p):this._controller.enableWorkspaceCloseButton(p),!1===l?this._controller.disableWorkspaceSaveButton(p):this._controller.enableWorkspaceSaveButton(p),!1===d?this._controller.disableWorkspaceAddWindowButtons(p):this._controller.enableWorkspaceAddWindowButtons(p),!1===u?this._controller.disableWorkspaceEjectButtons(p):this._controller.enableWorkspaceEjectButtons(p),!1===h?this._controller.disableWorkspaceWindowCloseButtons(p):this._controller.enableWorkspaceWindowCloseButtons(p)}lockContainer(t){var e,o,i,n,s;switch((t.config||\"column\"!==t.type)&&(t.config||\"row\"!==t.type)?t.config||\"group\"!==t.type||(t.config={allowDrop:!1,allowDropHeader:!1,allowDropLeft:!1,allowDropRight:!1,allowDropTop:!1,allowDropBottom:!1,allowExtract:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):t.config={allowDrop:!1,allowSplitters:!1},void 0!==t.config.allowDrop&&\"group\"===t.type&&(t.config.allowDropHeader=null!==(e=t.config.allowDropHeader)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropLeft=null!==(o=t.config.allowDropLeft)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropTop=null!==(i=t.config.allowDropTop)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropRight=null!==(n=t.config.allowDropRight)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropBottom=null!==(s=t.config.allowDropBottom)&&void 0!==s?s:t.config.allowDrop),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)})),t.type){case\"column\":this.handleColumnLockRequested(t);break;case\"row\":this.handleRowLockRequested(t);break;case\"group\":this.handleGroupLockRequested(t)}}lockWindow(t){t.config||(t.config={allowExtract:!1,showCloseButton:!1}),Object.keys(t.config).forEach((e=>{const o=t.config;void 0===o[e]&&(o[e]=!0)}));const{allowExtract:e,showCloseButton:o}=t.config,{windowPlacementId:i}=t;!1===e?this._controller.disableWindowExtract(i):this._controller.enableWindowExtract(i,e),!1===o?this._controller.disableWindowCloseButton(i):this._controller.enableWindowCloseButton(i,o);const n=u.getByWindowId(i);(null==n?void 0:n.layout)&&n.layout.updateSize()}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(u.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const o=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,o.workspacesOptions.isHibernated=!0,t.hibernateConfig=o,t.windows.map((t=>u.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),u.removeLayout(t.id),this._controller.showHibernationIcon(e),o}))}closeTab(t,e=!0){const o=r(t.config.id),i=u.getByWindowId(o),n=this.stateResolver.getWindowSummarySync(o);this._controller.removeLayoutElement(o),this._frameController.remove(o),this._applicationFactory.notifyFrameWillClose(n.config.windowId,n.config.appName).catch((t=>{})),i.hibernatedWindows.some((t=>n.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:n}}),!i.windows.length&&e&&this._controller.resetWorkspace(i.id)}resizeItem(t){if(t.itemId===this.frameId)throw new Error(\"Cannot resize frame \"+t.itemId);return this.resizeWorkspaceItem(t)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}pinWorkspace(t,e){this._controller.pinWorkspace(t,e)}unpinWorkspace(t){this._controller.unpinWorkspace(t)}setWorkspaceIcon(t,e){const o=u.getWorkspaceContentItem(t),i=new v(this.stateResolver,u.getById(t),o,this.frameId);i.icon=e,i.isPinned&&_.showWorkspaceIconButton({workspaceTab:o.tab,icon:e})}setFrameContext(t){this._context=t}showSaveWorkspacePopup(e,o){return t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:U.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0};u.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\");yield this._popupManager.showSaveWorkspacePopup(o,t)}))}resizeWorkspaceItem(t){var e,o;const i=u.getContainer(t.itemId)||u.getWindowContentItem(t.itemId);if(!i)throw new Error(`Could not find container ${t.itemId} in frame ${this.frameId}`);if(\"column\"===i.type&&t.height)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (height) was passed`);if(\"row\"===i.type&&t.width)throw new Error(`Requested resize for ${i.type} ${t.itemId}, however an unsupported argument (width) was passed`);const n=u.getByContainerId(i.config.id)||u.getByWindowId(r(i.config.id));let s,a;if(this.stateResolver.isWorkspaceHibernated(n.id))throw new Error(`Requested resize for ${i.type} ${t.itemId}, however the workspace ${n.id} is hibernated`);n&&(s=n.windows.find((t=>this.stateResolver.isWindowMaximized(t.id))),a=null===(o=null===(e=n.layout)||void 0===e?void 0:e.root)||void 0===o?void 0:o.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type))[0]),s&&this._controller.restoreWindow(s.id),a&&this._controller.restoreContainer(r(a.config.id)),\"row\"===i.type?this._controller.resizeRow(i,t.height):\"column\"===i.type?this._controller.resizeColumn(i,t.width):\"stack\"===i.type?this._controller.resizeStack(i,t.width,t.height):this._controller.resizeComponent(i,t.width,t.height),s&&this._controller.maximizeWindow(s.id),a&&this._controller.maximizeContainer(r(a.config.id))}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield ot.getSettings(this._glue),o=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(o.workspaceConfigs.map((t=>{var e,o;return this._glue.contexts.set(d(t.id),(null===(o=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===o?void 0:o.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:o.workspaceLayout,workspaceConfigs:o.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(u.workspaceIds.map((e=>{const i=this._applicationFactory.getLoadingStrategy(t,o.workspaceConfigs[0].config);return this.handleWindows(e,i)}))),u.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),U.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}reinitializeWorkspace(e,o){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,o);const t=yield ot.getSettings(this._glue),i=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,i)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,l(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){u.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id))})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=l(t.contentItem.element),o=Math.min(e.width,800),i=Math.min(e.height,600);this._controller.setDragElementSize(o,i)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),o=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),o=l(e[0]),i=r(t.contentItem.config.id);this._frameController.moveFrame(i,o),this._frameController.bringToFront(i)}}))}));if(!e)return;o.observe(e,{attributes:!0});const i=this.stateResolver.getWindowSummarySync(t.contentItem.config.id,t.contentItem);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}})})),this._controller.emitter.onItemDropped((t=>{const e=this.stateResolver.getWindowSummarySync(t.config.id,t);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:e}})})),this._controller.emitter.onSelectionChanged(((e,o)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(o.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{this.handleOnWorkspaceAdded(t)})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const o=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(o.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:o,bounds:i,parentType:n})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:o,parentType:n,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(i,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=u.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),o=l(e);yield this._popupManager.showOpenWorkspacePopup(o,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t=u.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=l(t);yield this.showSaveWorkspacePopup(e,o)})))),this._controller.emitter.onContainerMaximized((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.maximizeTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i)})),this._controller.emitter.onContainerRestored((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.restoreTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[o,i]=e.reduce(((t,e)=>{const o=e.getActiveContentItem(),i=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(o.config.id)),t[1]=[...t[1],...i],t}),[[],[]]);this._frameController.selectionChanged(o,i)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const o=r(t);e[o]&&clearTimeout(e[o]),e[o]=setTimeout((()=>{this._controller.refreshWorkspaceSize(o)}),16)})),this._controller.emitter.onContentItemRemoved(((e,o)=>t(this,void 0,void 0,(function*(){\"stack\"===o.type&&f.notifyGroupClosed(r(o.config.id))}))));let o=void 0;f.onWorkspaceContentsShown((t=>{const e=u.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;o&&clearTimeout(o),o=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),o=l(t[0]);e.layout.updateSize(o.width,o.height)}),50);const i=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(i.map((t=>r(t.getActiveContentItem().config.id))),[])})),f.onWorkspaceContentsHidden((t=>{const e=u.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const o=u.getById(e.workspaceSummary.id);o&&(o.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const o=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(o.config.id),l(o.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=t.windows.map((t=>{if(u.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||(f.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}}))}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),o=this.stateResolver.getSnapshot(t.id,this),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);t.windows.forEach((t=>this._frameController.remove(t.id)));const n=this.checkForEmptyWorkspace(t);i.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n||(f.notifyWorkspaceClosed(e.id),this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}}))}addWorkspace(e,o){var i;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(d(e),(null===(i=null==o?void 0:o.workspacesOptions)||void 0===i?void 0:i.context)||{}),yield this._controller.addWorkspace(e,o),this._controller.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e)});const t=yield ot.getSettings(this._glue),n=this._applicationFactory.getLoadingStrategy(t,o);this.handleWindows(e,n).catch((t=>{console.log(t)}))}))}handleWindows(e,o){return t(this,void 0,void 0,(function*(){switch(o){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(t){if(1===u.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){const e=this._configFactory.getId();return this._controller.addWorkspace(e,void 0).then((()=>{this.handleOnWorkspaceAddedWithSnapshot(u.getById(e)),this.checkForEmptyWorkspace(t)})).catch((()=>{})),!1}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,o)=>{let i=()=>{};const n=setTimeout((()=>{i(),o(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);i=this.workspacesEventEmitter.onWindowEvent(((o,s)=>{\"loaded\"===o&&s.windowSummary.itemId===t&&(e(),clearTimeout(n),i())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(n),i())}))}handleGroupLockRequested(t){const{allowExtract:e,showAddWindowButton:o,showEjectButton:i,showMaximizeButton:n,allowDrop:s}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===o?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,o),!1===i?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,i),!1===n?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,n),!1===s?this._controller.disableGroupDrop(t.itemId,t.config):this._controller.enableGroupDrop(t.itemId,t.config);const r=u.getByContainerId(t.itemId);(null==r?void 0:r.layout)&&r.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e),!1===o?this._controller.disableRowSplitters(t.itemId):this._controller.enableRowSplitters(t.itemId,o)}handleColumnLockRequested(t){const{allowDrop:e,allowSplitters:o}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e),!1===o?this._controller.disableColumnSplitters(t.itemId):this._controller.enableColumnSplitters(t.itemId,o)}cleanIsPinned(t){if(\"row\"!==t.type&&\"column\"!==t.type)return t;let e=!1;const o=JSON.parse(JSON.stringify(t)),i=t=>{t.workspacesConfig.isPinned&&(e=!0,t.workspacesConfig.isPinned=!1),\"component\"!==t.type&&t.content.forEach((t=>i(t)))};return i(o),e?o:t}applyIsPinned(t,e){if(\"row\"!==t.type&&\"column\"!==t.type)return;if(\"row\"!==e.config.type&&\"column\"!==e.config.type)return;const o=(t,e)=>{t.workspacesConfig.isPinned&&(e.config.workspacesConfig.isPinned=!0),\"component\"!==t.type&&\"component\"!==e.type&&t.content.forEach(((t,i)=>o(t,e.contentItems[i])))};o(t,e)}handleOnWorkspaceAdded(t){var e;const o=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],o.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),o.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,n=i.title||i.name;n&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(n))}handleOnWorkspaceAddedWithSnapshot(t){var e;const o=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]),i=this._stateResolver.getWorkspaceSnapshot(t.id,this);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSnapshot:i,workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],o.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),o.map((t=>t.id)))}if(!t.layout)return;const n=t.layout.config.workspacesOptions,s=n.title||n.name;s&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(s))}};class at{constructor(t){this.manager=t}applyLockConfiguration(e,o){const i=(e,n)=>t(this,void 0,void 0,(function*(){\"window\"!==e.type?(\"group\"===e.type||\"row\"===e.type||\"column\"===e.type?this.doesContainerContainLockingProperties(e)&&this.manager.lockContainer({itemId:n.id,type:e.type,config:e.config}):this.doesWorkspaceContainLockingProperties(e)&&this.manager.lockWorkspace({workspaceId:o.id,config:e.config}),yield Promise.all(e.children.map(((t,e)=>i(t,n.children[e]))))):this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:n.id,config:e.config})}));return i(e,o)}applyWindowLockConfiguration(t){const e={config:t.config,id:t.itemId,type:\"window\"};this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:t.itemId,config:t.config})}applyContainerLockConfiguration(t,e,o){const i=this.getItemFromWorkspace(e,o),n=(t,e)=>{\"window\"!==t.type?(\"group\"===t.type||\"row\"===t.type||\"column\"===t.type?this.doesContainerContainLockingProperties(t)&&this.manager.lockContainer({itemId:e.id,type:t.type,config:t.config}):this.doesWorkspaceContainLockingProperties(t)&&this.manager.lockWorkspace({workspaceId:t.id,config:t.config}),t.children.map(((t,o)=>n(t,e.children[o])))):this.doesWindowContainLockingProperties(t)&&this.manager.lockWindow({windowPlacementId:e.id,config:t.config})};return n(t,i)}doesWindowContainLockingProperties(t){var e,o;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.showCloseButton)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowExtract)}doesContainerContainLockingProperties(t){var e,o,i,n,s,r,a,c,l,d,h;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropHeader)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropLeft)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropTop)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowDropBottom)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.allowExtract)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showExtractButton)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showMaximizeButton)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showAddWindowButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.allowSplitters)}doesWorkspaceContainLockingProperties(t){var e,o,i,n,s,r,a,c,l,d,h,u;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropLeft)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropTop)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropBottom)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowExtract)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.showExtractButtons)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showWindowCloseButtons)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showAddWindowButtons)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showSaveButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.showCloseButton)||this.isLockingPropertySet(null===(u=t.config)||void 0===u?void 0:u.allowSplitters)}isLockingPropertySet(t){return\"boolean\"==typeof t}getItemFromWorkspace(t,e){const o=t=>t.id===e?t:\"window\"!==t.type?t.children.map((t=>o(t))).find((t=>t)):void 0;return o(t)}}var ct=new class{constructor(){this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,o,i,n)=>t(this,void 0,void 0,(function*(){try{switch(yield rt.initPromise,e.operation){case\"isWindowInWorkspace\":i(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":i(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":i(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":i(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":i(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":i(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":i(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),i(void 0);break;case\"getAllWorkspacesSummaries\":i(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),i(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),i(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),i(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),i(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),i(void 0);break;case\"ejectWindow\":i(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":i(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":i(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),i(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),i(void 0);break;case\"getFrameSummary\":i(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),i(void 0);break;case\"getFrameSnapshot\":i(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":i(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),i(void 0);break;case\"generateLayout\":i(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":i(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),i(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),i(void 0);break;case\"lockWorkspace\":this.handleLockWorkspace(e.operationArguments),i(void 0);break;case\"lockContainer\":this.handleLockContainer(e.operationArguments),i(void 0);break;case\"lockWindow\":this.handleLockWindow(e.operationArguments),i(void 0);break;case\"resizeItem\":this.handleResizeItem(e.operationArguments),i(void 0);break;case\"pinWorkspace\":this.handlePinWorkspace(e.operationArguments),i(void 0);break;case\"unpinWorkspace\":this.handleUnpinWorkspace(e.operationArguments),i(void 0);break;case\"getWorkspaceIcon\":i(this.handleGetWorkspaceIcon(e.operationArguments));break;case\"setWorkspaceIcon\":this.handleSetWorkspaceIcon(e.operationArguments),i(void 0);break;case\"initFrame\":yield this.handleInitFrame(e.operationArguments),i(void 0);break;case\"createFrame\":i(this.handleCreateFrame(e.operationArguments));break;default:n(\"Invalid operation - \"+e.operation)}}catch(t){n(t.message),console.warn(t)}})),this.handleControl=(e,o,i,n)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,o,i,n);this._controlPromise=t,yield t}))}init(e,o){return t(this,void 0,void 0,(function*(){this._workspacesControlMethod=\"T42.Web.Workspaces.Control.\"+window.glue42core.communicationId,this._workspacesEventMethod=\"T42.Web.Workspaces.Events.\"+window.glue42core.communicationId,this._frameId=o,this._glue=e,this._configFactory=new J(e),this._converter=new Q(this._configFactory),this._locker=new at(rt),this._constraintValidator=new st,this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){rt.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),rt.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),rt.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),rt.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield rt.openWorkspace(e.name,e.restoreOptions),o=rt.stateResolver.getWorkspaceConfig(t),i=this._converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield rt.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield rt.saveWorkspace(e.name,e.workspaceId,e.saveContext,e.metadata)}))}handleDeleteLayout(t){rt.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=u.getById(t.itemId),o=rt.stateResolver.getWorkspaceConfig(e.id),i=this._converter.convertToAPIConfig(o);return{id:i.id,children:i.children,config:i.config,frameSummary:rt.getFrameSummary(this._frameId)}}handleGetAllWorkspaceSummaries(){return{summaries:u.layouts.map((t=>rt.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){rt.closeItem(t.itemId)}handleRestoreItem(t){rt.restoreItem(t.itemId)}handleMaximizeItem(t){rt.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){if(\"workspace\"===e.definition.type)throw new Error(\"Unsuported add container type \"+e.definition.type);const t=u.getByContainerId(e.parentId)||u.getById(e.parentId),o=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));this._constraintValidator.fixNewContainer(e.definition,o,e.parentId);const i=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===i.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(i.id),content:i.content,type:i.type,workspacesConfig:i.workspacesConfig},s=yield rt.addContainer(n,e.parentId),a=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));return this._locker.applyContainerLockConfiguration(e.definition,a,s),{itemId:s}}))}handleAddWindow(e){var o,i,n,s,a,c;return t(this,void 0,void 0,(function*(){const t=new st,l=u.getByContainerId(e.parentId)||u.getById(e.parentId),d=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(l.id));t.fixNewWindow(e.definition,d,e.parentId);const h=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:null===(o=e.definition.config)||void 0===o?void 0:o.allowExtract,showCloseButton:null===(i=e.definition.config)||void 0===i?void 0:i.showCloseButton,minWidth:null===(n=e.definition.config)||void 0===n?void 0:n.minWidth,maxWidth:null===(s=e.definition.config)||void 0===s?void 0:s.maxWidth,minHeight:null===(a=e.definition.config)||void 0===a?void 0:a.minHeight,maxHeight:null===(c=e.definition.config)||void 0===c?void 0:c.maxHeight});if(e.definition.windowId){const t=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),o=yield t.getURL();h.componentState.url=o,h.componentState.appName=this._configFactory.getAppNameFromWindowId(t.id)}yield rt.addWindow(h,e.parentId);const p=rt.stateResolver.getWindowSummarySync(h.id);return this._locker.applyWindowLockConfiguration(p),{itemId:r(h.id)}}))}handleSetItemTitle(t){rt.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),o=e.children.some((t=>\"column\"===t.type));if(o&&t)throw new Error(\"Can't add both row and column workspace children\");let i={type:\"column\",children:e.children};o&&(i={type:\"row\",children:e.children});const n=this._converter.convertToRendererConfig(i);yield rt.addContainer(n,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield rt.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={});const t=this.convertCreateWorkspaceArgumentsToWorkspaceItem(e);this._constraintValidator.fixWorkspace(t);const o=this._converter.convertToRendererConfig(t),i=yield rt.createWorkspace(o),n=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(i));return this._locker.applyLockConfiguration(t,n),{id:n.id,children:n.children,config:n.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield rt.loadWindow(e.itemId)}))}handleFocusItem(t){return rt.focusItem(t.itemId)}handleBundleWorkspace(t){return rt.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:rt.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(t){return rt.getFrameSummary(t.itemId)}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield rt.move(e.location)}))}handleGetFrameSnapshot(){return rt.stateResolver.getFrameSnapshot(rt)}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return rt.stateResolver.getSnapshot(e.itemId,rt)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return rt.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return rt.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return rt.lockWorkspace(t)}handleLockWindow(t){return rt.lockWindow(t)}handleLockContainer(t){return rt.lockContainer(t)}handleResizeItem(t){return rt.resizeItem(t)}handlePinWorkspace(t){return rt.pinWorkspace(t.workspaceId,t.icon)}handleUnpinWorkspace(t){return rt.unpinWorkspace(t.workspaceId)}handleGetWorkspaceIcon(t){const e=rt.stateResolver.getWorkspaceIcon(t.workspaceId);return e?{icon:e}:{}}handleSetWorkspaceIcon(t){rt.setWorkspaceIcon(t.workspaceId,t.icon)}handleInitFrame(e){return t(this,void 0,void 0,(function*(){const o=yield Promise.all(e.workspaces.map((e=>t(this,void 0,void 0,(function*(){const t=e,o=e;return t.name?this._configFactory.convertLayoutOptionsToWorkspaceItem(t.name,t.restoreOptions,rt.layoutsManager):this._converter.convertToRendererConfig(this.convertCreateWorkspaceArgumentsToWorkspaceItem(o))})))));(yield rt.initFrameLayout(o)).forEach(((t,o)=>{const i=e.workspaces[o];if(!i.children)return;const n=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t));this._locker.applyLockConfiguration(i,n)}))}))}handleCreateFrame(t){return rt.setFrameContext(null==t?void 0:t.context),rt.getFrameSummary(this._frameId)}publishEventData(t,e,o){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const i={action:t,type:o,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,i).catch((()=>{}))}}convertCreateWorkspaceArgumentsToWorkspaceItem(t){var e,o;const i=Object.assign({},t);return i.config||(i.config={}),\"boolean\"==typeof(null===(e=t.config)||void 0===e?void 0:e.isSelected)&&(i.config.selected=t.config.isSelected),i.config.context=(null===(o=t.config)||void 0===o?void 0:o.context)||t.context,i.config.allowDrop=void 0,i}},lt=o((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,o){t.exports=e.document?o(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return o(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var o=[],i=Object.getPrototypeOf,n=o.slice,s=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},r=o.push,a=o.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,o){var i,n,s=(o=o||g).createElement(\"script\");if(s.text=t,e)for(i in w)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,n);o.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,o=y(t);return!m(t)&&!f(t)&&(\"array\"===o||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return n.call(this)},get:function(t){return null==t?n.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,o){return t.call(e,o,e)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,o=+t+(t<0?e:0);return this.pushStack(o>=0&&o<e?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,o,i,n,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],\"__proto__\"!==e&&r!==i&&(l&&i&&(C.isPlainObject(i)||(n=Array.isArray(i)))?(o=r[e],s=n&&!Array.isArray(o)?[]:n||C.isPlainObject(o)?o:{},n=!1,r[e]=C.extend(l,s,i)):void 0!==i&&(r[e]=i));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,o;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=i(t))||\"function\"==typeof(o=d.call(e,\"constructor\")&&e.constructor)&&h.call(o)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,o){v(t,{nonce:e&&e.nonce},o)},each:function(t,e){var o,i=0;if(I(t))for(o=t.length;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var o=e||[];return null!=t&&(I(Object(t))?C.merge(o,\"string\"==typeof t?[t]:t):r.call(o,t)),o},inArray:function(t,e,o){return null==e?-1:a.call(e,t,o)},merge:function(t,e){for(var o=+e.length,i=0,n=t.length;i<o;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,o){for(var i=[],n=0,s=t.length,r=!o;n<s;n++)!e(t[n],n)!==r&&i.push(t[n]);return i},map:function(t,e,o){var i,n,r=0,a=[];if(I(t))for(i=t.length;r<i;r++)null!=(n=e(t[r],r,o))&&a.push(n);else for(r in t)null!=(n=e(t[r],r,o))&&a.push(n);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var k=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,o,i,n,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_=\"sizzle\"+1*new Date,C=t.document,I=0,k=0,b=ct(),x=ct(),W=ct(),E=ct(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,B=[],D=B.pop,M=B.push,A=B.push,P=B.slice,L=function(t,e){for(var o=0,i=t.length;o<i;o++)if(t[o]===e)return o;return-1},O=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",R=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",H=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",F=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+H+\")(?:\"+R+\"*([*^$|!~]?=)\"+R+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+H+\"))|)\"+R+\"*\\\\]\",z=\":(\"+H+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+F+\")*)|.*)\\\\)|)\",$=new RegExp(R+\"+\",\"g\"),N=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),G=new RegExp(R+\"|>\"),U=new RegExp(z),V=new RegExp(\"^\"+H+\"$\"),X={ID:new RegExp(\"^#(\"+H+\")\"),CLASS:new RegExp(\"^\\\\.(\"+H+\")\"),TAG:new RegExp(\"^(\"+H+\"|[*])\"),ATTR:new RegExp(\"^\"+F),PSEUDO:new RegExp(\"^\"+z),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+O+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ot=function(t,e){var o=\"0x\"+t.slice(1)-65536;return e||(o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320))},it=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,nt=function(t,e){return e?\"\\0\"===t?\"\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{A.apply(B=P.call(C.childNodes),C.childNodes),B[C.childNodes.length].nodeType}catch(t){A={apply:B.length?function(t,e){M.apply(t,P.call(e))}:function(t,e){for(var o=t.length,i=0;t[o++]=e[i++];);t.length=o-1}}}function at(t,e,i,n){var s,a,l,d,h,m,w,v=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!n&&(u(e),e=e||p,f)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&y(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&o.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(s)),i}if(o.qsa&&!E[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,v=e,1===C&&(G.test(t)||q.test(t))){for((v=tt.test(t)&&wt(e.parentNode)||e)===e&&o.scope||((d=e.getAttribute(\"id\"))?d=d.replace(it,nt):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+yt(m[a]);w=m.join(\",\")}try{return A.apply(i,v.querySelectorAll(w)),i}catch(e){E(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(N,\"$1\"),e,i,n)}function ct(){var t=[];return function e(o,n){return t.push(o+\" \")>i.cacheLength&&delete e[t.shift()],e[o+\" \"]=n}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var o=t.split(\"|\"),n=o.length;n--;)i.attrHandle[o[n]]=e}function ut(t,e){var o=e&&t,i=o&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(o)for(;o=o.nextSibling;)if(o===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var o=e.nodeName.toLowerCase();return(\"input\"===o||\"button\"===o)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(o,i){for(var n,s=t([],o.length,e),r=s.length;r--;)o[n=s[r]]&&(o[n]=!(i[n]=o[n]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in o=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,o=(t.ownerDocument||t).documentElement;return!Y.test(e||o&&o.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),C!=p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener(\"unload\",st,!1):n.attachEvent&&n.attachEvent(\"onunload\",st)),o.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),o.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),o.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),o.getElementsByClassName=Q.test(p.getElementsByClassName),o.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),o.getById?(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){return t.getAttribute(\"id\")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o=e.getElementById(t);return o?[o]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,ot);return function(t){var o=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return o&&o.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var o,i,n,s=e.getElementById(t);if(s){if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s];for(n=e.getElementsByName(t),i=0;s=n[i++];)if((o=s.getAttributeNode(\"id\"))&&o.value===t)return[s]}return[]}}),i.find.TAG=o.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):o.qsa?e.querySelectorAll(t):void 0}:function(t,e){var o,i=[],n=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;o=s[n++];)1===o.nodeType&&i.push(o);return i}return s},i.find.CLASS=o.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},w=[],g=[],(o.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+O+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(o.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){o.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),w.push(\"!=\",z)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(m.compareDocumentPosition),y=e||Q.test(m.contains)?function(t,e){var o=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(o.contains?o.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!o.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==C&&y(C,t)?-1:e==p||e.ownerDocument==C&&y(C,e)?1:d?L(d,t)-L(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var o,i=0,n=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!n||!s)return t==p?-1:e==p?1:n?-1:s?1:d?L(d,t)-L(d,e):0;if(n===s)return ut(t,e);for(o=t;o=o.parentNode;)r.unshift(o);for(o=e;o=o.parentNode;)a.unshift(o);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]==C?-1:a[i]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),o.matchesSelector&&f&&!E[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||o.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var n=i.attrHandle[e.toLowerCase()],s=n&&T.call(i.attrHandle,e.toLowerCase())?n(t,e,!f):void 0;return void 0!==s?s:o.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(it,nt)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,i=[],n=0,s=0;if(h=!o.detectDuplicates,d=!o.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return d=null,t},n=at.getText=function(t){var e,o=\"\",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=n(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)o+=n(e);return o},(i=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,ot),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,ot),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":o&&U.test(o)&&(e=r(o,!0))&&(e=o.indexOf(\")\",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,ot).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=b[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+R+\"|$)\"))&&b(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,o){return function(i){var n=at.attr(i,t);return null==n?\"!=\"===e:!e||(n+=\"\",\"=\"===e?n===o:\"!=\"===e?n!==o:\"^=\"===e?o&&0===n.indexOf(o):\"*=\"===e?o&&n.indexOf(o)>-1:\"$=\"===e?o&&n.slice(-o.length)===o:\"~=\"===e?(\" \"+n.replace($,\" \")+\" \").indexOf(o)>-1:\"|=\"===e&&(n===o||n.slice(0,o.length+1)===o+\"-\"))}},CHILD:function(t,e,o,i,n){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===i&&0===n?function(t){return!!t.parentNode}:function(e,o,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),v=!c&&!a,y=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(y=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[I,p,y];break}}else if(v&&(y=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++y||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,y]),u!==e)););return(y-=n)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var o,n=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return n[_]?n(e):n.length>1?(o=[t,t,\"\",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,o){for(var i,s=n(t,e),r=s.length;r--;)t[i=L(t,s[r])]=!(o[i]=s[r])})):function(t){return n(t,0,o)}):n}},pseudos:{not:lt((function(t){var e=[],o=[],i=a(t.replace(N,\"$1\"));return i[_]?lt((function(t,e,o,n){for(var s,r=i(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,n,s){return e[0]=t,i(e,null,s,o),e[0]=null,!o.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,ot),function(e){return(e.textContent||n(e)).indexOf(t)>-1}})),lang:lt((function(t){return V.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,ot).toLowerCase(),function(e){var o;do{if(o=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(o=o.toLowerCase())===t||0===o.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var o=t.location&&t.location.hash;return o&&o.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,o){return[o<0?o+e:o]})),even:gt((function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t})),odd:gt((function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t})),lt:gt((function(t,e,o){for(var i=o<0?o+e:o>e?e:o;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,o){for(var i=o<0?o+e:o;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=mt(e);function vt(){}function yt(t){for(var e=0,o=t.length,i=\"\";e<o;e++)i+=t[e].value;return i}function _t(t,e,o){var i=e.dir,n=e.next,s=n||i,r=o&&\"parentNode\"===s,a=k++;return e.first?function(e,o,n){for(;e=e[i];)if(1===e.nodeType||r)return t(e,o,n);return!1}:function(e,o,c){var l,d,h,u=[I,a];if(c){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,o,c))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=d[s])&&l[0]===I&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,o,c))return!0}return!1}}function Ct(t){return t.length>1?function(e,o,i){for(var n=t.length;n--;)if(!t[n](e,o,i))return!1;return!0}:t[0]}function It(t,e,o,i,n){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(o&&!o(s,i,n)||(r.push(s),l&&e.push(a)));return r}function kt(t,e,o,i,n,s){return i&&!i[_]&&(i=kt(i)),n&&!n[_]&&(n=kt(n,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,o){for(var i=0,n=e.length;i<n;i++)at(t,e[i],o);return o}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:It(f,u,t,a,c),w=o?n||(s?t:m||i)?[]:r:g;if(o&&o(g,w,a,c),i)for(l=It(w,p),i(l,[],a,c),d=l.length;d--;)(h=l[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(n||t){if(n){for(l=[],d=w.length;d--;)(h=w[d])&&l.push(g[d]=h);n(null,w=[],l,c)}for(d=w.length;d--;)(h=w[d])&&(l=n?L(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else w=It(w===r?w.splice(m,w.length):w),n?n(null,r,w,c):A.apply(r,w)}))}function bt(t){for(var e,o,n,s=t.length,r=i.relative[t[0].type],a=r||i.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return L(e,t)>-1}),a,!0),u=[function(t,o,i){var n=!r&&(i||o!==l)||((e=o).nodeType?d(t,o,i):h(t,o,i));return e=null,n}];c<s;c++)if(o=i.relative[t[c].type])u=[_t(Ct(u),o)];else{if((o=i.filter[t[c].type].apply(null,t[c].matches))[_]){for(n=++c;n<s&&!i.relative[t[n].type];n++);return kt(c>1&&Ct(u),c>1&&yt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(N,\"$1\"),o,c<n&&bt(t.slice(c,n)),n<s&&bt(t=t.slice(n)),n<s&&yt(t))}u.push(o)}return Ct(u)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,r=at.tokenize=function(t,e){var o,n,s,r,a,c,l,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(r in o&&!(n=j.exec(a))||(n&&(a=a.slice(n[0].length)||a),c.push(s=[])),o=!1,(n=q.exec(a))&&(o=n.shift(),s.push({value:o,type:n[0].replace(N,\" \")}),a=a.slice(o.length)),i.filter)!(n=X[r].exec(a))||l[r]&&!(n=l[r](n))||(o=n.shift(),s.push({value:o,type:r,matches:n}),a=a.slice(o.length));if(!o)break}return e?a.length:a?at.error(t):x(t,c).slice(0)},a=at.compile=function(t,e){var o,n=[],s=[],a=W[t+\" \"];if(!a){for(e||(e=r(t)),o=e.length;o--;)(a=bt(e[o]))[_]?n.push(a):s.push(a);(a=W(t,function(t,e){var o=e.length>0,n=t.length>0,s=function(s,r,a,c,d){var h,m,g,w=0,v=\"0\",y=s&&[],_=[],C=l,k=s||n&&i.find.TAG(\"*\",d),b=I+=null==C?1:Math.random()||.1,x=k.length;for(d&&(l=r==p||r||d);v!==x&&null!=(h=k[v]);v++){if(n&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(I=b)}o&&((h=!g&&h)&&w--,s&&y.push(h))}if(w+=v,o&&v!==w){for(m=0;g=e[m++];)g(y,_,r,a);if(s){if(w>0)for(;v--;)y[v]||_[v]||(_[v]=D.call(c));_=It(_)}A.apply(c,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(c)}return d&&(I=b,l=C),y};return o?lt(s):s}(s,n))).selector=t}return a},c=at.select=function(t,e,o,n){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!n&&r(t=u.selector||t);if(o=o||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,ot),e)||[])[0]))return o;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[d=l.type]);)if((h=i.find[d])&&(n=h(l.matches[0].replace(et,ot),tt.test(c[0].type)&&wt(e.parentNode)||e))){if(c.splice(s,1),!(t=n.length&&yt(c)))return A.apply(o,n),o;break}}return(u||a(t,p))(n,e,!f,o,!e||tt.test(t)&&wt(e.parentNode)||e),o},o.sortStable=_.split(\"\").sort(S).join(\"\")===_,o.detectDuplicates=!!h,u(),o.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,o){if(!o)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),o.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,o){if(!o&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(O,(function(t,e,o){var i;if(!o)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(t);C.find=k,C.expr=k.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var b=function(t,e,o){for(var i=[],n=void 0!==o;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&C(t).is(o))break;i.push(t)}return i},x=function(t,e){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&o.push(t);return o},W=C.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,o){return m(e)?C.grep(t,(function(t,i){return!!e.call(t,i,t)!==o})):e.nodeType?C.grep(t,(function(t){return t===e!==o})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==o})):C.filter(e,t,o)}C.filter=function(t,e,o){var i=e[0];return o&&(t=\":not(\"+t+\")\"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,o,i=this.length,n=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<i;e++)if(C.contains(n[e],this))return!0})));for(o=this.pushStack([]),e=0;e<i;e++)C.find(t,n[e],o);return i>1?C.uniqueSort(o):o},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&W.test(t)?C(t):t||[],!1).length}});var B,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,o){var i,n;if(!t)return this;if(o=o||B,\"string\"==typeof t){if(!(i=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||o).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(i[1])&&C.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=g.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==o.ready?o.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(g);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),o=e.length;return this.filter((function(){for(var t=0;t<o;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var o,i=0,n=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!W.test(t))for(;i<n;i++)for(o=this[i];o&&o!==e;o=o.parentNode)if(o.nodeType<11&&(r?r.index(o)>-1:1===o.nodeType&&C.find.matchesSelector(o,t))){s.push(o);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,\"parentNode\")},parentsUntil:function(t,e,o){return b(t,\"parentNode\",o)},next:function(t){return P(t,\"nextSibling\")},prev:function(t){return P(t,\"previousSibling\")},nextAll:function(t){return b(t,\"nextSibling\")},prevAll:function(t){return b(t,\"previousSibling\")},nextUntil:function(t,e,o){return b(t,\"nextSibling\",o)},prevUntil:function(t,e,o){return b(t,\"previousSibling\",o)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(E(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(o,i){var n=C.map(this,e,o);return\"Until\"!==t.slice(-5)&&(i=o),i&&\"string\"==typeof i&&(n=C.filter(i,n)),this.length>1&&(A[t]||C.uniqueSort(n),M.test(t)&&n.reverse()),this.pushStack(n)}}));var L=/[^\\x20\\t\\r\\n\\f]+/g;function O(t){return t}function R(t){throw t}function H(t,e,o,i){var n;try{t&&m(n=t.promise)?n.call(t).done(e).fail(o):t&&m(n=t.then)?n.call(t,e,o):e.apply(void 0,[t].slice(i))}catch(t){o.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(L)||[],(function(t,o){e[o]=!0})),e}(t):C.extend({},t);var e,o,i,n,s=[],r=[],a=-1,c=function(){for(n=n||t.once,i=e=!0;r.length;a=-1)for(o=r.shift();++a<s.length;)!1===s[a].apply(o[0],o[1])&&t.stopOnFalse&&(a=s.length,o=!1);t.memory||(o=!1),e=!1,n&&(s=o?[]:\"\")},l={add:function(){return s&&(o&&!e&&(a=s.length-1,r.push(o)),function e(o){C.each(o,(function(o,i){m(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&\"string\"!==y(i)&&e(i)}))}(arguments),o&&!e&&c()),this},remove:function(){return C.each(arguments,(function(t,e){for(var o;(o=C.inArray(e,s,o))>-1;)s.splice(o,1),o<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=r=[],s=o=\"\",this},disabled:function(){return!s},lock:function(){return n=r=[],o||e||(s=o=\"\"),this},locked:function(){return!!n},fireWith:function(t,o){return n||(o=[t,(o=o||[]).slice?o.slice():o],r.push(o),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},C.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(o,(function(o,i){var n=m(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=n&&n.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+\"With\"](this,n?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,n){var s=0;function r(e,o,i,n){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,c))===o.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?n?l.call(t,r(s,o,O,n),r(s,o,R,n)):(s++,l.call(t,r(s,o,O,n),r(s,o,R,n),r(s,o,O,o.notifyWith))):(i!==O&&(a=void 0,c=[t]),(n||o.resolveWith)(a,c))}},d=n?l:function(){try{l()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(i!==R&&(a=void 0,c=[t]),o.rejectWith(a,c))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){o[0][3].add(r(0,t,m(n)?n:O,t.notifyWith)),o[1][3].add(r(0,t,m(e)?e:O)),o[2][3].add(r(0,t,m(i)?i:R))})).promise()},promise:function(t){return null!=t?C.extend(t,n):n}},s={};return C.each(o,(function(t,e){var r=e[2],a=e[5];n[e[1]]=r.add,a&&r.add((function(){i=a}),o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),n.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,o=e,i=Array(o),s=n.call(arguments),r=C.Deferred(),a=function(t){return function(o){i[t]=this,s[t]=arguments.length>1?n.call(arguments):o,--e||r.resolveWith(i,s)}};if(e<=1&&(H(t,r.done(a(o)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[o]&&s[o].then)))return r.then();for(;o--;)H(s[o],a(o),r.reject);return r.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,o){t.console&&t.console.warn&&e&&F.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,o)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var z=C.Deferred();function $(){g.removeEventListener(\"DOMContentLoaded\",$),t.removeEventListener(\"load\",$),C.ready()}C.fn.ready=function(t){return z.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||z.resolveWith(g,[C]))}}),C.ready.then=z.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",$),t.addEventListener(\"load\",$));var N=function(t,e,o,i,n,s,r){var a=0,c=t.length,l=null==o;if(\"object\"===y(o))for(a in n=!0,o)N(t,e,a,o[a],!0,s,r);else if(void 0!==i&&(n=!0,m(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,o){return l.call(C(t),o)})),e))for(;a<c;a++)e(t[a],o,r?i:i.call(t[a],a,e(t[a],o)));return n?t:l?e.call(t):c?e(t[0],o):s},j=/^-ms-/,q=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function U(t){return t.replace(j,\"ms-\").replace(q,G)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,o){var i,n=this.cache(t);if(\"string\"==typeof e)n[U(e)]=o;else for(i in e)n[U(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,o){return void 0===e||e&&\"string\"==typeof e&&void 0===o?this.get(t,e):(this.set(t,e,o),void 0!==o?o:e)},remove:function(t,e){var o,i=t[this.expando];if(void 0!==i){if(void 0!==e){o=(e=Array.isArray(e)?e.map(U):(e=U(e))in i?[e]:e.match(L)||[]).length;for(;o--;)delete i[e[o]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,o){var i;if(void 0===o&&1===t.nodeType)if(i=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(o=t.getAttribute(i))){try{o=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(o)}catch(t){}J.set(t,e,o)}else o=void 0;return o}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,o){return J.access(t,e,o)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,o){return Y.access(t,e,o)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var o,i,n,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(n=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(o=r.length;o--;)r[o]&&0===(i=r[o].name).indexOf(\"data-\")&&(i=U(i.slice(5)),K(s,i,n[i]));Y.set(s,\"hasDataAttrs\",!0)}return n}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):N(this,(function(e){var o;if(s&&void 0===e)return void 0!==(o=J.get(s,t))||void 0!==(o=K(s,t))?o:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,o){var i;if(t)return e=(e||\"fx\")+\"queue\",i=Y.get(t,e),o&&(!i||Array.isArray(o)?i=Y.access(t,e,C.makeArray(o)):i.push(o)),i||[]},dequeue:function(t,e){e=e||\"fx\";var o=C.queue(t,e),i=o.length,n=o.shift(),s=C._queueHooks(t,e);\"inprogress\"===n&&(n=o.shift(),i--),n&&(\"fx\"===e&&o.unshift(\"inprogress\"),delete s.stop,n.call(t,(function(){C.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var o=e+\"queueHooks\";return Y.get(t,o)||Y.access(t,o,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",o])}))})}}),C.fn.extend({queue:function(t,e){var o=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",o--),arguments.length<o?C.queue(this[0],t):void 0===e?this:this.each((function(){var o=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==o[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var o,i=1,n=C.Deferred(),s=this,r=this.length,a=function(){--i||n.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(o=Y.get(s[r],t+\"queueHooks\"))&&o.empty&&(i++,o.empty.add(a));return a(),n.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),ot=[\"Top\",\"Right\",\"Bottom\",\"Left\"],it=g.documentElement,nt=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(nt=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&nt(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,o,i){var n,s,r=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,\"\")},c=a(),l=o&&o[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(C.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)C.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+l),o=o||[]}return o&&(d=+d||+c||0,n=o[1]?d+(o[1]+1)*o[2]:+o[2],i&&(i.unit=l,i.start=d,i.end=n)),n}var ct={};function lt(t){var e,o=t.ownerDocument,i=t.nodeName,n=ct[i];return n||(e=o.body.appendChild(o.createElement(i)),n=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===n&&(n=\"block\"),ct[i]=n,n)}function dt(t,e){for(var o,i,n=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(o=i.style.display,e?(\"none\"===o&&(n[s]=Y.get(i,\"display\")||null,n[s]||(i.style.display=\"\")),\"\"===i.style.display&&rt(i)&&(n[s]=lt(i))):\"none\"!==o&&(n[s]=\"none\",Y.set(i,\"display\",o)));for(s=0;s<r;s++)null!=n[s]&&(t[s].style.display=n[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var o;return o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&E(t,e)?C.merge([t],o):o}function vt(t,e){for(var o=0,i=t.length;o<i;o++)Y.set(t[o],\"globalEval\",!e||Y.get(e[o],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var yt=/<|&#?\\w+;/;function _t(t,e,o,i,n){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===y(s))C.merge(u,s.nodeType?[s]:s);else if(yt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+C.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(i&&C.inArray(s,i)>-1)n&&n.push(s);else if(l=nt(s),r=wt(h.appendChild(s),\"script\"),l&&vt(r),o)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&o.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\\.(.+)|)/;function bt(){return!0}function xt(){return!1}function Wt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Et(t,e,o,i,n,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof o&&(i=i||o,o=void 0),e)Et(t,a,o,i,e[a],s);return t}if(null==i&&null==n?(n=o,i=o=void 0):null==n&&(\"string\"==typeof o?(n=i,i=void 0):(n=i,i=o,o=void 0)),!1===n)n=xt;else if(!n)return t;return 1===s&&(r=n,(n=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,n,i,o)}))}function St(t,e,o){o?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var i,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=n.call(arguments),Y.set(this,e,r),i=o(this,e),this[e](),r!==(s=Y.get(this,e))||i?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,bt)}C.event={global:{},add:function(t,e,o,i,n){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(V(t))for(o.handler&&(o=(s=o).handler,n=s.selector),n&&C.find.matchesSelector(it,n),o.guid||(o.guid=C.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:f,data:i,handler:o,guid:o.guid,selector:n,needsContext:n&&C.expr.match.needsContext.test(n),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=o.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,o,i,n){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)if(p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!n&&f!==d.origType||o&&o.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&(\"**\"!==i||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||C.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)C.event.remove(t,p+e[l],o,i,!0);C.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,o,i,n,s,r,a=new Array(arguments.length),c=C.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=C.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=C.event.handlers.call(this,c,l),e=0;(n=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=n.elem,o=0;(s=n.handlers[o++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(i=((C.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,a))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var o,i,n,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},o=0;o<c;o++)void 0===r[n=(i=e[o]).selector+\" \"]&&(r[n]=i.needsContext?C(n,this).index(l)>-1:C.find(n,this,null,[l]).length),r[n]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\",bt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&E(e,\"input\")&&Y.get(e,\"click\")||E(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,o){t.removeEventListener&&t.removeEventListener(e,o)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Wt),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var o,i=this,n=t.relatedTarget,s=t.handleObj;return n&&(n===i||C.contains(i,n))||(t.type=s.origType,o=s.handler.apply(this,arguments),t.type=e),o}}})),C.fn.extend({on:function(t,e,o,i){return Et(this,t,e,o,i)},one:function(t,e,o,i){return Et(this,t,e,o,i,1)},off:function(t,e,o){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&\"function\"!=typeof e||(o=e,e=void 0),!1===o&&(o=xt),this.each((function(){C.event.remove(this,t,o,e)}))}});var Tt=/<script|<style|<link/i,Bt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Mt(t,e){return E(t,\"table\")&&E(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function At(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Pt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Lt(t,e){var o,i,n,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(n in Y.remove(e,\"handle events\"),a)for(o=0,i=a[n].length;o<i;o++)C.event.add(e,n,a[n][o]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Ot(t,e){var o=e.nodeName.toLowerCase();\"input\"===o&&pt.test(t.type)?e.checked=t.checked:\"input\"!==o&&\"textarea\"!==o||(e.defaultValue=t.defaultValue)}function Rt(t,e,o,i){e=s(e);var n,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],w=m(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&Bt.test(g))return t.each((function(n){var s=t.eq(n);w&&(e[0]=g.call(this,n,s.html())),Rt(s,e,o,i)}));if(u&&(r=(n=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===n.childNodes.length&&(n=r),r||i)){for(c=(a=C.map(wt(n,\"script\"),At)).length;h<u;h++)l=n,h!==f&&(l=C.clone(l,!0,!0),c&&C.merge(a,wt(l,\"script\"))),o.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,C.map(a,Pt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&C.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Ht(t,e,o){for(var i,n=e?C.filter(e,t):t,s=0;null!=(i=n[s]);s++)o||1!==i.nodeType||C.cleanData(wt(i)),i.parentNode&&(o&&nt(i)&&vt(wt(i,\"script\")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,o){var i,n,s,r,a=t.cloneNode(!0),c=nt(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),i=0,n=(s=wt(t)).length;i<n;i++)Ot(s[i],r[i]);if(e)if(o)for(s=s||wt(t),r=r||wt(a),i=0,n=s.length;i<n;i++)Lt(s[i],r[i]);else Lt(t,a);return(r=wt(a,\"script\")).length>0&&vt(r,!c&&wt(t,\"script\")),a},cleanData:function(t){for(var e,o,i,n=C.event.special,s=0;void 0!==(o=t[s]);s++)if(V(o)){if(e=o[Y.expando]){if(e.events)for(i in e.events)n[i]?C.event.remove(o,i):C.removeEvent(o,i,e.handle);o[Y.expando]=void 0}o[J.expando]&&(o[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return N(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Rt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)}))},prepend:function(){return Rt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return N(this,(function(t){var e=this[0]||{},o=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;o<i;o++)1===(e=this[o]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,(function(e){var o=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),o&&o.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var o,i=[],n=C(t),s=n.length-1,a=0;a<=s;a++)o=a===s?this:this.clone(!0),C(n[a])[e](o),r.apply(i,o.get());return this.pushStack(i)}}));var Ft=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),zt=function(e){var o=e.ownerDocument.defaultView;return o&&o.opener||(o=t),o.getComputedStyle(e)},$t=function(t,e,o){var i,n,s={};for(n in e)s[n]=t.style[n],t.style[n]=e[n];for(n in i=o.call(t),e)t.style[n]=s[n];return i},Nt=new RegExp(ot.join(\"|\"),\"i\");function jt(t,e,o){var i,n,s,r,a=t.style;return(o=o||zt(t))&&(\"\"!==(r=o.getPropertyValue(e)||o[e])||nt(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&Ft.test(r)&&Nt.test(e)&&(i=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=o.width,a.width=i,a.minWidth=n,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",it.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);i=\"1%\"!==e.top,c=12===o(e.marginLeft),d.style.right=\"60%\",r=36===o(e.right),n=36===o(e.width),d.style.position=\"absolute\",s=12===o(d.offsetWidth/3),it.removeChild(l),d=null}}function o(t){return Math.round(parseFloat(t))}var i,n,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,o,i,n;return null==a&&(e=g.createElement(\"table\"),o=g.createElement(\"tr\"),i=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",o.style.height=\"1px\",i.style.height=\"9px\",it.appendChild(e).appendChild(o).appendChild(i),n=t.getComputedStyle(o),a=parseInt(n.height)>3,it.removeChild(e)),a}}))}();var Gt=[\"Webkit\",\"Moz\",\"ms\"],Ut=g.createElement(\"div\").style,Vt={};function Xt(t){var e=C.cssProps[t]||Vt[t];return e||(t in Ut?t:Vt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),o=Gt.length;o--;)if((t=Gt[o]+e)in Ut)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,o){var i=et.exec(e);return i?Math.max(0,i[2]-(o||0))+(i[3]||\"px\"):e}function te(t,e,o,i,n,s){var r=\"width\"===e?1:0,a=0,c=0;if(o===(i?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===o&&(c+=C.css(t,o+ot[r],!0,n)),i?(\"content\"===o&&(c-=C.css(t,\"padding\"+ot[r],!0,n)),\"margin\"!==o&&(c-=C.css(t,\"border\"+ot[r]+\"Width\",!0,n))):(c+=C.css(t,\"padding\"+ot[r],!0,n),\"padding\"!==o?c+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n):a+=C.css(t,\"border\"+ot[r]+\"Width\",!0,n));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,o){var i=zt(t),n=(!p.boxSizingReliable()||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,i),s=n,r=jt(t,e,i),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(Ft.test(r)){if(!o)return r;r=\"auto\"}return(!p.boxSizingReliable()&&n||!p.reliableTrDimensions()&&E(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,i))&&t.getClientRects().length&&(n=\"border-box\"===C.css(t,\"boxSizing\",!1,i),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,o||(n?\"border\":\"content\"),s,i,r)+\"px\"}function oe(t,e,o,i,n){return new oe.prototype.init(t,e,o,i,n)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var o=jt(t,\"opacity\");return\"\"===o?\"1\":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,o,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,r,a=U(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===o)return r&&\"get\"in r&&void 0!==(n=r.get(t,!1,i))?n:l[e];\"string\"===(s=typeof o)&&(n=et.exec(o))&&n[1]&&(o=at(t,e,n),s=\"number\"),null!=o&&o==o&&(\"number\"!==s||c||(o+=n&&n[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==o||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(o=r.set(t,o,i))||(c?l.setProperty(e,o):l[e]=o))}},css:function(t,e,o,i){var n,s,r,a=U(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(n=r.get(t,!0,o)),void 0===n&&(n=jt(t,e,i)),\"normal\"===n&&e in Qt&&(n=Qt[e]),\"\"===o||o?(s=parseFloat(n),!0===o||isFinite(s)?s||0:n):n}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,o,i){if(o)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):$t(t,Zt,(function(){return ee(t,e,i)}))},set:function(t,o,i){var n,s=zt(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||i)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),c=i?te(t,e,i,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(n=et.exec(o))&&\"px\"!==(n[3]||\"px\")&&(t.style[e]=o,o=C.css(t,e)),Kt(0,o,c)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-$t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(o){for(var i=0,n={},s=\"string\"==typeof o?o.split(\" \"):[o];i<4;i++)n[t+ot[i]+e]=s[i]||s[i-2]||s[0];return n}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return N(this,(function(t,e,o){var i,n,s={},r=0;if(Array.isArray(e)){for(i=zt(t),n=e.length;r<n;r++)s[e[r]]=C.css(t,e[r],!1,i);return s}return void 0!==o?C.style(t,e,o):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,o,i,n,s){this.elem=t,this.prop=o,this.easing=n||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(C.cssNumber[o]?\"\":\"px\")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,o=oe.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=oe.prototype.init,C.fx.step={};var ie,ne,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ne&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function ce(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function le(t,e){var o,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n[\"margin\"+(o=ot[i])]=n[\"padding\"+o]=t;return e&&(n.opacity=n.width=t),n}function de(t,e,o){for(var i,n=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=n.length;s<r;s++)if(i=n[s].call(o,e,t))return i}function he(t,e,o){var i,n,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(n)return!1;for(var e=ie||ce(),o=Math.max(0,l.startTime+l.duration-e),i=1-(o/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,o]),i<1&&r?o:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},o),originalProperties:e,originalOptions:o,startTime:ie||ce(),duration:o.duration,tweens:[],createTween:function(e,o){var i=C.Tween(t,l.opts,e,o,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var o=0,i=e?l.tweens.length:0;if(n)return this;for(n=!0;o<i;o++)l.tweens[o].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var o,i,n,s,r;for(o in t)if(n=e[i=U(o)],s=t[o],Array.isArray(s)&&(n=s[1],s=t[o]=s[0]),o!==i&&(t[i]=s,delete t[o]),(r=C.cssHooks[i])&&\"expand\"in r)for(o in s=r.expand(s),delete t[i],s)o in t||(t[o]=s[o],e[o]=n);else e[i]=n}(d,l.opts.specialEasing);s<r;s++)if(i=he.prefilters[s].call(l,t,d,l.opts))return m(i.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return C.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var o=this.createTween(t,e);return at(o.elem,t,et.exec(e),o),o}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(L);for(var o,i=0,n=t.length;i<n;i++)o=t[i],he.tweeners[o]=he.tweeners[o]||[],he.tweeners[o].unshift(e)},prefilters:[function(t,e,o){var i,n,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(i in o.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(n=e[i],se.test(n)){if(delete e[i],s=s||\"toggle\"===n,n===(f?\"hide\":\"show\")){if(\"show\"!==n||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||C.style(t,i)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(i in h&&1===t.nodeType&&(o.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===C.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),o.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=o.overflow[0],m.overflowX=o.overflow[1],m.overflowY=o.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(i in f||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,i,p[i])}))),c=de(f?g[i]:0,i,u),i in g||(g[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,o){var i=t&&\"object\"==typeof t?C.extend({},t):{complete:o||!o&&e||m(t)&&t,duration:t,easing:o&&e||e&&!m(e)&&e};return C.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,o,i){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,o,i)},animate:function(t,e,o,i){var n=C.isEmptyObject(t),s=C.speed(e,o,i),r=function(){var e=he(this,C.extend({},t),s);(n||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,o){var i=function(t){var e=t.stop;delete t.stop,e(o)};return\"string\"!=typeof t&&(o=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,n=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(n)r[n]&&r[n].stop&&i(r[n]);else for(n in r)r[n]&&r[n].stop&&re.test(n)&&i(r[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(o),e=!1,s.splice(n,1));!e&&o||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,o=Y.get(this),i=o[t+\"queue\"],n=o[t+\"queueHooks\"],s=C.timers,r=i?i.length:0;for(o.finish=!0,C.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete o.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var o=C.fn[e];C.fn[e]=function(t,i,n){return null==t||\"boolean\"==typeof t?o.apply(this,arguments):this.animate(le(e,!0),t,i,n)}})),C.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,o,i){return this.animate(e,t,o,i)}})),C.timers=[],C.fx.tick=function(){var t,e=0,o=C.timers;for(ie=Date.now();e<o.length;e++)(t=o[e])()||o[e]!==t||o.splice(e--,1);o.length||C.fx.stop(),ie=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ne||(ne=!0,ae())},C.fx.stop=function(){ne=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,o){return e=C.fx&&C.fx.speeds[e]||e,o=o||\"fx\",this.queue(o,(function(o,i){var n=t.setTimeout(o,e);i.stop=function(){t.clearTimeout(n)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return N(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,o):(1===s&&C.isXMLDoc(t)||(n=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==o?null===o?void C.removeAttr(t,e):n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:(t.setAttribute(e,o+\"\"),o):n&&\"get\"in n&&null!==(i=n.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&E(t,\"input\")){var o=t.value;return t.setAttribute(\"type\",e),o&&(t.value=o),e}}}},removeAttr:function(t,e){var o,i=0,n=e&&e.match(L);if(n&&1===t.nodeType)for(;o=n[i++];)t.removeAttribute(o)}}),ue={set:function(t,e,o){return!1===e?C.removeAttr(t,o):t.setAttribute(o,o),o}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var o=pe[e]||C.find.attr;pe[e]=function(t,e,i){var n,s,r=e.toLowerCase();return i||(s=pe[r],pe[r]=n,n=null!=o(t,e,i)?r:null,pe[r]=s),n}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(L)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(L)||[]}C.fn.extend({prop:function(t,e){return N(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,o){var i,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,n=C.propHooks[e]),void 0!==o?n&&\"set\"in n&&void 0!==(i=n.set(t,o,e))?i:t[e]=o:n&&\"get\"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,o,i,n,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ve(t)).length)for(;o=this[c++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)i.indexOf(\" \"+s+\" \")<0&&(i+=s+\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,o,i,n,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;o=this[c++];)if(n=we(o),i=1===o.nodeType&&\" \"+ge(n)+\" \"){for(r=0;s=e[r++];)for(;i.indexOf(\" \"+s+\" \")>-1;)i=i.replace(\" \"+s+\" \",\" \");n!==(a=ge(i))&&o.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var o=typeof t,i=\"string\"===o||Array.isArray(t);return\"boolean\"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(o){C(this).toggleClass(t.call(this,o,we(this),e),e)})):this.each((function(){var e,n,s,r;if(i)for(n=0,s=C(this),r=ve(t);e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==o||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,o,i=0;for(e=\" \"+t+\" \";o=this[i++];)if(1===o.nodeType&&(\" \"+ge(we(o))+\" \").indexOf(e)>-1)return!0;return!1}});var ye=/\\r/g;C.fn.extend({val:function(t){var e,o,i,n=this[0];return arguments.length?(i=m(t),this.each((function(o){var n;1===this.nodeType&&(null==(n=i?t.call(this,o,C(this).val()):t)?n=\"\":\"number\"==typeof n?n+=\"\":Array.isArray(n)&&(n=C.map(n,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,n,\"value\")||(this.value=n))}))):n?(e=C.valHooks[n.type]||C.valHooks[n.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(o=e.get(n,\"value\"))?o:\"string\"==typeof(o=n.value)?o.replace(ye,\"\"):null==o?\"\":o:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,o,i,n=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:n.length;for(i=s<0?c:r?s:0;i<c;i++)if(((o=n[i]).selected||i===s)&&!o.disabled&&(!o.parentNode.disabled||!E(o.parentNode,\"optgroup\"))){if(e=C(o).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var o,i,n=t.options,s=C.makeArray(e),r=n.length;r--;)((i=n[r]).selected=C.inArray(C.valHooks.option.get(i),s)>-1)&&(o=!0);return o||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,o,i,n){var s,r,a,c,l,h,u,p,w=[i||g],v=d.call(e,\"type\")?e.type:e,y=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_e.test(v+C.event.triggered)&&(v.indexOf(\".\")>-1&&(y=v.split(\".\"),v=y.shift(),y.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[C.expando]?e:new C.Event(v,\"object\"==typeof e&&e)).isTrigger=n?2:3,e.namespace=y.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+y.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=i),o=null==o?[e]:C.makeArray(o,[e]),u=C.event.special[v]||{},n||!u.trigger||!1!==u.trigger.apply(i,o))){if(!n&&!u.noBubble&&!f(i)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(i.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,o),(h=l&&r[l])&&h.apply&&V(r)&&(e.result=h.apply(r,o),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),o)||!V(i)||l&&m(i[v])&&!f(i)&&((a=i[l])&&(i[l]=null),C.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,Ce),i[v](),e.isPropagationStopped()&&p.removeEventListener(v,Ce),C.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,o){var i=C.extend(new C.Event,o,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var o=this[0];if(o)return C.event.trigger(t,e,o,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var o=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e);n||i.addEventListener(t,o,!0),Y.access(i,e,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=Y.access(i,e)-1;n?Y.access(i,e,n):(i.removeEventListener(t,o,!0),Y.remove(i,e))}}}));var Ie=t.location,ke={guid:Date.now()},be=/\\?/;C.parseXML=function(e){var o;if(!e||\"string\"!=typeof e)return null;try{o=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){o=void 0}return o&&!o.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),o};var xe=/\\[\\]$/,We=/\\r?\\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,o,i){var n;if(Array.isArray(e))C.each(e,(function(e,n){o||xe.test(t)?i(t,n):Te(t+\"[\"+(\"object\"==typeof n&&null!=n?e:\"\")+\"]\",n,o,i)}));else if(o||\"object\"!==y(e))i(t,e);else for(n in e)Te(t+\"[\"+n+\"]\",e[n],o,i)}C.param=function(t,e){var o,i=[],n=function(t,e){var o=m(e)?e():e;i[i.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==o?\"\":o)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){n(this.name,this.value)}));else for(o in t)Te(o,t[o],e,n);return i.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var o=C(this).val();return null==o?null:Array.isArray(o)?C.map(o,(function(t){return{name:e.name,value:t.replace(We,\"\\r\\n\")}})):{name:e.name,value:o.replace(We,\"\\r\\n\")}})).get()}});var Be=/%20/g,De=/#.*$/,Me=/([?&])_=[^&]*/,Ae=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Le=/^\\/\\//,Oe={},Re={},He=\"*/\".concat(\"*\"),Fe=g.createElement(\"a\");function ze(t){return function(e,o){\"string\"!=typeof e&&(o=e,e=\"*\");var i,n=0,s=e.toLowerCase().match(L)||[];if(m(o))for(;i=s[n++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(t[i]=t[i]||[]).unshift(o)):(t[i]=t[i]||[]).push(o)}}function $e(t,e,o,i){var n={},s=t===Re;function r(a){var c;return n[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,o,i);return\"string\"!=typeof l||s||n[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!n[\"*\"]&&r(\"*\")}function Ne(t,e){var o,i,n=C.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((n[o]?t:i||(i={}))[o]=e[o]);return i&&C.extend(!0,t,i),t}Fe.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":He,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,C.ajaxSettings),e):Ne(C.ajaxSettings,t)},ajaxPrefilter:ze(Oe),ajaxTransport:ze(Re),ajax:function(e,o){\"object\"==typeof e&&(o=e,e=void 0),o=o||{};var i,n,s,r,a,c,l,d,h,u,p=C.ajaxSetup({},o),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?C(m):C.event,w=C.Deferred(),v=C.Callbacks(\"once memory\"),y=p.statusCode||{},_={},I={},k=\"canceled\",b={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Ae.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)b.always(t[b.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return i&&i.abort(e),x(0,e),this}};if(w.promise(b),p.url=((e||p.url||Ie.href)+\"\").replace(Le,Ie.protocol+\"//\"),p.type=o.method||o.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(L)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=Fe.protocol+\"//\"+Fe.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),$e(Oe,p,o,b),l)return b;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),n=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Be,\"+\")):(u=p.url.slice(n.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(n+=(be.test(n)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Me,\"$1\"),u=(be.test(n)?\"&\":\"?\")+\"_=\"+ke.guid+++u),p.url=n+u),p.ifModified&&(C.lastModified[n]&&b.setRequestHeader(\"If-Modified-Since\",C.lastModified[n]),C.etag[n]&&b.setRequestHeader(\"If-None-Match\",C.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||o.contentType)&&b.setRequestHeader(\"Content-Type\",p.contentType),b.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+He+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)b.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,b,p)||l))return b.abort();if(k=\"abort\",v.add(p.complete),b.done(p.success),b.fail(p.error),i=$e(Re,p,o,b)){if(b.readyState=1,d&&f.trigger(\"ajaxSend\",[b,p]),l)return b;p.async&&p.timeout>0&&(a=t.setTimeout((function(){b.abort(\"timeout\")}),p.timeout));try{l=!1,i.send(_,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,o,r,c){var h,u,g,_,I,k=o;l||(l=!0,a&&t.clearTimeout(a),i=void 0,s=c||\"\",b.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,o){for(var i,n,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(i)for(n in a)if(a[n]&&a[n].test(i)){c.unshift(n);break}if(c[0]in o)s=c[0];else{for(n in o){if(!c[0]||t.converters[n+\" \"+c[0]]){s=n;break}r||(r=n)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),o[s]}(p,b,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,o,i){var n,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(o[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(n in l)if((a=n.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[n]:!0!==l[n]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,b,h),h?(p.ifModified&&((I=b.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[n]=I),(I=b.getResponseHeader(\"etag\"))&&(C.etag[n]=I)),204===e||\"HEAD\"===p.type?k=\"nocontent\":304===e?k=\"notmodified\":(k=_.state,u=_.data,h=!(g=_.error))):(g=k,!e&&k||(k=\"error\",e<0&&(e=0))),b.status=e,b.statusText=(o||k)+\"\",h?w.resolveWith(m,[u,k,b]):w.rejectWith(m,[b,k,g]),b.statusCode(y),y=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[b,p,h?u:g]),v.fireWith(m,[b,k]),d&&(f.trigger(\"ajaxComplete\",[b,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return b},getJSON:function(t,e,o){return C.get(t,e,o,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,o,i,n){return m(o)&&(n=n||i,i=o,o=void 0),C.ajax(C.extend({url:t,type:e,dataType:n,data:o,success:i},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,o){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,o)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),o=e.contents();o.length?o.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(o){C(this).wrapAll(e?t.call(this,o):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var o,i;if(p.cors||qe&&!e.crossDomain)return{send:function(n,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n[\"X-Requested-With\"]||(n[\"X-Requested-With\"]=\"XMLHttpRequest\"),n)a.setRequestHeader(r,n[r]);o=function(t){return function(){o&&(o=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=o(),i=a.onerror=a.ontimeout=o(\"error\"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){o&&i()}))},o=o(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,o;if(t.crossDomain||t.scriptAttrs)return{send:function(i,n){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",o=function(t){e.remove(),o=null,t&&n(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){o&&o()}}}));var Ge,Ue=[],Ve=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ue.pop()||C.expando+\"_\"+ke.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,o,i){var n,s,r,a=!1!==e.jsonp&&(Ve.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ve.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return n=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ve,\"$1\"+n):!1!==e.jsonp&&(e.url+=(be.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+n),e.converters[\"script json\"]=function(){return r||C.error(n+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[n],t[n]=function(){r=arguments},i.always((function(){void 0===s?C(t).removeProp(n):t[n]=s,e[n]&&(e.jsonpCallback=o.jsonpCallback,Ue.push(n)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ge=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ge.childNodes.length),C.parseHTML=function(t,e,o){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(o=e,e=!1),e||(p.createHTMLDocument?((i=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(i)):e=g),s=!o&&[],(n=S.exec(t))?[e.createElement(n[1])]:(n=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],n.childNodes)));var i,n,s},C.fn.load=function(t,e,o){var i,n,s,r=this,a=t.indexOf(\" \");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(o=e,e=void 0):e&&\"object\"==typeof e&&(n=\"POST\"),r.length>0&&C.ajax({url:t,type:n||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(i?C(\"<div>\").append(C.parseHTML(t)).find(i):t)})).always(o&&function(t,e){r.each((function(){o.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,o){var i,n,s,r,a,c,l=C.css(t,\"position\"),d=C(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),c=C.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(i=d.position()).top,n=i.left):(r=parseFloat(s)||0,n=parseFloat(c)||0),m(e)&&(e=e.call(t,o,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+n),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,o,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),o=i.ownerDocument.defaultView,{top:e.top+o.pageYOffset,left:e.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,o,i=this[0],n={top:0,left:0};if(\"fixed\"===C.css(i,\"position\"))e=i.getBoundingClientRect();else{for(e=this.offset(),o=i.ownerDocument,t=i.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),n.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-n.top-C.css(i,\"marginTop\",!0),left:e.left-n.left-C.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||it}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var o=\"pageYOffset\"===e;C.fn[t]=function(i){return N(this,(function(t,i,n){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===n)return s?s[e]:t[i];s?s.scrollTo(o?s.pageXOffset:n,o?n:s.pageYOffset):t[i]=n}),t,i,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,o){if(o)return o=jt(t,e),Ft.test(o)?C(t).position()[e]+\"px\":o}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(o,i){C.fn[i]=function(n,s){var r=arguments.length&&(o||\"boolean\"!=typeof n),a=o||(!0===n||!0===s?\"margin\":\"border\");return N(this,(function(e,o,n){var s;return f(e)?0===i.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===n?C.css(e,o,a):C.style(e,o,n,a)}),e,r?n:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,o){return this.on(t,null,e,o)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,o,i){return this.on(e,t,o,i)},undelegate:function(t,e,o){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,o){return arguments.length>0?this.on(e,null,t,o):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var o,i,s;if(\"string\"==typeof e&&(o=t[e],e=t,t=o),m(t))return i=n.call(arguments,2),(s=function(){return t.apply(e||this,i.concat(n.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=m,C.isWindow=f,C.camelCase=U,C.type=y,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let dt;window.$=lt,window.addEventListener(\"beforeunload\",(()=>{ct.dispose(),dt&&dt()}));const ht={init:(t,e)=>{if(rt.initialized)return void rt.init(t,t.agm.instance.windowId,ct,e);ct.subscribeForWorkspaceEvents();const o=rt.init(t,t.agm.instance.windowId,ct,e);return dt=o.cleanUp,ct.init(t,t.agm.instance.windowId).then((()=>{U.config.emptyFrame||rt.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),rt},getFrameId:()=>rt.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>rt.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{rt.unmount()},subscribeForWindowFocused:t=>rt.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{},closeWorkspace:t=>{rt.closeItem(t)},showSaveWorkspacePopup:(t,e)=>{rt.showSaveWorkspacePopup(t,e)}};export default ht;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n\r\n    public showSaveWorkspacePopup(workspaceId: string, bounds: Bounds): void {\r\n        return (window.workspacesManager || workspacesManager).showSaveWorkspacePopup(workspaceId, bounds);\r\n    }\r\n\r\n    public closeWorkspace(workspaceId:string):void{\r\n        return (window.workspacesManager || workspacesManager).closeWorkspace(workspaceId);\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React, { useEffect, useRef } from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nconst WorkspacesWrapper: React.FC<WorkspacesWrapperProps> = ({ shouldInit, glue, ...props }) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!containerRef.current) {\r\n            return;\r\n        }\r\n        containerRef.current.appendChild(placeholder.content);\r\n\r\n        if (!shouldInit) {\r\n            return;\r\n        }\r\n        const componentFactory = {\r\n            // Create\r\n            createLogo: props.onCreateLogoRequested,\r\n            createWorkspaceTabs: props.onCreateWorkspaceTabRequested,\r\n            createAddWorkspace: props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: props.onCreateWorkspaceContentsRequested,\r\n            createBeforeGroupTabs: props.onCreateBeforeGroupTabsRequested,\r\n            createGroupTabs: props.onCreateGroupTabRequested,\r\n            createAfterGroupTabs: props.onCreateAfterGroupTabsRequested,\r\n            createGroupHeaderButtons: props.onCreateGroupHeaderButtonsRequested,\r\n            createSaveWorkspacePopup: props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: props.onCreateAddWorkspacePopupRequested,\r\n            // Update\r\n            updateWorkspaceTabs: props.onUpdateWorkspaceTabsRequested,\r\n            // Remove\r\n            removeWorkspaceTabs: props.onRemoveWorkspaceTabsRequested,\r\n            removeWorkspaceContents: props.onRemoveWorkspaceContentsRequested,\r\n            removeBeforeGroupTabs: props.onRemoveBeforeGroupTabsRequested,\r\n            removeGroupTab: props.onRemoveGroupTabRequested,\r\n            removeAfterGroupTabs: props.onRemoveAfterGroupTabsRequested,\r\n            removeGroupHeaderButtons: props.onRemoveGroupHeaderButtonsRequested,\r\n            // Misc\r\n            hideSystemPopups: props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(glue, componentFactory);\r\n\r\n        return () => {\r\n            let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n            if (!containerRef.current) {\r\n                return;\r\n            }\r\n\r\n            placeholder?.content.appendChild(containerRef.current.children[0]);\r\n\r\n            workspacesManager.unmount();\r\n        }\r\n    }, [shouldInit]);\r\n\r\n    return (\r\n        <div ref={containerRef} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React, { useState } from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions, CreateGroupRequestOptions, RemoveWorkspaceContentsRequestOptions, CreateGroupTabRequestOptions, RemoveRequestOptions, CreateWorkspaceTabRequestOptions, Bounds } from \"./types/internal\";\r\nimport workspacesManager from \"./workspacesManager\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            workspaceTabs: {},\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            beforeGroupTabsZones: {},\r\n            afterGroupTabsZones: {},\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined,\r\n            shouldInit: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState((s) => {\r\n            return { ...s, shouldInit: true };\r\n        })\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (options === this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateBeforeGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.beforeGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const beforeTabsZonesObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.beforeGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            beforeTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: beforeTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAfterGroupTabsComponentRequested = (options: CreateGroupRequestOptions) => {\r\n        if (options === this.state.afterGroupTabsZones[options.groupId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const afterTabsZonesObj = Object.keys(s.afterGroupTabsZones).reduce((acc, groupId) => {\r\n                acc[groupId] = s.afterGroupTabsZones[groupId];\r\n                return acc;\r\n            }, {});\r\n\r\n            afterTabsZonesObj[options.groupId] = options;\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: afterTabsZonesObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onUpdateWorkspaceTabRequested = (options: CreateWorkspaceTabRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.workspaceId] || !options) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const workspaceTabsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                return acc;\r\n            }, {});\r\n\r\n            const previousObj = workspaceTabsObj[options.workspaceId] ?? {};\r\n            workspaceTabsObj[options.workspaceId] = { ...previousObj, ...options };\r\n            return {\r\n                ...s,\r\n                workspaceTabs: workspaceTabsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveWorkspaceTabRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.workspaceTabs[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.workspaceTabs).reduce((acc, workspaceId) => {\r\n                if (workspaceId != options.elementId) {\r\n                    acc[workspaceId] = s.workspaceTabs[workspaceId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                workspaceTabs: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveWorkspaceContentsRequested = (options: RemoveWorkspaceContentsRequestOptions) => {\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents.filter((wc) => wc.workspaceId !== options.workspaceId),\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveBeforeTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.beforeGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.beforeGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.beforeGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                beforeGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveAfterTabsComponentRequested = (options: RemoveRequestOptions) => {\r\n        if (!this.state.afterGroupTabsZones[options.elementId]) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            const newTabElementsObj = Object.keys(s.afterGroupTabsZones).reduce((acc, elementId) => {\r\n                if (elementId != options.elementId) {\r\n                    acc[elementId] = s.afterGroupTabsZones[elementId];\r\n                }\r\n                return acc;\r\n            }, {});\r\n\r\n            return {\r\n                ...s,\r\n                afterGroupTabsZones: newTabElementsObj\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderWorkspaceTabs = () => {\r\n        const TabComponent = this.props.components?.header?.WorkspaceTabComponent;\r\n\r\n        return Object.values(this.state.workspaceTabs).map((g) => {\r\n            if (!TabComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            const onCloseClick = () => {\r\n                workspacesManager.closeWorkspace(g.workspaceId);\r\n            };\r\n\r\n            const onSaveClick = (bounds: Bounds) => {\r\n                workspacesManager.showSaveWorkspacePopup(g.workspaceId, bounds);\r\n            };\r\n            return <Portal key={`${options.workspaceId}-tab`} domNode={domNode}><TabComponent onCloseClick={onCloseClick} onSaveClick={onSaveClick} {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorkspaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderBeforeGroupTabs = () => {\r\n        const BeforeGroupTabsComponent = this.props.components?.containers?.group?.header?.BeforeTabs;\r\n\r\n        return Object.values(this.state.beforeGroupTabsZones).map((g) => {\r\n            if (!BeforeGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><BeforeGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderAfterGroupTabs = () => {\r\n        const AfterGroupTabsComponent = this.props.components?.containers?.group?.header?.AfterTabs;\r\n\r\n        return Object.values(this.state.afterGroupTabsZones).map((g) => {\r\n            if (!AfterGroupTabsComponent || !g.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = g;\r\n            return <Portal key={options.groupId} domNode={domNode}><AfterGroupTabsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderWorkspaceTabs()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorkspaceContents()}\r\n                {this.renderBeforeGroupTabs()}\r\n                {this.renderAfterGroupTabs()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateWorkspaceTabRequested={components?.header?.WorkspaceTabComponent ? this.onCreateWorkspaceTabRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? this.onCreateBeforeGroupTabsComponentRequested : undefined}\r\n                    onCreateAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? this.onCreateAfterGroupTabsComponentRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onUpdateWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? this.onUpdateWorkspaceTabRequested : undefined}\r\n                    onRemoveWorkspaceTabsRequested={components?.header?.WorkspaceTabComponent ? this.onRemoveWorkspaceTabRequested : undefined}\r\n                    onRemoveWorkspaceContentsRequested={components?.WorkspaceContents ? this.onRemoveWorkspaceContentsRequested : undefined}\r\n                    onRemoveBeforeGroupTabsRequested={components?.containers?.group?.header?.BeforeTabs ? this.onRemoveBeforeTabsComponentRequested : undefined}\r\n                    onRemoveAfterGroupTabsRequested={components?.containers?.group?.header?.AfterTabs ? this.onRemoveAfterTabsComponentRequested : undefined}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    shouldInit={this.state.shouldInit}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/workspace/WorkspaceContents\";\r\nimport MoveArea from \"./defaultComponents/MoveArea\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    AddWindowButtonProps,\r\n    MaximizeGroupButtonProps,\r\n    EjectButtonProps,\r\n    MoveAreaProps,\r\n    WorkspaceTabComponentProps,\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\nimport WorkspaceTab from \"./defaultComponents/workspace/WorkspaceTab\";\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents,\r\n    MoveArea,\r\n    WorkspaceTab\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    AddWindowButtonProps,\r\n    MaximizeGroupButtonProps,\r\n    EjectButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    MoveAreaProps,\r\n    WorkspaceTabComponentProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","import { Glue42Web } from \"../../web\";\r\nimport { ParsedConfig } from \"../shared/types\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): ParsedConfig => {\r\n    const isPlatformInternal = !!(config as any)?.gateway?.webPlatform?.port;\r\n\r\n    const combined = Object.assign({}, defaultConfig, config, { isPlatformInternal });\r\n\r\n    if (combined.systemLogger) {\r\n        combined.logger = combined.systemLogger.level ?? \"info\";\r\n    }\r\n\r\n    return combined;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const checkSingleton = (): void => {\r\n    const glue42CoreNamespace = (window as any).glue42core;\r\n\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n\r\n    if (!glue42CoreNamespace) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n\r\n    glue42CoreNamespace.webStarted = true;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport const enterprise = (config: Glue42Web.Config): Glue42.Glue => {\r\n\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: config?.systemLogger?.level ?? \"warn\"\r\n    };\r\n\r\n    return (window as any).Glue(enterpriseConfig);\r\n};","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig,\r\n    FrameBoundsResult,\r\n    GetWorkspaceIconResult,\r\n    PinWorkspaceConfig,\r\n    SetWorkspaceIconConfig,\r\n    FrameInitializationConfigProtocol,\r\n    WorkspaceSelector\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nexport const positiveNumberDecoder: Decoder<number> = number().where((num) => num > 0, \"Expected a positive number\");\r\n\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowDefinitionConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const groupDefinitionConfigDecoder: Decoder<Glue42Workspaces.GroupDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean())\r\n});\r\n\r\nexport const rowDefinitionConfigDecoder: Decoder<Glue42Workspaces.RowDefinitionConfig> = object({\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const columnDefinitionConfigDecoder: Decoder<Glue42Workspaces.ColumnDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(anyJson())\r\n}));\r\n\r\n\r\nexport const strictColumnDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"column\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(columnDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictRowDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"row\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(rowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictGroupDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"group\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(groupDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = oneOf(strictGroupDefinitionDecoder, strictColumnDefinitionDecoder, strictRowDefinitionDecoder);\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    isPinned: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    positionIndex: optional(nonNegativeNumberDecoder)\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder),\r\n        allowDrop: optional(boolean()),\r\n        allowDropLeft: optional(boolean()),\r\n        allowDropTop: optional(boolean()),\r\n        allowDropRight: optional(boolean()),\r\n        allowDropBottom: optional(boolean()),\r\n        allowExtract: optional(boolean()),\r\n        showSaveButton: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        allowSplitters: optional(boolean()),\r\n        showWindowCloseButtons: optional(boolean()),\r\n        showEjectButtons: optional(boolean()),\r\n        showAddWindowButtons: optional(boolean()),\r\n        icon: optional(nonEmptyStringDecoder),\r\n        isPinned: optional(boolean()),\r\n        isSelected: optional(boolean()),\r\n        positionIndex: optional(nonNegativeNumberDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const restoreWorkspaceDefinitionDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceDefinition> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const emptyFrameDefinitionDecoder: Decoder<Glue42Workspaces.EmptyFrameDefinition> = optional(object({\r\n    frameConfig: optional(newFrameConfigDecoder),\r\n    context: optional(object())\r\n}));\r\n\r\nexport const frameInitConfigDecoder: Decoder<Glue42Workspaces.FrameInitializationConfig> = object({\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        optional(workspaceDefinitionDecoder),\r\n        optional(restoreWorkspaceDefinitionDecoder)\r\n    ))\r\n});\r\n\r\nexport const frameInitProtocolConfigDecoder: Decoder<FrameInitializationConfigProtocol> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.RestoreWorkspaceDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        restoreWorkspaceDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameInitializationContextDecoder: Decoder<Glue42Workspaces.FrameInitializationContext> = object({\r\n    context: optional(object())\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    widthInPx: optional(number()),\r\n    heightInPx: optional(number()),\r\n    isPinned: optional(boolean()),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number())\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        widthInPx: optional(number()),\r\n        heightInPx: optional(number())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        isMaximized: optional(boolean())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const frameBoundsResultDecoder: Decoder<FrameBoundsResult> = object({\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const getWorkspaceIconResultDecoder: Decoder<GetWorkspaceIconResult> = object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(positiveNumberDecoder),\r\n    height: optional(positiveNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder,\r\n    workspaceSnapshot: optional(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean()),\r\n    metadata: optional(object())\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const elementResizeConfigDecoder: Decoder<Glue42Workspaces.ElementResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<Glue42Workspaces.RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<Glue42Workspaces.ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<Glue42Workspaces.GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n\r\nexport const pinWorkspaceDecoder: Decoder<PinWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const setWorkspaceIconDecoder: Decoder<SetWorkspaceIconConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder) // to enable the user to remove the icon from the workspace altogether\r\n});\r\n\r\nexport const workspacePinOptionsDecoder: Decoder<Glue42Workspaces.WorkspacePinOptions> = optional(object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n}));\r\n","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder, frameWindowBoundsResultDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" | \"getFrameBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: frameWindowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface FrameWindowBoundsResult {\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        const ctx = await this._bridge.contextLib.get(this.myCtxKey);\r\n        return ctx;\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = ioc.publicWindowId;\r\n        this.actualWindowId = ioc.actualWindowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getFrameBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        // this.me is optional, because this handler responds to a workspace frame bounds request and the frame is not a regular GD window\r\n        return {\r\n            windowId: this.me?.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetLeft, targetTop);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder,\r\n    frameBoundsResultDecoder,\r\n    getWorkspaceIconResultDecoder,\r\n    pinWorkspaceDecoder,\r\n    setWorkspaceIconDecoder,\r\n    frameSummaryResultDecoder,\r\n    emptyFrameDefinitionDecoder,\r\n    frameInitProtocolConfigDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"getFrameBounds\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\" |\r\n    \"pinWorkspace\" |\r\n    \"unpinWorkspace\" |\r\n    \"getWorkspaceIcon\" |\r\n    \"setWorkspaceIcon\" |\r\n    \"createFrame\" |\r\n    \"initFrame\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    createFrame: { name: \"createFrame\", resultDecoder: frameSummaryResultDecoder, argsDecoder: emptyFrameDefinitionDecoder },\r\n    initFrame: { name: \"initFrame\", resultDecoder: voidResultDecoder, argsDecoder: frameInitProtocolConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameBoundsResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder },\r\n    pinWorkspace: { name: \"pinWorkspace\", argsDecoder: pinWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    unpinWorkspace: { name: \"unpinWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    getWorkspaceIcon: { name: \"getWorkspaceIcon\", argsDecoder: workspaceSelectorDecoder, resultDecoder: getWorkspaceIconResultDecoder },\r\n    setWorkspaceIcon: { name: \"setWorkspaceIcon\", argsDecoder: setWorkspaceIconDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { appDirectoryStateChangeDecoder, appHelloSuccessDecoder, applicationStartConfigDecoder, appRemoveConfigDecoder, appsExportOperationDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"appDirectoryStateChange\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\" | \"import\" | \"remove\" | \"export\" | \"clear\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    appDirectoryStateChange: { name: \"appDirectoryStateChange\", dataDecoder: appDirectoryStateChangeDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    type: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppDirectoryStateChange {\r\n    appsAdded: BaseApplicationData[];\r\n    appsChanged: BaseApplicationData[];\r\n    appsRemoved: BaseApplicationData[];\r\n}\r\n\r\nexport interface AppRemoveConfig {\r\n    name: string;\r\n}\r\n\r\nexport interface AppsExportOperation {\r\n    definitions: Glue42Web.AppManager.Definition[];\r\n}\r\n\r\nexport interface AppsImportOperation {\r\n    definitions: Array<Glue42Web.AppManager.Definition | FDC3Definition>;\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    id?: string;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n    forceChromeTab?: boolean;\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n\r\nexport interface FDC3Definition {\r\n    name: string;\r\n    title?: string;\r\n    version?: string;\r\n    appId?: string;\r\n    manifest: string;\r\n    manifestType: string;\r\n    tooltip?: string;\r\n    description?: string;\r\n    contactEmail?: string;\r\n    supportEmail?: string;\r\n    publisher?: string;\r\n    images?: Array<{ url?: string }>;\r\n    icons?: Array<{ icon?: string }>;\r\n    customConfig?: any;\r\n    intents?: Intent[];\r\n}\r\n\r\nexport interface Intent {\r\n    name: string;\r\n    displayName?: string;\r\n    contexts?: string[];\r\n    customConfig?: any;\r\n}\r\n\r\nexport interface DefinitionParseResult {\r\n    valid: Glue42Web.AppManager.Definition[];\r\n    invalid: Array<{ app: string; error: string }>;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { allApplicationDefinitionsDecoder, appManagerOperationTypesDecoder, importModeDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController, ParsedConfig } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppsImportOperation, AppHelloSuccess, ApplicationStartConfig, AppRemoveConfig, InstanceData, operations, BaseApplicationData, AppsExportOperation, DefinitionParseResult, AppDirectoryStateChange } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private baseApplicationsTimeoutMS = 60000;\r\n    private appImportTimeoutMS = 20;\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = ioc.publicWindowId;\r\n        this.actualWindowId = ioc.actualWindowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // reuseId is a hidden property for workspaces-only use\r\n        // forceChromeTab is a hidden property for extension use only\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection,\r\n            id: (options as any)?.reuseId,\r\n            forceChromeTab: (options as any)?.forceTab\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return api;\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.appDirectoryStateChange.execute = this.handleAppDirectoryStateChange.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private async handleAppDirectoryStateChange(data: AppDirectoryStateChange): Promise<void> {\r\n        data.appsAdded.forEach(this.handleApplicationAddedMessage.bind(this));\r\n        data.appsChanged.forEach(this.handleApplicationChangedMessage.bind(this));\r\n        data.appsRemoved.forEach(this.handleApplicationRemovedMessage.bind(this));\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: BaseApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData, []);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private async import(definitions: Glue42Web.AppManager.Definition[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<Glue42Web.AppManager.ImportResult> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(definitions)) {\r\n            throw new Error(\"Import must be called with an array of definitions\");\r\n        }\r\n\r\n        if (definitions.length > 10000) {\r\n            throw new Error(\"Cannot import more than 10000 app definitions in Glue42 Core.\");\r\n        }\r\n\r\n        const parseResult = definitions.reduce<DefinitionParseResult>((soFar, definition) => {\r\n\r\n            const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n\r\n            if (!decodeResult.ok) {\r\n                soFar.invalid.push({ app: definition?.name, error: JSON.stringify(decodeResult.error) });\r\n            } else {\r\n                soFar.valid.push(definition);\r\n            }\r\n\r\n            return soFar;\r\n        }, { valid: [], invalid: [] });\r\n\r\n        const responseTimeout = this.baseApplicationsTimeoutMS + this.appImportTimeoutMS * parseResult.valid.length;\r\n\r\n        await this.bridge.send<AppsImportOperation, void>(\"appManager\", operations.import, { definitions: parseResult.valid, mode }, { methodResponseTimeoutMs: responseTimeout });\r\n\r\n        return {\r\n            imported: parseResult.valid.map((valid) => valid.name),\r\n            errors: parseResult.invalid\r\n        };\r\n    }\r\n\r\n    private async remove(name: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<AppRemoveConfig, void>(\"appManager\", operations.remove, { name }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n    }\r\n\r\n    private async clear(): Promise<void> {\r\n        await this.bridge.send<void, void>(\"appManager\", operations.clear, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n    }\r\n\r\n    private async export(): Promise<Glue42Web.AppManager.Definition[]> {\r\n\r\n        const response = await this.bridge.send<void, AppsExportOperation>(\"appManager\", operations.export, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n\r\n        return response.definitions;\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { BaseApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: BaseApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = api;\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, layoutsImportConfigDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface LayoutsImportConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface LayoutParseResult {\r\n    valid: Glue42Web.Layouts.Layout[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, importModeDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutParseResult, LayoutsImportConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(layouts)) {\r\n            throw new Error(\"Import must be called with an array of layouts\");\r\n        }\r\n\r\n        const parseResult = layouts.reduce<LayoutParseResult>((soFar, layout) => {\r\n\r\n            const decodeResult = glueLayoutDecoder.run(layout);\r\n\r\n            if (decodeResult.ok) {\r\n                soFar.valid.push(layout);\r\n            } else {\r\n                this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n\r\n            return soFar;\r\n\r\n        }, { valid: [] });\r\n\r\n        await this.bridge.send<LayoutsImportConfig, void>(\"layouts\", operations.import, { layouts: parseResult.valid, mode });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { notificationEventPayloadDecoder, permissionQueryResultDecoder, permissionRequestResultDecoder, raiseNotificationDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type NotificationsOperationTypes = \"raiseNotification\" | \"requestPermission\" | \"notificationShow\" | \"notificationClick\" | \"getPermission\";\r\n\r\nexport type NotificationPermissionTypes = \"default\" | \"granted\" | \"denied\";\r\n\r\nexport const operations: { [key in NotificationsOperationTypes]: BridgeOperation } = {\r\n    raiseNotification: { name: \"raiseNotification\", dataDecoder: raiseNotificationDecoder },\r\n    requestPermission: { name: \"requestPermission\", resultDecoder: permissionRequestResultDecoder },\r\n    notificationShow: { name: \"notificationShow\", dataDecoder: notificationEventPayloadDecoder },\r\n    notificationClick: { name: \"notificationClick\", dataDecoder: notificationEventPayloadDecoder },\r\n    getPermission: { name: \"getPermission\", resultDecoder: permissionQueryResultDecoder }\r\n};\r\n\r\nexport interface RaiseNotification {\r\n    settings: Glue42Web.Notifications.RaiseOptions;\r\n    id: string;\r\n}\r\n\r\nexport interface PermissionRequestResult {\r\n    permissionGranted: boolean;\r\n}\r\n\r\nexport interface PermissionQueryResult {\r\n    permission: NotificationPermissionTypes;\r\n}\r\n\r\nexport interface NotificationEventPayload {\r\n    definition: Glue42Web.Notifications.NotificationDefinition;\r\n    action?: string;\r\n    id?: string;\r\n}","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nmodule.exports = randomByte;\n","// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nmodule.exports = function (random, alphabet, size) {\n  // We cant use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length)\n  var id = ''\n\n  while (true) {\n    var bytes = random(step)\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || ''\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n}\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glue42NotificationOptionsDecoder, notificationsOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { NotificationEventPayload, operations, PermissionQueryResult, PermissionRequestResult, RaiseNotification } from \"./protocol\";\r\nimport { generate } from \"shortid\";\r\n\r\nexport class NotificationsController implements LibController {\r\n    private logger!: Glue42Web.Logger.API;\r\n    private bridge!: GlueBridge;\r\n    private notificationsSettings?: Glue42Web.Notifications.Settings;\r\n    private notifications: { [key in string]: Glue42Web.Notifications.Notification } = {};\r\n    private coreGlue!: Glue42Core.GlueCore;\r\n    private buildNotificationFunc!: (config: Glue42Web.Notifications.RaiseOptions) => Glue42Web.Notifications.Notification;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web notifications controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.coreGlue = coreGlue;\r\n\r\n        this.notificationsSettings = ioc.config.notifications;\r\n\r\n        this.buildNotificationFunc = ioc.buildNotification;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.addOperationExecutors();\r\n\r\n        (coreGlue as Glue42Web.API).notifications = api;\r\n\r\n        this.logger.trace(\"notifications are ready\");\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = notificationsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Notifications.API {\r\n        const api: Glue42Web.Notifications.API = {\r\n            raise: this.raise.bind(this),\r\n            requestPermission: this.requestPermission.bind(this),\r\n            getPermission: this.getPermission.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async getPermission(): Promise<\"default\" | \"granted\" | \"denied\"> {\r\n\r\n        const queryResult = await this.bridge.send<void, PermissionQueryResult>(\"notifications\", operations.getPermission, undefined);\r\n\r\n        return queryResult.permission;\r\n    }\r\n\r\n    private async requestPermission(): Promise<boolean> {\r\n\r\n        const permissionResult = await this.bridge.send<void, PermissionRequestResult>(\"notifications\", operations.requestPermission, undefined);\r\n\r\n        return permissionResult.permissionGranted;\r\n    }\r\n\r\n    private async raise(options: Glue42Web.Notifications.RaiseOptions): Promise<Glue42Web.Notifications.Notification> {\r\n        const settings = glue42NotificationOptionsDecoder.runWithException(options);\r\n\r\n        const permissionGranted = await this.requestPermission();\r\n\r\n        if (!permissionGranted) {\r\n            throw new Error(\"Cannot raise the notification, because the user has declined the permission request\");\r\n        }\r\n\r\n        const id = generate();\r\n\r\n        await this.bridge.send<RaiseNotification, void>(\"notifications\", operations.raiseNotification, { settings, id });\r\n\r\n        const notification = this.buildNotificationFunc(options);\r\n\r\n        this.notifications[id] = notification;\r\n\r\n        return notification;\r\n    }\r\n\r\n    private addOperationExecutors(): void {\r\n        operations.notificationShow.execute = this.handleNotificationShow.bind(this);\r\n        operations.notificationClick.execute = this.handleNotificationClick.bind(this);\r\n    }\r\n\r\n    private async handleNotificationShow(data: NotificationEventPayload): Promise<void> {\r\n\r\n        if (!data.id) {\r\n            return;\r\n        }\r\n\r\n        const notification = this.notifications[data.id];\r\n        if (notification && notification.onshow) {\r\n            notification.onshow();\r\n        }\r\n    }\r\n\r\n    private async handleNotificationClick(data: NotificationEventPayload): Promise<void> {\r\n\r\n        if (!data.action && this.notificationsSettings?.defaultClick) {\r\n            this.notificationsSettings.defaultClick(this.coreGlue as Glue42Web.API, data.definition);\r\n        }\r\n\r\n        if (data.action && this.notificationsSettings?.actionClicks?.some((actionDef) => actionDef.action === data.action)) {\r\n            const foundHandler = this.notificationsSettings?.actionClicks?.find((actionDef) => actionDef.action === data.action) as Glue42Web.Notifications.ActionClickHandler;\r\n\r\n            foundHandler.handler(this.coreGlue as Glue42Web.API, data.definition);\r\n        }\r\n\r\n        if (!data.id) {\r\n            return;\r\n        }\r\n\r\n        const notification = this.notifications[data.id];\r\n\r\n        if (notification && notification.onclick) {\r\n            notification.onclick();\r\n            delete this.notifications[data.id];\r\n        }\r\n\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { wrappedIntentFilterDecoder, intentRequestDecoder, intentResultDecoder, wrappedIntentsDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type IntentsOperationTypes = \"getIntents\" | \"findIntent\" | \"raiseIntent\";\r\n\r\nexport const operations: { [key in IntentsOperationTypes]: BridgeOperation } = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\r\n\r\nexport interface WrappedIntentFilter {\r\n    filter?: Glue42Web.Intents.IntentFilter;\r\n}\r\n\r\nexport interface WrappedIntents {\r\n    intents: Glue42Web.Intents.Intent[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { intentsOperationTypesDecoder, raiseRequestDecoder, findFilterDecoder, addIntentListenerIntentDecoder } from \"../shared/decoders\";\r\nimport { operations, WrappedIntentFilter, WrappedIntents } from \"./protocol\";\r\n\r\nexport class IntentsController implements LibController {\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n    private myIntents = new Set<string>();\r\n\r\n    private readonly GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web intents controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).intents = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Intents.API {\r\n        const api: Glue42Web.Intents.API = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(request: string | Glue42Web.Intents.IntentRequest): Promise<Glue42Web.Intents.IntentResult> {\r\n        const requestObj = raiseRequestDecoder.runWithException(request);\r\n\r\n        let data: Glue42Web.Intents.IntentRequest;\r\n\r\n        if (typeof requestObj === \"string\") {\r\n            data = {\r\n                intent: requestObj\r\n            };\r\n        } else {\r\n            data = requestObj;\r\n        }\r\n\r\n        const result = await this.bridge.send<Glue42Web.Intents.IntentRequest, Glue42Web.Intents.IntentResult>(\"intents\", operations.raiseIntent, data);\r\n\r\n        return result;\r\n    }\r\n\r\n    private async all(): Promise<Glue42Web.Intents.Intent[]> {\r\n        const result = await this.bridge.send<void, WrappedIntents>(\"intents\", operations.getIntents, undefined);\r\n\r\n        return result.intents;\r\n    }\r\n\r\n    private addIntentListener(intent: string | Glue42Web.Intents.AddIntentListenerRequest, handler: (context: Glue42Web.Intents.IntentContext) => any): { unsubscribe: UnsubscribeFunction } {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n\r\n        let subscribed = true;\r\n\r\n        // `addIntentListener()` is sync.\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n\r\n        const result = {\r\n            unsubscribe: (): void => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                } catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n\r\n        let intentFlag: Omit<Glue42Web.Intents.AddIntentListenerRequest, \"intent\"> = {};\r\n\r\n        if (typeof intent === \"object\") {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const { intent: removed, ...rest } = intent;\r\n            intentFlag = rest;\r\n        }\r\n\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42Web.Intents.IntentContext) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private async find(intentFilter?: string | Glue42Web.Intents.IntentFilter): Promise<Glue42Web.Intents.Intent[]> {\r\n        let data: WrappedIntentFilter | undefined = undefined;\r\n\r\n        if (typeof intentFilter !== \"undefined\") {\r\n            const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n\r\n            if (typeof intentFilterObj === \"string\") {\r\n                data = {\r\n                    filter: {\r\n                        name: intentFilterObj\r\n                    }\r\n                };\r\n            } else if (typeof intentFilterObj === \"object\") {\r\n                data = {\r\n                    filter: intentFilterObj\r\n                };\r\n            }\r\n        }\r\n\r\n        const result = await this.bridge.send<WrappedIntentFilter | undefined, WrappedIntents>(\"intents\", operations.findIntent, data);\r\n\r\n        return result.intents;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { channelNameDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class ChannelsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private logger!: Glue42Web.Logger.API;\r\n    private contexts!: Glue42Core.Contexts.API;\r\n    private currentChannelName: string | undefined;\r\n    private unsubscribeFunc: (() => void) | undefined;\r\n\r\n    private readonly GlueWebChannelsPrefix = \"___channel___\";\r\n    private readonly SubsKey = \"subs\";\r\n    private readonly ChangedKey = \"changed\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web channels controller\");\r\n\r\n        this.contexts = coreGlue.contexts;\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).channels = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    public async list(): Promise<Glue42Web.Channels.ChannelContext[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n\r\n        return channelContexts;\r\n    }\r\n\r\n    public my(): string {\r\n        return this.current();\r\n    }\r\n\r\n    public async join(name: string): Promise<void> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        await this.switchToChannel(name);\r\n    }\r\n\r\n    public onChanged(callback: (channel: string) => void): UnsubscribeFunction {\r\n        return this.changed(callback);\r\n    }\r\n\r\n    public async leave(): Promise<void> {\r\n        await this.switchToChannel();\r\n    }\r\n\r\n    private toApi(): Glue42Web.Channels.API {\r\n        const api: Glue42Web.Channels.API = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private createContextName(channelName: string): string {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n\r\n    private getAllChannelNames(): string[] {\r\n        const contextNames = this.contexts.all();\r\n\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private unsubscribe(): void {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n\r\n    private async switchToChannel(name?: string): Promise<void> {\r\n        this.unsubscribe();\r\n\r\n        // TODO: Should be set after `subscribe()` has resolved, but due to an issue where `subscribe()` replays the context before returning an unsubscribe function this has been moved here.\r\n        this.currentChannelName = name;\r\n\r\n        // When joining a channel (and not leaving).\r\n        if (typeof name !== \"undefined\") {\r\n            const contextName = this.createContextName(name);\r\n\r\n            this.unsubscribeFunc = await this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                this.registry.execute(this.SubsKey, context.data, context, extraData?.updaterId);\r\n            });\r\n        }\r\n\r\n        this.registry.execute(this.ChangedKey, name);\r\n    }\r\n\r\n    private async updateData(name: string, data: any): Promise<void> {\r\n        const contextName = this.createContextName(name);\r\n\r\n        if (this.contexts.setPathSupported) {\r\n            const pathValues: Glue42Web.Contexts.PathValue[] = Object.keys(data).map((key) => {\r\n                return {\r\n                    path: `data.${key}`,\r\n                    value: data[key]\r\n                };\r\n            });\r\n\r\n            await this.contexts.setPaths(contextName, pathValues);\r\n        } else {\r\n            // Pre @glue42/core 5.2.0. Note that we update the data property only.\r\n            await this.contexts.update(contextName, { data });\r\n        }\r\n    }\r\n\r\n    private subscribe(callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n\r\n    private async subscribeFor(name: string, callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): Promise<UnsubscribeFunction> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n        }\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n            callback(context.data, context, extraData?.updaterId);\r\n        });\r\n    }\r\n\r\n    private publish(data: any, name?: string): Promise<void> {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n\r\n            return this.updateData(name, data);\r\n        }\r\n\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n\r\n    private async all(): Promise<string[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private async get(name: string): Promise<Glue42Web.Channels.ChannelContext> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        const channelContext = await this.contexts.get(contextName);\r\n\r\n        return channelContext;\r\n    }\r\n\r\n    private current(): string {\r\n        return this.currentChannelName as string;\r\n    }\r\n\r\n    private changed(callback: (channel: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n\r\n    private add(info: Glue42Web.Channels.ChannelContext): Promise<Glue42Web.Channels.ChannelContext> {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\r\n","import { anyDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type SystemOperationTypes = \"getEnvironment\" | \"getBase\";\r\n\r\nexport const operations: { [key in SystemOperationTypes]: BridgeOperation } = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\r\n","import { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { operations } from \"./protocol\";\r\n\r\nexport class SystemController implements LibController {\r\n    private bridge!: GlueBridge;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.bridge = ioc.bridge;\r\n\r\n        await this.setEnvironment();\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private async setEnvironment(): Promise<void> {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const environment = await this.bridge.send<void, any>(\"system\", operations.getEnvironment, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const base = await this.bridge.send<void, any>(\"system\", operations.getBase, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const glue42core = Object.assign({}, (window as any).glue42core, base, { environment });\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = Object.freeze(glue42core);\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-empty-function */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport class Notification implements Glue42Web.Notifications.Notification {\r\n\r\n    public onclick: () => any = () => { };\r\n    public onshow: () => any = () => { };\r\n    public badge?: string | undefined;\r\n    public body?: string | undefined;\r\n    public data?: any;\r\n    public dir?: \"auto\" | \"ltr\" | \"rtl\" | undefined;\r\n    public icon?: string | undefined;\r\n    public image?: string | undefined;\r\n    public lang?: string | undefined;\r\n    public renotify?: boolean | undefined;\r\n    public requireInteraction?: boolean | undefined;\r\n    public silent?: boolean | undefined;\r\n    public tag?: string | undefined;\r\n    public timestamp?: number | undefined;\r\n    public vibrate?: number[] | undefined;\r\n\r\n    constructor(config: Glue42Web.Notifications.RaiseOptions) {\r\n        this.badge = config.badge;\r\n        this.body = config.body;\r\n        this.data = config.data;\r\n        this.dir = config.dir;\r\n        this.icon = config.icon;\r\n        this.image = config.image;\r\n        this.lang = config.lang;\r\n        this.renotify = config.renotify;\r\n        this.requireInteraction = config.requireInteraction;\r\n        this.silent = config.silent;\r\n        this.tag = config.tag;\r\n        this.timestamp = config.timestamp;\r\n        this.vibrate = config.vibrate;\r\n    }\r\n\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { extensionConfigDecoder } from \"./decoders\";\r\n\r\nexport type ExtensionOperationTypes = \"clientHello\";\r\n\r\nexport const operations: { [key in ExtensionOperationTypes]: BridgeOperation } = {\r\n    clientHello: { name: \"clientHello\", resultDecoder: extensionConfigDecoder }\r\n};\r\n\r\nexport interface ExtensionConfig {\r\n    widget: {\r\n        inject: boolean;\r\n    };\r\n}\r\n\r\nexport interface WidgetInjectionPermission { \r\n    command: \"permissionResponse\";\r\n    allowed: boolean;\r\n    channels?: Glue42Web.Channels.ChannelContext[]; \r\n    currentChannel?: Glue42Web.Channels.ChannelContext; \r\n}","import { Decoder, oneOf, constant, object, boolean } from \"decoder-validate\";\r\nimport { ExtensionConfig, ExtensionOperationTypes } from \"./protocol\";\r\n\r\nexport const extensionOperationTypesDecoder: Decoder<ExtensionOperationTypes> = oneOf<\"clientHello\">(\r\n    constant(\"clientHello\")\r\n);\r\n\r\nexport const extensionConfigDecoder: Decoder<ExtensionConfig> = object({\r\n    widget: object({\r\n        inject: boolean()\r\n    })\r\n});\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { ChannelsController } from \"../channels/controller\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { EventsDispatcher } from \"../shared/dispatcher\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { ExtensionConfig, operations, WidgetInjectionPermission } from \"./protocol\";\r\n\r\nexport class ExtController implements LibController {\r\n\r\n    private windowId!: string;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private bridge!: GlueBridge;\r\n    private eventsDispatcher!: EventsDispatcher;\r\n    private channelsController!: ChannelsController;\r\n    private config!: ExtensionConfig;\r\n    private channels: Glue42Web.Channels.ChannelContext[] = [];\r\n\r\n    private readonly contentCommands: { [key in string]: { name: string; handle: (message: any) => Promise<void> } } = {\r\n        widgetVisualizationPermission: { name: \"widgetVisualizationPermission\", handle: this.handleWidgetVisualizationPermission.bind(this) },\r\n        changeChannel: { name: \"changeChannel\", handle: this.handleChangeChannel.bind(this) }\r\n    }\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"extension.controller.web\");\r\n        \r\n        this.windowId = ioc.publicWindowId;\r\n\r\n        this.logger.trace(\"starting the extension web controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n        this.channelsController = ioc.channelsController;\r\n        this.eventsDispatcher = ioc.eventsDispatcher;\r\n\r\n        // TODO: Maybe think about a better way, because the platform will reject and log an error\r\n        try {\r\n            await this.registerWithPlatform();\r\n        } catch (error) {\r\n            // this is soft controller initialization to ensure that\r\n            // this non-essential controller will not break Glue Web \r\n            // initialization combined with older platforms\r\n            return;\r\n        }\r\n\r\n        this.channels = await this.channelsController.list();\r\n\r\n        this.eventsDispatcher.onContentMessage(this.handleContentMessage.bind(this));\r\n        this.channelsController.onChanged((channel) => {\r\n            this.eventsDispatcher.sendContentMessage({ command: \"channelChange\", newChannel: channel });\r\n        });\r\n    }\r\n\r\n    public async handleBridgeMessage(_: any): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private handleContentMessage(message: any): void {\r\n\r\n        if (!message || typeof message.command !== \"string\") {\r\n            return;\r\n        }\r\n\r\n        const foundHandler = this.contentCommands[message.command];\r\n\r\n        if (!foundHandler) {\r\n            return;\r\n        }\r\n\r\n        foundHandler.handle(message);\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        this.logger.trace(\"registering with the platform\");\r\n\r\n        this.config = await this.bridge.send<{ windowId: string }, ExtensionConfig>(\"extension\", operations.clientHello, { windowId: this.windowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a valid extension config\");\r\n    }\r\n\r\n    private async handleWidgetVisualizationPermission(): Promise<void> {\r\n        if (!this.config?.widget.inject) {\r\n            return this.eventsDispatcher.sendContentMessage<WidgetInjectionPermission>({ command: \"permissionResponse\", allowed: false });\r\n        }\r\n\r\n        const currentChannel = this.channels.find((channel) => channel.name === this.channelsController.my());\r\n\r\n        this.eventsDispatcher.sendContentMessage<WidgetInjectionPermission>({ command: \"permissionResponse\", allowed: true, channels: this.channels, currentChannel });\r\n    }\r\n\r\n    private async handleChangeChannel(message: { name: string }): Promise<void> {\r\n        if (message.name === \"no-channel\") {\r\n            await this.channelsController.leave();\r\n            return;\r\n        }\r\n\r\n        await this.channelsController.join(message.name);\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport class EventsDispatcher {\r\n    private glue!: Glue42Web.API;\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly glue42CoreEventName = \"Glue42CoreRuntime\";\r\n\r\n    private readonly events: { [key in string]: { name: string; handle: (glue42coreData: any) => void | Promise<void> } } = {\r\n        notifyStarted: { name: \"notifyStarted\", handle: this.handleNotifyStarted.bind(this) },\r\n        contentInc: { name: \"contentInc\", handle: this.handleContentInc.bind(this) }\r\n    }\r\n\r\n    public start(glue: Glue42Web.API): void {\r\n        this.glue = glue;\r\n\r\n        this.wireCustomEventListener();\r\n\r\n        this.announceStarted();\r\n    }\r\n\r\n    public sendContentMessage<T>(message: T): void {\r\n        this.send(\"contentOut\", message);\r\n    }\r\n\r\n    public onContentMessage(callback: (message: any) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"content-inc\", callback);\r\n    }\r\n\r\n    private wireCustomEventListener(): void {\r\n        window.addEventListener(this.glue42CoreEventName, (event) => {\r\n            const data = (event as CustomEvent).detail;\r\n\r\n            if (!data || !data.glue42core) {\r\n                return;\r\n            }\r\n\r\n            const glue42Event: string = data.glue42core.event;\r\n\r\n            const foundHandler = this.events[glue42Event];\r\n\r\n            if (!foundHandler) {\r\n                return;\r\n            }\r\n\r\n            foundHandler.handle(data.glue42core.message);\r\n\r\n        });\r\n    }\r\n\r\n    private announceStarted(): void {\r\n        this.send(\"start\");\r\n    }\r\n\r\n    private handleNotifyStarted(): void {\r\n        this.announceStarted();\r\n    }\r\n\r\n    private handleContentInc(message: any): void {\r\n        this.registry.execute(\"content-inc\", message);\r\n    }\r\n\r\n    private send(eventName: string, message?: any): void {\r\n        const payload = { glue42core: { event: eventName, message } };\r\n\r\n        const event = new CustomEvent(this.glue42CoreEventName, { detail: payload });\r\n\r\n        window.dispatchEvent(event);\r\n    }\r\n}","import { PlatformMessages } from \"./types\";\r\n\r\nexport const Glue42CoreMessageTypes: { [key in PlatformMessages]: { name: PlatformMessages } } = {\r\n    platformUnload: { name: \"platformUnload\" },\r\n    transportSwitchRequest: { name: \"transportSwitchRequest\" },\r\n    transportSwitchResponse: { name: \"transportSwitchResponse\" },\r\n    getCurrentTransport: { name: \"getCurrentTransport\" },\r\n    getCurrentTransportResponse: { name: \"getCurrentTransportResponse\" },\r\n    checkPreferredLogic: { name: \"checkPreferredLogic\" },\r\n    checkPreferredConnection: { name: \"checkPreferredConnection\" },\r\n    checkPreferredLogicResponse: { name: \"checkPreferredLogicResponse\" },\r\n    checkPreferredConnectionResponse: { name: \"checkPreferredConnectionResponse\" }\r\n};\r\n\r\nexport const webPlatformTransportName = \"web-platform\";","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { generate } from \"shortid\";\r\nimport { Glue42CoreMessageTypes, webPlatformTransportName } from \"../shared/constants\";\r\nimport { ParsedConfig, PlatformMessages, Transaction, TransportState } from \"../shared/types\";\r\n\r\nexport class PreferredConnectionController {\r\n\r\n    private readonly transactionTimeout = 15000;\r\n    private readonly transactionLocks: { [key in string]: Transaction<any> } = {};\r\n    private webPlatformTransport: any;\r\n    private webPlatformMessagesUnsubscribe: UnsubscribeFunction | undefined;\r\n    private reconnectCounter = 0;\r\n    private readonly logger: Glue42Core.Logger.API;\r\n\r\n    constructor(private readonly coreGlue: Glue42Core.GlueCore) {\r\n        this.logger = this.coreGlue.logger.subLogger(\"web.preferred.connection.controller\");\r\n    }\r\n\r\n    public async start(coreConfig: ParsedConfig): Promise<void> {\r\n        if (coreConfig.isPlatformInternal) {\r\n            this.logger.trace(\"This is an internal client to the platform, skipping all client preferred communication logic.\");\r\n            return;\r\n        }\r\n\r\n        const isConnectedToPlatform = (this.coreGlue as any).connection.transport.name() === webPlatformTransportName;\r\n\r\n        if (!isConnectedToPlatform) {\r\n            throw new Error(\"Cannot initiate the Glue Web Bridge, because the initial connection was not handled by a Web Platform transport.\");\r\n        }\r\n\r\n        if (!(this.coreGlue as any).connection.transport.isPreferredActivated) {\r\n            this.logger.trace(\"The platform of this client was configured without a preferred connection, skipping the rest of the initialization.\");\r\n            return;\r\n        }\r\n\r\n        this.webPlatformTransport = (this.coreGlue as any).connection.transport;\r\n\r\n        this.webPlatformMessagesUnsubscribe = this.webPlatformTransport.onMessage(this.handleWebPlatformMessage.bind(this));\r\n\r\n        const transportState = await this.getCurrentPlatformTransportState();\r\n\r\n        await this.checkSwitchTransport(transportState);\r\n    }\r\n\r\n    private handleWebPlatformMessage(msg: string | object): void {\r\n        if (typeof msg === \"string\") {\r\n            return;\r\n        }\r\n\r\n        const isConnectedToPlatform = (this.coreGlue as any).connection.transport.name() === webPlatformTransportName;\r\n\r\n        const type = (msg as any).type;\r\n        const args = (msg as any).args;\r\n        const transactionId = (msg as any).transactionId;\r\n\r\n        if (type === Glue42CoreMessageTypes.transportSwitchRequest.name) {\r\n            return this.handleTransportSwitchRequest(args, transactionId);\r\n        }\r\n\r\n        if (type === Glue42CoreMessageTypes.platformUnload.name && !isConnectedToPlatform) {\r\n            return this.handlePlatformUnload();\r\n        }\r\n\r\n        if (type === Glue42CoreMessageTypes.getCurrentTransportResponse.name) {\r\n            return this.handleGetCurrentTransportResponse(args, transactionId);\r\n        }\r\n\r\n        if (type === Glue42CoreMessageTypes.checkPreferredLogic.name) {\r\n            return this.handleCheckPreferredLogic(transactionId);\r\n        }\r\n\r\n        if (type === Glue42CoreMessageTypes.checkPreferredConnection.name) {\r\n            return this.handleCheckPreferredConnection(args, transactionId);\r\n        }\r\n\r\n    }\r\n\r\n    private async reEstablishPlatformPort(): Promise<void> {\r\n        try {\r\n            await this.webPlatformTransport.connect();\r\n        } catch (error) {\r\n            this.logger.trace(`Error when re-establishing port connection to the platform: ${JSON.stringify(error)}`);\r\n            --this.reconnectCounter;\r\n\r\n            if (this.reconnectCounter > 0) {\r\n                return this.reEstablishPlatformPort();\r\n            }\r\n\r\n            this.logger.warn(\"This client lost connection to the platform while connected to a preferred GW and was not able to re-connect to the platform.\");\r\n        }\r\n\r\n        this.logger.trace(\"The connection to the platform was re-established, closing the connection to the web gateway.\");\r\n\r\n        this.reconnectCounter = 0;\r\n\r\n        this.webPlatformTransport.close();\r\n\r\n        const transportState = await this.getCurrentPlatformTransportState();\r\n\r\n        await this.checkSwitchTransport(transportState);\r\n\r\n    }\r\n\r\n    private async checkSwitchTransport(config: TransportState): Promise<void> {\r\n        const myCurrentTransportName: string = (this.coreGlue as any).connection.transport.name();\r\n\r\n        if (myCurrentTransportName === config.transportName) {\r\n            this.logger.trace(\"A check switch was requested, but the platform transport and my transport are identical, no switch is necessary\");\r\n            return;\r\n        }\r\n\r\n        this.logger.trace(`A check switch was requested and a transport switch is necessary, because this client is now on ${myCurrentTransportName}, but it should reconnect to ${JSON.stringify(config)}`);\r\n\r\n        const result = await this.coreGlue.connection.switchTransport(config);\r\n\r\n        this.setConnected();\r\n\r\n        this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n    }\r\n\r\n    private async getCurrentPlatformTransportState(): Promise<TransportState> {\r\n\r\n        this.logger.trace(\"Requesting the current transport state of the platform.\");\r\n\r\n        const transaction = this.setTransaction<TransportState>(Glue42CoreMessageTypes.getCurrentTransport.name);\r\n\r\n        this.sendPlatformMessage(Glue42CoreMessageTypes.getCurrentTransport.name, transaction.id);\r\n\r\n        const transportState = await transaction.lock;\r\n\r\n        this.logger.trace(`The platform responded with transport state: ${JSON.stringify(transportState)}`);\r\n\r\n        return transportState;\r\n    }\r\n\r\n    private setTransaction<T>(operation: PlatformMessages): Transaction<T> {\r\n        const transaction: Transaction<T> = {} as Transaction<T>;\r\n\r\n        const transactionId = generate();\r\n\r\n        const transactionLock = new Promise<T>((resolve, reject) => {\r\n\r\n            let transactionLive = true;\r\n\r\n            transaction.lift = (args): void => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                resolve(args);\r\n            };\r\n\r\n            transaction.fail = (reason): void => {\r\n                transactionLive = false;\r\n                delete this.transactionLocks[transactionId];\r\n                reject(reason);\r\n            };\r\n\r\n            setTimeout(() => {\r\n                if (!transactionLive) {\r\n                    return;\r\n                }\r\n\r\n                transactionLive = false;\r\n                this.logger.warn(`Transaction for operation: ${operation} timed out.`);\r\n                delete this.transactionLocks[transactionId];\r\n                reject(`Transaction for operation: ${operation} timed out.`);\r\n            }, this.transactionTimeout);\r\n        });\r\n\r\n        transaction.lock = transactionLock;\r\n\r\n        transaction.id = transactionId;\r\n\r\n        this.transactionLocks[transactionId] = transaction;\r\n\r\n        return transaction;\r\n    }\r\n\r\n    private sendPlatformMessage(type: PlatformMessages, transactionId: string, args?: any): void {\r\n        this.logger.trace(`Sending a platform message of type: ${type}, id: ${transactionId} and args: ${JSON.stringify(args)}`);\r\n        this.webPlatformTransport.sendObject({\r\n            glue42core: { type, args, transactionId }\r\n        });\r\n    }\r\n\r\n    private handleTransportSwitchRequest(args: any, transactionId: string): void {\r\n        this.logger.trace(`Received a transport switch request with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        this.coreGlue.connection.switchTransport(args.switchSettings)\r\n            .then((result) => {\r\n                this.logger.trace(`The transport switch was completed with result: ${JSON.stringify(result)}`);\r\n                this.setConnected();\r\n                this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: result.success });\r\n            })\r\n            .catch((error) => {\r\n                this.logger.error(error);\r\n                this.sendPlatformMessage(Glue42CoreMessageTypes.transportSwitchResponse.name, transactionId, { success: false });\r\n            });\r\n    }\r\n\r\n    private handlePlatformUnload(): void {\r\n        this.reconnectCounter = 5;\r\n        this.logger.trace(\"The platform was unloaded while I am connected to a preferred connection, re-establishing the port connection.\");\r\n        this.reEstablishPlatformPort();\r\n    }\r\n\r\n    private handleGetCurrentTransportResponse(args: any, transactionId: string): void {\r\n        this.logger.trace(`Got a current transport response from the platform with id: ${transactionId} and data: ${JSON.stringify(args)}`);\r\n        const transportState = args.transportState as TransportState;\r\n\r\n        const transaction = this.transactionLocks[transactionId];\r\n\r\n        transaction?.lift(transportState);\r\n    }\r\n\r\n    private handleCheckPreferredLogic(transactionId: string): void {\r\n        setTimeout(() => this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredLogicResponse.name, transactionId), 0);\r\n    }\r\n\r\n    private handleCheckPreferredConnection(args: any, transactionId: string): void {\r\n        const url = args.url;\r\n\r\n        this.logger.trace(`Testing the possible connection to: ${url}`);\r\n\r\n        this.checkPreferredConnection(url)\r\n            .then((result) => {\r\n                this.logger.trace(`The connection to ${url} is possible`);\r\n                this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, result);\r\n            })\r\n            .catch((error) => {\r\n                this.logger.trace(`The connection to ${url} is not possible`);\r\n                this.sendPlatformMessage(Glue42CoreMessageTypes.checkPreferredConnectionResponse.name, transactionId, { error });\r\n            });\r\n    }\r\n\r\n    private checkPreferredConnection(url: string): Promise<{ live: boolean }> {\r\n\r\n        return new Promise<{ live: boolean }>((resolve) => {\r\n            const ws = new WebSocket(url);\r\n\r\n            ws.onerror = (): void => resolve({ live: false });\r\n\r\n            ws.onopen = (): void => {\r\n                ws.close();\r\n                resolve({ live: true });\r\n            };\r\n\r\n        });\r\n\r\n    }\r\n\r\n    private setConnected(): void {\r\n        this.webPlatformTransport.manualSetReadyState();\r\n    }\r\n}\r\n","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition as Glue42Workspaces.BoxDefinition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                var _a;\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                var className = target ? (_a = target.getAttribute(\"class\")) !== null && _a !== void 0 ? _a : \"\" : \"\";\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: className,\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n        return function () { };\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (typeof retriesLeft === \"undefined\") {\r\n                            retriesLeft = this.settings.reconnectAttempts;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else if (config.provider) {\r\n                            authentication.provider = config.provider;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.iAmConnected = false;\r\n        this.parentReady = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.parentPingTimeout = 5000;\r\n        this.connectionRequestTimeout = 7000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) },\r\n            gatewayDisconnect: { name: \"gatewayDisconnect\", handle: this.handleGatewayDisconnect.bind(this) },\r\n            gatewayInternalConnect: { name: \"gatewayInternalConnect\", handle: this.handleGatewayInternalConnect.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        this.setupPlatformUnloadListener();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    WebPlatformTransport.prototype.manualSetReadyState = function () {\r\n        this.iAmConnected = true;\r\n        this.parentReady = true;\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"communicationId\", {\r\n        get: function () {\r\n            return this._communicationId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.gatewayDisconnect.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        this.parentReady = false;\r\n        this.notifyStatusChanged(false, \"manual reconnection\");\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.close()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, Promise.resolve()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.settings.port) return [3, 2];\r\n                        return [4, this.initiateInternalConnection()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.logger.debug(\"internal web platform connection completed\");\r\n                        return [2];\r\n                    case 2:\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 5];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateInternalConnection = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.logger.debug(\"opening an internal web platform connection\");\r\n            _this.port = _this.settings.port;\r\n            if (_this.iAmConnected) {\r\n                _this.logger.warn(\"cannot open a new connection, because this client is currently connected\");\r\n                return;\r\n            }\r\n            _this.port.onmessage = function (event) {\r\n                var _a, _b;\r\n                if (_this.iAmConnected && !((_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core)) {\r\n                    _this.registry.execute(\"onMessage\", event.data);\r\n                    return;\r\n                }\r\n                var data = (_b = event.data) === null || _b === void 0 ? void 0 : _b.glue42core;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.success) {\r\n                    _this.publicWindowId = _this.settings.windowId;\r\n                    if (_this.identity) {\r\n                        _this.identity.windowId = _this.publicWindowId;\r\n                    }\r\n                    resolve();\r\n                }\r\n                if (data.type === _this.messages.gatewayInternalConnect.name && data.error) {\r\n                    reject(data.error);\r\n                }\r\n            };\r\n            _this.port.postMessage({\r\n                glue42core: {\r\n                    type: _this.messages.gatewayInternalConnect.name\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            var _a;\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = (_a = _this.myClientId) !== null && _a !== void 0 ? _a : shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            _this.parentPingInterval = setInterval(function () {\r\n                                target.postMessage(message, _this.defaultTargetString);\r\n                            }, 1000);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        parentCheck.catch(function () {\r\n                            if (_this.parentPingInterval) {\r\n                                clearInterval(_this.parentPingInterval);\r\n                                delete _this.parentPingInterval;\r\n                            }\r\n                        });\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n        }\r\n        if (this.parentPingInterval) {\r\n            clearInterval(this.parentPingInterval);\r\n            delete this.parentPingInterval;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        this.isPreferredActivated = data.isPreferredActivated;\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this._communicationId = data.communicationId;\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.setupPlatformUnloadListener = function () {\r\n        var _this = this;\r\n        this.onMessage(function (msg) {\r\n            if (msg.type === \"platformUnload\") {\r\n                _this.logger.debug(\"detected a web platform unload\");\r\n                _this.parentReady = false;\r\n                _this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n            }\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayDisconnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleGatewayInternalConnect = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar waitForInvocations = function (invocations, callback) {\r\n    var left = invocations;\r\n    return function () {\r\n        left--;\r\n        if (left === 0) {\r\n            callback();\r\n        }\r\n    };\r\n};\n\nvar AsyncSequelizer = (function () {\r\n    function AsyncSequelizer(minSequenceInterval) {\r\n        if (minSequenceInterval === void 0) { minSequenceInterval = 0; }\r\n        this.minSequenceInterval = minSequenceInterval;\r\n        this.queue = [];\r\n        this.isExecutingQueue = false;\r\n    }\r\n    AsyncSequelizer.prototype.enqueue = function (action) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.queue.push({ action: action, resolve: resolve, reject: reject });\r\n            _this.executeQueue();\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.executeQueue = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var operation, actionResult, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.isExecutingQueue) {\r\n                            return [2];\r\n                        }\r\n                        this.isExecutingQueue = true;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.queue.length) return [3, 7];\r\n                        operation = this.queue.shift();\r\n                        if (!operation) {\r\n                            this.isExecutingQueue = false;\r\n                            return [2];\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4, operation.action()];\r\n                    case 3:\r\n                        actionResult = _a.sent();\r\n                        operation.resolve(actionResult);\r\n                        return [3, 5];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        operation.reject(error_1);\r\n                        return [3, 5];\r\n                    case 5: return [4, this.intervalBreak()];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [3, 1];\r\n                    case 7:\r\n                        this.isExecutingQueue = false;\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AsyncSequelizer.prototype.intervalBreak = function () {\r\n        var _this = this;\r\n        return new Promise(function (res) { return setTimeout(res, _this.minSequenceInterval); });\r\n    };\r\n    return AsyncSequelizer;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        this._swapTransport = false;\r\n        this._switchInProgress = false;\r\n        this._transportSubscriptions = [];\r\n        this._sequelizer = new AsyncSequelizer();\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        this._defaultTransport = this.transport;\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.switchTransport = function (settings) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                return [2, this._sequelizer.enqueue(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                        var switchTargetTransport, verifyPromise, isSwitchSuccess, error_1;\r\n                        return __generator(this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    if (!settings || typeof settings !== \"object\") {\r\n                                        throw new Error(\"Cannot switch transports, because the settings are missing or invalid.\");\r\n                                    }\r\n                                    if (typeof settings.type === \"undefined\") {\r\n                                        throw new Error(\"Cannot switch the transport, because the type is not defined\");\r\n                                    }\r\n                                    this.logger.trace(\"Starting transport switch with settings: \" + JSON.stringify(settings));\r\n                                    switchTargetTransport = settings.type === \"secondary\" ? this.getNewSecondaryTransport(settings) : this._defaultTransport;\r\n                                    this._targetTransport = switchTargetTransport;\r\n                                    this._targetAuth = settings.type === \"secondary\" ? this.getNewSecondaryAuth(settings) : this._defaultAuth;\r\n                                    verifyPromise = this.verifyConnection();\r\n                                    this._swapTransport = true;\r\n                                    this._switchInProgress = true;\r\n                                    this.logger.trace(\"The new transport has been set, closing the current transport\");\r\n                                    return [4, this.transport.close()];\r\n                                case 1:\r\n                                    _a.sent();\r\n                                    _a.label = 2;\r\n                                case 2:\r\n                                    _a.trys.push([2, 4, , 5]);\r\n                                    return [4, verifyPromise];\r\n                                case 3:\r\n                                    _a.sent();\r\n                                    isSwitchSuccess = this.transport === switchTargetTransport;\r\n                                    this.logger.info(\"The reconnection after the switch was completed. Was the switch a success: \" + isSwitchSuccess);\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: isSwitchSuccess }];\r\n                                case 4:\r\n                                    error_1 = _a.sent();\r\n                                    this.logger.info(\"The reconnection after the switch timed out, reverting back to the default transport.\");\r\n                                    this.switchTransport({ type: \"default\" });\r\n                                    this._switchInProgress = false;\r\n                                    return [2, { success: false }];\r\n                                case 5: return [2];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.onLibReAnnounced = function (callback) {\r\n        return this.registry.add(\"libReAnnounced\", callback);\r\n    };\r\n    Connection.prototype.setLibReAnnounced = function (lib) {\r\n        this.registry.execute(\"libReAnnounced\", lib);\r\n    };\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            var currentServer = _this.transport.name();\r\n            callback(currentServer);\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var newAuth, identity, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._defaultAuth) {\r\n                            this._defaultAuth = authRequest;\r\n                        }\r\n                        if (this._swapTransport) {\r\n                            this.logger.trace(\"Detected a transport swap, swapping transports\");\r\n                            newAuth = this.transportSwap();\r\n                            authRequest = newAuth !== null && newAuth !== void 0 ? newAuth : authRequest;\r\n                        }\r\n                        this.logger.trace(\"Starting login for transport: \" + this.transport.name() + \" and auth \" + JSON.stringify(authRequest));\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4, this.transport.open()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.trace(\"Transport: \" + this.transport.name() + \" opened, logging in\");\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        return [4, this.protocol.login(authRequest, reconnect)];\r\n                    case 3:\r\n                        identity = _a.sent();\r\n                        this.logger.trace(\"Logged in with identity: \" + JSON.stringify(identity));\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                    case 4:\r\n                        error_2 = _a.sent();\r\n                        if (this._switchInProgress) {\r\n                            this.logger.trace(\"An error while logging in after a transport swap, preparing a default swap.\");\r\n                            this.prepareDefaultSwap();\r\n                        }\r\n                        throw new Error(error_2);\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            if (this.settings.replaySpecs && this.settings.replaySpecs.length) {\r\n                this.replayer = new MessageReplayerImpl(this.settings.replaySpecs);\r\n                this.replayer.init(this);\r\n            }\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    Connection.prototype.verifyConnection = function () {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            var unsub;\r\n            var ready = waitForInvocations(2, function () {\r\n                if (unsub) {\r\n                    unsub();\r\n                }\r\n                resolve();\r\n            });\r\n            unsub = _this.onLibReAnnounced(function (lib) {\r\n                if (lib.name === \"interop\") {\r\n                    return ready();\r\n                }\r\n                if (lib.name === \"contexts\") {\r\n                    return ready();\r\n                }\r\n            });\r\n        }, 10000, \"Transport switch timed out waiting for all libraries to be re-announced\");\r\n    };\r\n    Connection.prototype.getNewSecondaryTransport = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.url)) {\r\n            throw new Error(\"Missing secondary transport URL.\");\r\n        }\r\n        return new WS(Object.assign({}, this.settings, { ws: settings.transportConfig.url, reconnectAttempts: 1 }), this.logger.subLogger(\"ws-secondary\"));\r\n    };\r\n    Connection.prototype.getNewSecondaryAuth = function (settings) {\r\n        var _a;\r\n        if (!((_a = settings.transportConfig) === null || _a === void 0 ? void 0 : _a.auth)) {\r\n            throw new Error(\"Missing secondary transport auth information.\");\r\n        }\r\n        return settings.transportConfig.auth;\r\n    };\r\n    Connection.prototype.transportSwap = function () {\r\n        this._swapTransport = false;\r\n        if (!this._targetTransport || !this._targetAuth) {\r\n            this.logger.warn(\"Error while switching transports - either the target transport or auth is not defined: transport defined -> \" + !!this._defaultTransport + \", auth defined -> \" + !!this._targetAuth + \". Staying on the current one.\");\r\n            return;\r\n        }\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport = this._targetTransport;\r\n        var unsubConnectionChanged = this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        var unsubOnMessage = this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        this._transportSubscriptions.push(unsubConnectionChanged);\r\n        this._transportSubscriptions.push(unsubOnMessage);\r\n        return this._targetAuth;\r\n    };\r\n    Connection.prototype.prepareDefaultSwap = function () {\r\n        var _this = this;\r\n        this._transportSubscriptions.forEach(function (unsub) { return unsub(); });\r\n        this._transportSubscriptions = [];\r\n        this.transport.close().catch(function (error) { return _this.logger.warn(\"Error closing the \" + _this.transport.name() + \" transport after a failed connection attempt: \" + JSON.stringify(error)); });\r\n        this._targetTransport = this._defaultTransport;\r\n        this._targetAuth = this._defaultAuth;\r\n        this._swapTransport = true;\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.7.1\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_e) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        else ;\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getContexts() {\r\n        if (typeof configuration.contexts === \"undefined\") {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"boolean\" && configuration.contexts) {\r\n            return { reAnnounceKnownContexts: true };\r\n        }\r\n        if (typeof configuration.contexts === \"object\") {\r\n            return Object.assign({}, { reAnnounceKnownContexts: true }, configuration.contexts);\r\n        }\r\n        return false;\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: getContexts(),\r\n        version: ext.version || version,\r\n        libs: (_d = ext.libs) !== null && _d !== void 0 ? _d : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._contextsTempCache = {};\r\n        this._contextsSubscriptionsCache = [];\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._trackAllContexts = config.trackAllContexts;\r\n        this._reAnnounceKnownContexts = config.reAnnounceKnownContexts;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this._gw3Session.disconnected(this.resetState.bind(this));\r\n        this._gw3Session.onJoined(function (wasReconnect) {\r\n            if (!wasReconnect) {\r\n                return;\r\n            }\r\n            if (!_this._reAnnounceKnownContexts) {\r\n                return _this._connection.setLibReAnnounced({ name: \"contexts\" });\r\n            }\r\n            _this.reInitiateState().then(function () { return _this._connection.setLibReAnnounced({ name: \"contexts\" }); });\r\n        });\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve) {\r\n                _this.subscribe(name, function (data, _d, _r, un) {\r\n                    _this.unsubscribe(un);\r\n                    resolve(data);\r\n                });\r\n            });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback, subscriptionKey) {\r\n        var _this = this;\r\n        var thisCallbackSubscriptionNumber = typeof subscriptionKey === \"undefined\" ? this._nextCallbackSubscriptionNumber : subscriptionKey;\r\n        if (typeof subscriptionKey === \"undefined\") {\r\n            this._nextCallbackSubscriptionNumber += 1;\r\n        }\r\n        if (this._contextsSubscriptionsCache.every(function (subscription) { return subscription.subKey !== _this._nextCallbackSubscriptionNumber; })) {\r\n            this._contextsSubscriptionsCache.push({ contextName: name, subKey: thisCallbackSubscriptionNumber, callback: callback });\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        this._contextsSubscriptionsCache = this._contextsSubscriptionsCache.filter(function (subscription) { return subscription.subKey !== subscriptionKey; });\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var _this = this;\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n            if (this._trackAllContexts) {\r\n                this.subscribe(name, function () { }).then(function (subKey) { return _this._systemContextsSubKey = subKey; });\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.resetState = function () {\r\n        var _this = this;\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        if (this._systemContextsSubKey) {\r\n            this.unsubscribe(this._systemContextsSubKey);\r\n            delete this._systemContextsSubKey;\r\n        }\r\n        this._gw3Subscriptions = [];\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        delete this._protocolVersion;\r\n        this._contextsTempCache = Object.keys(this._contextNameToData).reduce(function (cacheSoFar, ctxName) {\r\n            cacheSoFar[ctxName] = _this._contextNameToData[ctxName].context;\r\n            return cacheSoFar;\r\n        }, {});\r\n        this._contextNameToData = {};\r\n    };\r\n    GW3Bridge.prototype.reInitiateState = function () {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _b, _c, _i, ctxName, lastKnownData;\r\n            var _this = this;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        this.subscribeToContextCreatedMessages();\r\n                        this.subscribeToContextUpdatedMessages();\r\n                        this.subscribeToContextDestroyedMessages();\r\n                        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n                            var type = message.type;\r\n                            if (!type) {\r\n                                return;\r\n                            }\r\n                            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                                _this.handleContextCreatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                                _this.handleContextUpdatedMessage(message);\r\n                            }\r\n                            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                                _this.handleContextDestroyedMessage(message);\r\n                            }\r\n                        });\r\n                        return [4, Promise.all(this._contextsSubscriptionsCache.map(function (subscription) { return _this.subscribe(subscription.contextName, subscription.callback, subscription.subKey); }))];\r\n                    case 1:\r\n                        _e.sent();\r\n                        return [4, this.flushQueue()];\r\n                    case 2:\r\n                        _e.sent();\r\n                        _b = [];\r\n                        for (_c in this._contextsTempCache)\r\n                            _b.push(_c);\r\n                        _i = 0;\r\n                        _e.label = 3;\r\n                    case 3:\r\n                        if (!(_i < _b.length)) return [3, 6];\r\n                        ctxName = _b[_i];\r\n                        if (typeof this._contextsTempCache[ctxName] !== \"object\" || Object.keys(this._contextsTempCache[ctxName]).length === 0) {\r\n                            return [3, 5];\r\n                        }\r\n                        lastKnownData = this._contextsTempCache[ctxName];\r\n                        this._logger.info(\"Re-announcing known context: \" + ctxName);\r\n                        return [4, this.update(ctxName, lastKnownData)];\r\n                    case 4:\r\n                        _e.sent();\r\n                        _e.label = 5;\r\n                    case 5:\r\n                        _i++;\r\n                        return [3, 3];\r\n                    case 6:\r\n                        this._contextsTempCache = {};\r\n                        this._logger.info(\"Contexts are re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.flushQueue = function () {\r\n        return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 0); });\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && filter[prop] !== null\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var _a, _b;\r\n        var accepts = (_a = methodInfo.input_signature) !== null && _a !== void 0 ? _a : \"\";\r\n        var returns = (_b = methodInfo.result_signature) !== null && _b !== void 0 ? _b : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar TimedCache = (function () {\r\n    function TimedCache(config) {\r\n        this.config = config;\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n    }\r\n    TimedCache.prototype.add = function (element) {\r\n        var _this = this;\r\n        var id = shortid();\r\n        this.cache.push({ id: id, element: element });\r\n        var timeoutId = setTimeout(function () {\r\n            var elementIdx = _this.cache.findIndex(function (entry) { return entry.id === id; });\r\n            if (elementIdx < 0) {\r\n                return;\r\n            }\r\n            _this.cache.splice(elementIdx, 1);\r\n        }, this.config.ELEMENT_TTL_MS);\r\n        this.timeoutIds.push(timeoutId);\r\n    };\r\n    TimedCache.prototype.flush = function () {\r\n        var elements = this.cache.map(function (entry) { return entry.element; });\r\n        this.timeoutIds.forEach(function (id) { return clearInterval(id); });\r\n        this.cache = [];\r\n        this.timeoutIds = [];\r\n        return elements;\r\n    };\r\n    return TimedCache;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.timedCache = new TimedCache({ ELEMENT_TTL_MS: 10000 });\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                _this.timedCache.add(subscription);\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptionsCache = function () {\r\n        return this.timedCache.flush();\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptionsCache = function () {\r\n        return this.streaming.drainSubscriptionsCache();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var reconnectionPromises, existingSubscriptions, _loop_1, _i, existingSubscriptions_1, sub, registeredMethods, _loop_2, _a, registeredMethods_1, method;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n                        client.drainSubscriptionsCache().forEach(function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to soft-re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"soft-subscribing to method \" + methodInfo.name + \" DONE\"); }).catch(function (error) { return logger.warn(\"subscribing to method \" + methodInfo.name + \" failed: \" + JSON.stringify(error) + \"}\"); });\r\n                        });\r\n                        reconnectionPromises = [];\r\n                        existingSubscriptions = client.drainSubscriptions();\r\n                        _loop_1 = function (sub) {\r\n                            var methodInfo = sub.method;\r\n                            var params = Object.assign({}, sub.params);\r\n                            logger.info(\"trying to re-subscribe to method \" + methodInfo.name + \", with params: \" + JSON.stringify(params));\r\n                            reconnectionPromises.push(interop.client.subscribe(methodInfo, params, undefined, undefined, sub).then(function () { return logger.info(\"subscribing to method \" + methodInfo.name + \" DONE\"); }));\r\n                        };\r\n                        for (_i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n                            sub = existingSubscriptions_1[_i];\r\n                            _loop_1(sub);\r\n                        }\r\n                        registeredMethods = serverRepository.getList();\r\n                        serverRepository.reset();\r\n                        _loop_2 = function (method) {\r\n                            var def = method.definition;\r\n                            logger.info(\"re-publishing method \" + def.name);\r\n                            if (method.stream) {\r\n                                reconnectionPromises.push(interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallback) {\r\n                                reconnectionPromises.push(interop.register(def, method.theFunction.userCallback).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                                reconnectionPromises.push(interop.registerAsync(def, method.theFunction.userCallbackAsync).then(function () { return logger.info(\"subscribing to method \" + def.name + \" DONE\"); }));\r\n                            }\r\n                            logger.info(\"re-publishing method \" + def.name + \" DONE\");\r\n                        };\r\n                        for (_a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n                            method = registeredMethods_1[_a];\r\n                            _loop_2(method);\r\n                        }\r\n                        return [4, Promise.all(reconnectionPromises)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        logger.info(\"Interop is re-announced\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect().then(function () { return connection.setLibReAnnounced({ name: \"interop\" }); }).catch(function (error) { return logger.warn(\"Error while re-announcing interop: \" + JSON.stringify(error)); });\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\"),\r\n                trackAllContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.trackAllContexts : false,\r\n                reAnnounceKnownContexts: typeof internalConfig.contexts === \"object\" ? internalConfig.contexts.reAnnounceKnownContexts : false\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, Glue42WebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { checkSingleton } from \"./config/checkSingleton\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\nimport { version } from \"../package.json\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): Glue42WebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        checkSingleton();\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config, { version }) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.preferredConnectionController.start(config);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n\r\n        ioc.defineConfig(config);\r\n\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started\");\r\n\r\n        ioc.eventsDispatcher.start(glue);\r\n\r\n        logger.trace(\"start event dispatched, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","import React, { useContext } from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\nimport { GlueContext } from '@glue42/react-hooks';\r\n// import { Glue42Workspaces } from '@glue42/workspaces-api';\r\n// import { Glue42Web } from \"@glue42/web\";\r\n// import { Glue42 } from \"@glue42/desktop\";\r\n\r\nconst App = () => {\r\n    (window as any).glue = useContext(GlueContext);\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\n// const App = () => {\r\n//     const waitForMyFrame = (glue: Glue42Web.API | Glue42.Glue) => {\r\n//         return new Promise<Glue42Workspaces.Frame>(async (res, rej) => {\r\n//             const unsub = await glue.workspaces?.onFrameOpened((f) => {\r\n//                 if (f.id === getFrameId()) {\r\n//                     res(f);\r\n//                     if (unsub) {\r\n//                         unsub();\r\n//                     }\r\n//                 }\r\n//             });\r\n//             const frames = await glue.workspaces?.getAllFrames();\r\n//             const myFrame = frames?.find(f => f.id === getFrameId());\r\n\r\n//             if (myFrame) {\r\n//                 res(myFrame);\r\n//                 if (unsub) {\r\n//                     unsub();\r\n//                 }\r\n//             }\r\n//         });\r\n//     };\r\n\r\n//     useGlue(async (glue) => {\r\n//         const myFrame = await waitForMyFrame(glue as any);\r\n//         const wsp = (await myFrame.workspaces())[0];\r\n//         const newWsp = await glue.workspaces?.restoreWorkspace(\"example2\", {title: \"example2\", reuseWorkspaceId: wsp.id} as any);\r\n//         await newWsp?.setTitle(\"Default\");\r\n//     });\r\n\r\n//     return (\r\n//         <Workspaces />\r\n//     );\r\n// }\r\n\r\nexport default App;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(this.decorateCommunicationId(webPlatformMethodName)),\r\n            this.verifyMethodLive(this.decorateCommunicationId(webPlatformWspStreamName))\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(this.decorateCommunicationId(webPlatformWspStreamName));\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : this.decorateCommunicationId(webPlatformMethodName);\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n\r\n    private decorateCommunicationId(base: string): string {\r\n        return `${base}.${(window as any).glue42core.communicationId}`;\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { nonNegativeNumberDecoder, rowLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.RowLockConfig | ((config: Glue42Workspaces.RowLockConfig) => Glue42Workspaces.RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setHeight(height: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(height);\r\n        return getBase(this).setHeight(this, height);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { columnLockConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.ColumnLockConfig | ((config: Glue42Workspaces.ColumnLockConfig) => Glue42Workspaces.ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setWidth(width: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(width);\r\n        return getBase(this).setWidth(this, width);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { elementResizeConfigDecoder, groupLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getBase(this).getAllowDropLeft(this);\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getBase(this).getAllowDropRight(this);\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getBase(this).getAllowDropTop(this);\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getBase(this).getAllowDropBottom(this);\r\n    }\r\n\r\n    public get allowDropHeader(): boolean {\r\n        return getBase(this).getAllowDropHeader(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.GroupLockConfig | ((config: Glue42Workspaces.GroupLockConfig) => Glue42Workspaces.GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropHeader: this.allowDropHeader,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n\r\n        return getBase(this).setSize(this, config.width, config.height);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder, workspacePinOptionsDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\ntype SaveLayoutConfig = Omit<Omit<Glue42Workspaces.WorkspaceLayoutSaveConfig, \"name\">, \"workspaceId\">;\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean | undefined {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get isSelected(): boolean {\r\n        return getData(this).config.isSelected;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get showWindowCloseButtons(): boolean {\r\n        return getData(this).config.showWindowCloseButtons;\r\n    }\r\n\r\n    public get showEjectButtons(): boolean {\r\n        return getData(this).config.showEjectButtons;\r\n    }\r\n\r\n    public get showAddWindowButtons(): boolean {\r\n        return getData(this).config.showAddWindowButtons;\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getData(this).config.isPinned;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: SaveLayoutConfig): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext, metadata: config?.metadata });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public async getIcon(): Promise<string> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceIcon(this.id);\r\n    }\r\n\r\n    public async setIcon(icon: string): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceIcon(this.id, icon);\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceLockConfig | ((config: Glue42Workspaces.WorkspaceLockConfig) => Glue42Workspaces.WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async pin(options: Glue42Workspaces.WorkspacePinOptions): Promise<void> {\r\n        workspacePinOptionsDecoder.runWithException(options);\r\n        await getData(this).controller.pinWorkspace(this.id, options?.icon);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async unpin(): Promise<void> {\r\n        await getData(this).controller.unpinWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder, elementResizeConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceWindowLockConfig | ((config: Glue42Workspaces.WorkspaceWindowLockConfig) => Glue42Workspaces.WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.resizeItem(myId, {\r\n            height: verifiedConfig.height,\r\n            width: verifiedConfig.width,\r\n            relative: false\r\n        });\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder, frameInitConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public get isInitialized(): boolean {\r\n        return getData(this).summary.isInitialized;\r\n    }\r\n\r\n    public getBounds(): Promise<Glue42Workspaces.FrameBounds> {\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.getFrameBounds(myId);\r\n    }\r\n\r\n    public async resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public async move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspacesByFrameId(this.id);\r\n    }\r\n\r\n    public async getConstraints(): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const controller = getData(this).controller;\r\n        const myId = getData(this).summary.id;\r\n\r\n        return controller.getFrameConstraints(myId);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async init(config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        frameInitConfigDecoder.runWithException(config);\r\n\r\n        if (getData(this).summary.isInitialized) {\r\n            throw new Error(\"The frame has already been initialized\");\r\n        }\r\n        return getData(this).controller.initFrame(this.id, config);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.transformStreamPayloadToWorkspace(payload);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspaceById(payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onInitializationRequested(callback: (context?: Glue42Workspaces.FrameInitializationContext) => Promise<void>): Promise<void> {\r\n        checkThrowCallback(callback);\r\n\r\n        if (!this.isInitialized) {\r\n            await callback(getData(this).summary.initializationContext);\r\n        }\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\nimport { Row } from \"../row\";\r\nimport { Column } from \"../column\";\r\nimport { ColumnSnapshotConfig, GroupSnapshotConfig, RowSnapshotConfig } from \"../../types/protocol\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async restore(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes): boolean {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowDropLeft(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropLeft is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropLeft;\r\n    }\r\n\r\n    public getAllowDropRight(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropRight is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropRight;\r\n    }\r\n\r\n    public getAllowDropTop(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropTop is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropTop;\r\n    }\r\n\r\n    public getAllowDropBottom(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropBottom is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropBottom;\r\n    }\r\n\r\n    public getAllowDropHeader(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropHeader is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropHeader;\r\n    }\r\n\r\n    public getAllowSplitters(model: Row | Column): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        if (privateData.type === \"group\") {\r\n            throw new Error(`Cannot get allow splitters from private data ${privateData.type}`);\r\n        }\r\n\r\n        return privateData.config.allowSplitters;\r\n    }\r\n\r\n    public getAllowExtract(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    public getMinWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minWidth;\r\n    }\r\n\r\n    public getMaxWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxWidth;\r\n    }\r\n\r\n    public getMinHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minHeight;\r\n    }\r\n\r\n    public getMaxHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxHeight;\r\n    }\r\n\r\n    public getWidthInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.widthInPx;\r\n    }\r\n\r\n    public getHeightInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.heightInPx;\r\n    }\r\n\r\n    public getIsPinned(model: Column | Row): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig).isPinned;\r\n    }\r\n\r\n    public getIsMaximized(model: Column | Row | Group): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig | GroupSnapshotConfig).isMaximized;\r\n    }\r\n\r\n    public async setHeight(model: Row, height: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setWidth(model: Column, width: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setSize(model: Group, width?: number, height?: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width,\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.createFrame.name, definition);\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.initFrame.name, { frameId, ...config });\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n\r\n            return Object.assign(\r\n                {},\r\n                { id: summary.id, width: summary.config.widthInPx, height: summary.config.heightInPx },\r\n                summary.config\r\n            );\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: payload.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const snapshot = payload.workspaceSnapshot || (await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: payload.workspaceSummary.id }));\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        const workspace = this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n        return workspace;\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n\r\n    public async pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.pinWorkspace.name, { workspaceId, icon });\r\n    }\r\n\r\n    public async unpinWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.unpinWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        const result = await this.bridge.send<{ icon: string }>(OPERATIONS.getWorkspaceIcon.name, { workspaceId });\r\n        return result.icon;\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.bridge.send<void>(OPERATIONS.setWorkspaceIcon.name, { workspaceId, icon });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult, FrameBoundsResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: Glue42Workspaces.EmptyFrameDefinition): Promise<Frame> {\r\n        return await this.base.createEmptyFrame(definition);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: Glue42Workspaces.FrameInitializationConfig): Promise<void> {\r\n        return this.base.initFrame(frameId, config);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public getWorkspaceById(workspaceId: string): Promise<Workspace> {\r\n        return this.base.fetchWorkspace(workspaceId);\r\n    }\r\n\r\n    public transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        return this.base.transformStreamPayloadToWorkspace(payload);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getWorkspacesByFrameId(frameId: string): Promise<Workspace[]> {\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n        const summariesForFrame = workspaceSummaries.filter((s) => s.frameId === frameId);\r\n\r\n        const workspacesForFrame = await Promise.all(summariesForFrame.map((summary) => {\r\n            return this.base.fetchWorkspace(summary.id);\r\n        }));\r\n\r\n        return workspacesForFrame;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameBounds(frameId: string): Promise<Glue42Workspaces.FrameBounds> {\r\n        const frameResult = await this.bridge.send<FrameBoundsResult>(OPERATIONS.getFrameBounds.name, { itemId: frameId });\r\n        return frameResult.bounds;\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\"): Promise<WorkspaceSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"frame\"): Promise<FrameSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    public pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        return this.base.pinWorkspace(workspaceId, icon);\r\n    }\r\n\r\n    public unpinWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.unpinWorkspace(workspaceId);\r\n    }\r\n\r\n    public getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        return this.base.getWorkspaceIcon(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.base.setWorkspaceIcon(workspaceId, icon);\r\n    }\r\n\r\n    public async getFrameConstraints(frameId: string): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const frameSnapshot = await this.getSnapshot(frameId, \"frame\");\r\n\r\n        return {\r\n            minWidth: frameSnapshot.config.minWidth,\r\n            maxWidth: frameSnapshot.config.maxWidth,\r\n            minHeight: frameSnapshot.config.minHeight,\r\n            maxHeight: frameSnapshot.config.maxHeight,\r\n        };\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder, emptyFrameDefinitionDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getWorkspaceById = async (workspaceId: string): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(workspaceId);\r\n\r\n        return controller.getWorkspaceById(workspaceId);\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const createEmptyFrame = async (definition?: Glue42Workspaces.EmptyFrameDefinition): Promise<Glue42Workspaces.Frame> => {\r\n        const validatedDefinition = emptyFrameDefinitionDecoder.runWithException(definition);\r\n\r\n        return controller.createEmptyFrame(validatedDefinition ?? {});\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await controller.transformStreamPayloadToWorkspace(payload);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const waitForFrame = async (id: string): Promise<Glue42Workspaces.Frame> => {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return new Promise<Glue42Workspaces.Frame>((res, rej) => {\r\n            let unsub: Glue42Workspaces.Unsubscribe = () => {\r\n                // do nothing\r\n            };\r\n            onFrameOpened((f) => {\r\n                if (f.id === id) {\r\n                    res(f);\r\n                    unsub();\r\n                }\r\n            }).then((u) => {\r\n                unsub = u;\r\n                return getAllFrames();\r\n            }).then((frames) => {\r\n                const myFrame = frames.find((f) => f.id === id);\r\n                if (myFrame) {\r\n                    res(myFrame);\r\n                    unsub();\r\n                }\r\n            }).catch(rej);\r\n        });\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getWorkspaceById,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        createEmptyFrame,\r\n        waitForFrame,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue, { Glue42 } from \"@glue42/desktop\";\r\nimport GlueWeb, { Glue42Web } from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\n// import GlueWebPlatform from \"@glue42/web-platform\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider glueFactory={(config: any) => {\r\n\r\n      // const layouts = {\r\n      //   mode: \"session\",\r\n      //   local: [\r\n      //     { \"name\": \"example2\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\", \"title\": \"asd\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     { \"name\": \"not-example\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     {\r\n      //       \"name\": \"asd\",\r\n      //       \"type\": \"Workspace\",\r\n      //       \"metadata\": {},\r\n      //       \"components\": [\r\n      //         {\r\n      //           \"type\": \"Workspace\",\r\n      //           \"state\": {\r\n      //             \"config\": {\r\n      //               \"name\": \"asd\",\r\n      //               \"title\": \"Untitled 1\"\r\n      //             },\r\n      //             \"context\": null,\r\n      //             \"children\": [\r\n      //               {\r\n      //                 \"type\": \"column\",\r\n      //                 \"config\": {},\r\n      //                 \"children\": [\r\n      //                   {\r\n      //                     \"type\": \"group\",\r\n      //                     \"config\": {},\r\n      //                     \"children\": [\r\n      //                       {\r\n      //                         \"type\": \"window\",\r\n      //                         \"config\": {\r\n      //                           \"appName\": \"SimpleOne\"\r\n      //                         }\r\n      //                       }\r\n      //                     ]\r\n      //                   }\r\n      //                 ]\r\n      //               }\r\n      //             ]\r\n      //           }\r\n      //         }\r\n      //       ]\r\n      //     }\r\n      //   ]\r\n      // };\r\n\r\n      // const applications = {\r\n      //   local: [\r\n      //     {\r\n      //       name: \"SimpleOne\",\r\n      //       type: \"window\",\r\n      //       title: \"maybe\",\r\n      //       details: {\r\n      //         url: \"http://localhost:9200/\"\r\n      //       },\r\n      //       customProperties: {\r\n      //         includeInWorkspaces: true\r\n      //       }\r\n      //     }\r\n      //   ]\r\n      // }\r\n\r\n      // const platformConfig = {\r\n      //   glue: {\r\n      //     libraries: [GlueWorkspaces],\r\n      //     systemLogger: { level: \"trace\" }\r\n      //   },\r\n      //   applications,\r\n      //   layouts,\r\n      //   workspaces: {\r\n      //     src: \"/\",\r\n      //     isFrame: true\r\n      //   }\r\n      // };\r\n\r\n      // return GlueWebPlatform(platformConfig as any).then((data) => data.glue) as any;\r\n\r\n      return window.glue42gd ?\r\n        Glue(Object.assign(config, { libraries: [GlueWorkspaces], appManager: \"skipIcons\" }) as Glue42.Config) :\r\n        GlueWeb(Object.assign(config, { libraries: [GlueWorkspaces] }) as Glue42Web.Config) as any\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}